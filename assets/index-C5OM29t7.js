(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uO={exports:{}},Om={},cO={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),XU=Symbol.for("react.portal"),QU=Symbol.for("react.fragment"),ZU=Symbol.for("react.strict_mode"),ej=Symbol.for("react.profiler"),tj=Symbol.for("react.provider"),nj=Symbol.for("react.context"),rj=Symbol.for("react.forward_ref"),ij=Symbol.for("react.suspense"),oj=Symbol.for("react.memo"),sj=Symbol.for("react.lazy"),uS=Symbol.iterator;function aj(t){return t===null||typeof t!="object"?null:(t=uS&&t[uS]||t["@@iterator"],typeof t=="function"?t:null)}var dO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fO=Object.assign,hO={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=hO,this.updater=n||dO}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pO(){}pO.prototype=Ul.prototype;function ab(t,e,n){this.props=t,this.context=e,this.refs=hO,this.updater=n||dO}var lb=ab.prototype=new pO;lb.constructor=ab;fO(lb,Ul.prototype);lb.isPureReactComponent=!0;var cS=Array.isArray,mO=Object.prototype.hasOwnProperty,ub={current:null},gO={key:!0,ref:!0,__self:!0,__source:!0};function yO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)mO.call(e,r)&&!gO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fd,type:t,key:o,ref:s,props:i,_owner:ub.current}}function lj(t,e){return{$$typeof:Fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function uj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dS=/\/+/g;function Ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uj(""+t.key):e.toString(36)}function mh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fd:case XU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ry(s,0):r,cS(i)?(n="",t!=null&&(n=t.replace(dS,"$&/")+"/"),mh(i,e,n,"",function(u){return u})):i!=null&&(cb(i)&&(i=lj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",cS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ry(o,a);s+=mh(o,e,n,l,i)}else if(l=aj(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ry(o,a++),s+=mh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function If(t,e,n){if(t==null)return t;var r=[],i=0;return mh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},gh={transition:null},dj={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:gh,ReactCurrentOwner:ub};function vO(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:If,forEach:function(t,e,n){If(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return If(t,function(){e++}),e},toArray:function(t){return If(t,function(e){return e})||[]},only:function(t){if(!cb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ul;Ie.Fragment=QU;Ie.Profiler=ej;Ie.PureComponent=ab;Ie.StrictMode=ZU;Ie.Suspense=ij;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dj;Ie.act=vO;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fO({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ub.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mO.call(e,l)&&!gO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fd,type:t.type,key:i,ref:o,props:r,_owner:s}};Ie.createContext=function(t){return t={$$typeof:nj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tj,_context:t},t.Consumer=t};Ie.createElement=yO;Ie.createFactory=function(t){var e=yO.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:rj,render:t}};Ie.isValidElement=cb;Ie.lazy=function(t){return{$$typeof:sj,_payload:{_status:-1,_result:t},_init:cj}};Ie.memo=function(t,e){return{$$typeof:oj,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=gh.transition;gh.transition={};try{t()}finally{gh.transition=e}};Ie.unstable_act=vO;Ie.useCallback=function(t,e){return An.current.useCallback(t,e)};Ie.useContext=function(t){return An.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return An.current.useEffect(t,e)};Ie.useId=function(){return An.current.useId()};Ie.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return An.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Ie.useRef=function(t){return An.current.useRef(t)};Ie.useState=function(t){return An.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return An.current.useTransition()};Ie.version="18.3.1";cO.exports=Ie;var $=cO.exports;const F=Je($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj=$,hj=Symbol.for("react.element"),pj=Symbol.for("react.fragment"),mj=Object.prototype.hasOwnProperty,gj=fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yj={key:!0,ref:!0,__self:!0,__source:!0};function _O(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)mj.call(e,r)&&!yj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hj,type:t,key:o,ref:s,props:i,_owner:gj.current}}Om.Fragment=pj;Om.jsx=_O;Om.jsxs=_O;uO.exports=Om;var _=uO.exports,t0={},wO={exports:{}},Xn={},bO={exports:{}},xO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,W){var J=U.length;U.push(W);e:for(;0<J;){var ie=J-1>>>1,ee=U[ie];if(0<i(ee,W))U[ie]=W,U[J]=ee,J=ie;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],J=U.pop();if(J!==W){U[0]=J;e:for(var ie=0,ee=U.length,ae=ee>>>1;ie<ae;){var Se=2*(ie+1)-1,De=U[Se],et=Se+1,xt=U[et];if(0>i(De,J))et<ee&&0>i(xt,De)?(U[ie]=xt,U[et]=J,ie=et):(U[ie]=De,U[Se]=J,ie=Se);else if(et<ee&&0>i(xt,J))U[ie]=xt,U[et]=J,ie=et;else break e}}return W}function i(U,W){var J=U.sortIndex-W.sortIndex;return J!==0?J:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=U)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function P(U){if(w=!1,S(U),!y)if(n(l)!==null)y=!0,K(E);else{var W=n(u);W!==null&&X(P,W.startTime-U)}}function E(U,W){y=!1,w&&(w=!1,b(I),I=-1),g=!0;var J=h;try{for(S(W),d=n(l);d!==null&&(!(d.expirationTime>W)||U&&!k());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var ee=ie(d.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),S(W)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var Se=n(u);Se!==null&&X(P,Se.startTime-W),ae=!1}return ae}finally{d=null,h=J,g=!1}}var C=!1,T=null,I=-1,R=5,O=-1;function k(){return!(t.unstable_now()-O<R)}function M(){if(T!==null){var U=t.unstable_now();O=U;var W=!0;try{W=T(!0,U)}finally{W?D():(C=!1,T=null)}}else C=!1}var D;if(typeof x=="function")D=function(){x(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,z=j.port2;j.port1.onmessage=M,D=function(){z.postMessage(null)}}else D=function(){v(M,0)};function K(U){T=U,C||(C=!0,D())}function X(U,W){I=v(function(){U(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,K(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var J=h;h=W;try{return U()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=h;h=U;try{return W()}finally{h=J}},t.unstable_scheduleCallback=function(U,W,J){var ie=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ie+J:ie):J=ie,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,U={id:c++,callback:W,priorityLevel:U,startTime:J,expirationTime:ee,sortIndex:-1},J>ie?(U.sortIndex=J,e(u,U),n(l)===null&&U===n(u)&&(w?(b(I),I=-1):w=!0,X(P,J-ie))):(U.sortIndex=ee,e(l,U),y||g||(y=!0,K(E))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var W=h;return function(){var J=h;h=W;try{return U.apply(this,arguments)}finally{h=J}}}})(xO);bO.exports=xO;var vj=bO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j=$,Jn=vj;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EO=new Set,Tc={};function Ks(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(Tc[t]=e,t=0;t<e.length;t++)EO.add(e[t])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n0=Object.prototype.hasOwnProperty,wj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fS={},hS={};function bj(t){return n0.call(hS,t)?!0:n0.call(fS,t)?!1:wj.test(t)?hS[t]=!0:(fS[t]=!0,!1)}function xj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ej(t,e,n,r){if(e===null||typeof e>"u"||xj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var db=/[\-:]([a-z])/g;function fb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(db,fb);en[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(db,fb);en[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(db,fb);en[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function hb(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ej(e,n,i,r)&&(n=null),r||i===null?bj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gi=_j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cf=Symbol.for("react.element"),xa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),TO=Symbol.for("react.provider"),SO=Symbol.for("react.context"),mb=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),o0=Symbol.for("react.suspense_list"),gb=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),AO=Symbol.for("react.offscreen"),pS=Symbol.iterator;function Su(t){return t===null||typeof t!="object"?null:(t=pS&&t[pS]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Ny;function Wu(t){if(Ny===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ny=e&&e[1]||""}return`
`+Ny+t}var Oy=!1;function ky(t,e){if(!t||Oy)return"";Oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wu(t):""}function Tj(t){switch(t.tag){case 5:return Wu(t.type);case 16:return Wu("Lazy");case 13:return Wu("Suspense");case 19:return Wu("SuspenseList");case 0:case 2:case 15:return t=ky(t.type,!1),t;case 11:return t=ky(t.type.render,!1),t;case 1:return t=ky(t.type,!0),t;default:return""}}function s0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case xa:return"Portal";case r0:return"Profiler";case pb:return"StrictMode";case i0:return"Suspense";case o0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SO:return(t.displayName||"Context")+".Consumer";case TO:return(t._context.displayName||"Context")+".Provider";case mb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gb:return e=t.displayName||null,e!==null?e:s0(t.type)||"Memo";case oo:e=t._payload,t=t._init;try{return s0(t(e))}catch{}}return null}function Sj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(e);case 8:return e===pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Aj(t){var e=IO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pf(t){t._valueTracker||(t._valueTracker=Aj(t))}function CO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function a0(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PO(t,e){e=e.checked,e!=null&&hb(t,"checked",e,!1)}function l0(t,e){PO(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?u0(t,e.type,n):e.hasOwnProperty("defaultValue")&&u0(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function u0(t,e,n){(e!=="number"||Vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ku=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function c0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Ku(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function RO(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rf,OO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rf=Rf||document.createElement("div"),Rf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ij=["Webkit","ms","Moz","O"];Object.keys(oc).forEach(function(t){Ij.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oc[e]=oc[t]})});function kO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oc.hasOwnProperty(t)&&oc[t]?(""+e).trim():e+"px"}function MO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Cj=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f0(t,e){if(e){if(Cj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function h0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function yb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var m0=null,Ba=null,za=null;function _S(t){if(t=jd(t)){if(typeof m0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=$m(e),m0(t.stateNode,t.type,e))}}function DO(t){Ba?za?za.push(t):za=[t]:Ba=t}function LO(){if(Ba){var t=Ba,e=za;if(za=Ba=null,_S(t),e)for(t=0;t<e.length;t++)_S(e[t])}}function $O(t,e){return t(e)}function FO(){}var My=!1;function VO(t,e,n){if(My)return t(e,n);My=!0;try{return $O(t,e,n)}finally{My=!1,(Ba!==null||za!==null)&&(FO(),LO())}}function Ac(t,e){var n=t.stateNode;if(n===null)return null;var r=$m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var g0=!1;if(Ri)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){g0=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{g0=!1}function Pj(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var sc=!1,Uh=null,jh=!1,y0=null,Rj={onError:function(t){sc=!0,Uh=t}};function Nj(t,e,n,r,i,o,s,a,l){sc=!1,Uh=null,Pj.apply(Rj,arguments)}function Oj(t,e,n,r,i,o,s,a,l){if(Nj.apply(this,arguments),sc){if(sc){var u=Uh;sc=!1,Uh=null}else throw Error(te(198));jh||(jh=!0,y0=u)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wS(t){if(Js(t)!==t)throw Error(te(188))}function kj(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return wS(i),t;if(o===r)return wS(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function jO(t){return t=kj(t),t!==null?BO(t):null}function BO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BO(t);if(e!==null)return e;t=t.sibling}return null}var zO=Jn.unstable_scheduleCallback,bS=Jn.unstable_cancelCallback,Mj=Jn.unstable_shouldYield,Dj=Jn.unstable_requestPaint,bt=Jn.unstable_now,Lj=Jn.unstable_getCurrentPriorityLevel,vb=Jn.unstable_ImmediatePriority,GO=Jn.unstable_UserBlockingPriority,Bh=Jn.unstable_NormalPriority,$j=Jn.unstable_LowPriority,qO=Jn.unstable_IdlePriority,km=null,Jr=null;function Fj(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:jj,Vj=Math.log,Uj=Math.LN2;function jj(t){return t>>>=0,t===0?32:31-(Vj(t)/Uj|0)|0}var Nf=64,Of=4194304;function Ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ju(a):(o&=s,o!==0&&(r=Ju(o)))}else s=n&~i,s!==0?r=Ju(s):o!==0&&(r=Ju(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function Bj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Rr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Bj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function v0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HO(){var t=Nf;return Nf<<=1,!(Nf&4194240)&&(Nf=64),t}function Dy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function Gj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function _b(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function WO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KO,wb,JO,YO,XO,_0=!1,kf=[],bo=null,xo=null,Eo=null,Ic=new Map,Cc=new Map,lo=[],qj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xS(t,e){switch(t){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":Ic.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(e.pointerId)}}function Iu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=jd(e),e!==null&&wb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Hj(t,e,n,r,i){switch(e){case"focusin":return bo=Iu(bo,t,e,n,r,i),!0;case"dragenter":return xo=Iu(xo,t,e,n,r,i),!0;case"mouseover":return Eo=Iu(Eo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ic.set(o,Iu(Ic.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Cc.set(o,Iu(Cc.get(o)||null,t,e,n,r,i)),!0}return!1}function QO(t){var e=ps(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=UO(n),e!==null){t.blockedOn=e,XO(t.priority,function(){JO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=w0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);p0=r,n.target.dispatchEvent(r),p0=null}else return e=jd(n),e!==null&&wb(e),t.blockedOn=n,!1;e.shift()}return!0}function ES(t,e,n){yh(t)&&n.delete(e)}function Wj(){_0=!1,bo!==null&&yh(bo)&&(bo=null),xo!==null&&yh(xo)&&(xo=null),Eo!==null&&yh(Eo)&&(Eo=null),Ic.forEach(ES),Cc.forEach(ES)}function Cu(t,e){t.blockedOn===e&&(t.blockedOn=null,_0||(_0=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,Wj)))}function Pc(t){function e(i){return Cu(i,t)}if(0<kf.length){Cu(kf[0],t);for(var n=1;n<kf.length;n++){var r=kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bo!==null&&Cu(bo,t),xo!==null&&Cu(xo,t),Eo!==null&&Cu(Eo,t),Ic.forEach(e),Cc.forEach(e),n=0;n<lo.length;n++)r=lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lo.length&&(n=lo[0],n.blockedOn===null);)QO(n),n.blockedOn===null&&lo.shift()}var Ga=Gi.ReactCurrentBatchConfig,Gh=!0;function Kj(t,e,n,r){var i=Be,o=Ga.transition;Ga.transition=null;try{Be=1,bb(t,e,n,r)}finally{Be=i,Ga.transition=o}}function Jj(t,e,n,r){var i=Be,o=Ga.transition;Ga.transition=null;try{Be=4,bb(t,e,n,r)}finally{Be=i,Ga.transition=o}}function bb(t,e,n,r){if(Gh){var i=w0(t,e,n,r);if(i===null)qy(t,e,r,qh,n),xS(t,r);else if(Hj(i,t,e,n,r))r.stopPropagation();else if(xS(t,r),e&4&&-1<qj.indexOf(t)){for(;i!==null;){var o=jd(i);if(o!==null&&KO(o),o=w0(t,e,n,r),o===null&&qy(t,e,r,qh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qy(t,e,r,null,n)}}var qh=null;function w0(t,e,n,r){if(qh=null,t=yb(r),t=ps(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qh=t,null}function ZO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lj()){case vb:return 1;case GO:return 4;case Bh:case $j:return 16;case qO:return 536870912;default:return 16}default:return 16}}var go=null,xb=null,vh=null;function ek(){if(vh)return vh;var t,e=xb,n=e.length,r,i="value"in go?go.value:go.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return vh=i.slice(t,1<r?1-r:void 0)}function _h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mf(){return!0}function TS(){return!1}function Qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mf:TS,this.isPropagationStopped=TS,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),e}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eb=Qn(jl),Ud=ht({},jl,{view:0,detail:0}),Yj=Qn(Ud),Ly,$y,Pu,Mm=ht({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pu&&(Pu&&t.type==="mousemove"?(Ly=t.screenX-Pu.screenX,$y=t.screenY-Pu.screenY):$y=Ly=0,Pu=t),Ly)},movementY:function(t){return"movementY"in t?t.movementY:$y}}),SS=Qn(Mm),Xj=ht({},Mm,{dataTransfer:0}),Qj=Qn(Xj),Zj=ht({},Ud,{relatedTarget:0}),Fy=Qn(Zj),eB=ht({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),tB=Qn(eB),nB=ht({},jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rB=Qn(nB),iB=ht({},jl,{data:0}),AS=Qn(iB),oB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aB[t])?!!e[t]:!1}function Tb(){return lB}var uB=ht({},Ud,{key:function(t){if(t.key){var e=oB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tb,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cB=Qn(uB),dB=ht({},Mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IS=Qn(dB),fB=ht({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tb}),hB=Qn(fB),pB=ht({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mB=Qn(pB),gB=ht({},Mm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yB=Qn(gB),vB=[9,13,27,32],Sb=Ri&&"CompositionEvent"in window,ac=null;Ri&&"documentMode"in document&&(ac=document.documentMode);var _B=Ri&&"TextEvent"in window&&!ac,tk=Ri&&(!Sb||ac&&8<ac&&11>=ac),CS=" ",PS=!1;function nk(t,e){switch(t){case"keyup":return vB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function wB(t,e){switch(t){case"compositionend":return rk(e);case"keypress":return e.which!==32?null:(PS=!0,CS);case"textInput":return t=e.data,t===CS&&PS?null:t;default:return null}}function bB(t,e){if(Ta)return t==="compositionend"||!Sb&&nk(t,e)?(t=ek(),vh=xb=go=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tk&&e.locale!=="ko"?null:e.data;default:return null}}var xB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xB[t.type]:e==="textarea"}function ik(t,e,n,r){DO(r),e=Hh(e,"onChange"),0<e.length&&(n=new Eb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lc=null,Rc=null;function EB(t){mk(t,0)}function Dm(t){var e=Ia(t);if(CO(e))return t}function TB(t,e){if(t==="change")return e}var ok=!1;if(Ri){var Vy;if(Ri){var Uy="oninput"in document;if(!Uy){var NS=document.createElement("div");NS.setAttribute("oninput","return;"),Uy=typeof NS.oninput=="function"}Vy=Uy}else Vy=!1;ok=Vy&&(!document.documentMode||9<document.documentMode)}function OS(){lc&&(lc.detachEvent("onpropertychange",sk),Rc=lc=null)}function sk(t){if(t.propertyName==="value"&&Dm(Rc)){var e=[];ik(e,Rc,t,yb(t)),VO(EB,e)}}function SB(t,e,n){t==="focusin"?(OS(),lc=e,Rc=n,lc.attachEvent("onpropertychange",sk)):t==="focusout"&&OS()}function AB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(Rc)}function IB(t,e){if(t==="click")return Dm(e)}function CB(t,e){if(t==="input"||t==="change")return Dm(e)}function PB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:PB;function Nc(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!n0.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function kS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MS(t,e){var n=kS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kS(n)}}function ak(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ak(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lk(){for(var t=window,e=Vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vh(t.document)}return e}function Ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RB(t){var e=lk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ak(n.ownerDocument.documentElement,n)){if(r!==null&&Ab(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=MS(n,o);var s=MS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NB=Ri&&"documentMode"in document&&11>=document.documentMode,Sa=null,b0=null,uc=null,x0=!1;function DS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;x0||Sa==null||Sa!==Vh(r)||(r=Sa,"selectionStart"in r&&Ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uc&&Nc(uc,r)||(uc=r,r=Hh(b0,"onSelect"),0<r.length&&(e=new Eb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sa)))}function Df(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Aa={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},jy={},uk={};Ri&&(uk=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Lm(t){if(jy[t])return jy[t];if(!Aa[t])return t;var e=Aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uk)return jy[t]=e[n];return t}var ck=Lm("animationend"),dk=Lm("animationiteration"),fk=Lm("animationstart"),hk=Lm("transitionend"),pk=new Map,LS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){pk.set(t,e),Ks(e,[t])}for(var By=0;By<LS.length;By++){var zy=LS[By],OB=zy.toLowerCase(),kB=zy[0].toUpperCase()+zy.slice(1);Fo(OB,"on"+kB)}Fo(ck,"onAnimationEnd");Fo(dk,"onAnimationIteration");Fo(fk,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(hk,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function $S(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Oj(r,e,void 0,t),t.currentTarget=null}function mk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;$S(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;$S(i,a,u),o=l}}}if(jh)throw t=y0,jh=!1,y0=null,t}function it(t,e){var n=e[I0];n===void 0&&(n=e[I0]=new Set);var r=t+"__bubble";n.has(r)||(gk(e,t,2,!1),n.add(r))}function Gy(t,e,n){var r=0;e&&(r|=4),gk(n,t,r,e)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[Lf]){t[Lf]=!0,EO.forEach(function(n){n!=="selectionchange"&&(MB.has(n)||Gy(n,!1,t),Gy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lf]||(e[Lf]=!0,Gy("selectionchange",!1,e))}}function gk(t,e,n,r){switch(ZO(e)){case 1:var i=Kj;break;case 4:i=Jj;break;default:i=bb}n=i.bind(null,e,n,t),i=void 0,!g0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ps(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}VO(function(){var u=o,c=yb(n),d=[];e:{var h=pk.get(t);if(h!==void 0){var g=Eb,y=t;switch(t){case"keypress":if(_h(n)===0)break e;case"keydown":case"keyup":g=cB;break;case"focusin":y="focus",g=Fy;break;case"focusout":y="blur",g=Fy;break;case"beforeblur":case"afterblur":g=Fy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=SS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hB;break;case ck:case dk:case fk:g=tB;break;case hk:g=mB;break;case"scroll":g=Yj;break;case"wheel":g=yB;break;case"copy":case"cut":case"paste":g=rB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=IS}var w=(e&4)!==0,v=!w&&t==="scroll",b=w?h!==null?h+"Capture":null:h;w=[];for(var x=u,S;x!==null;){S=x;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,b!==null&&(P=Ac(x,b),P!=null&&w.push(kc(x,P,S)))),v)break;x=x.return}0<w.length&&(h=new g(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==p0&&(y=n.relatedTarget||n.fromElement)&&(ps(y)||y[Ni]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?ps(y):null,y!==null&&(v=Js(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=SS,P="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=IS,P="onPointerLeave",b="onPointerEnter",x="pointer"),v=g==null?h:Ia(g),S=y==null?h:Ia(y),h=new w(P,x+"leave",g,n,c),h.target=v,h.relatedTarget=S,P=null,ps(c)===u&&(w=new w(b,x+"enter",y,n,c),w.target=S,w.relatedTarget=v,P=w),v=P,g&&y)t:{for(w=g,b=y,x=0,S=w;S;S=fa(S))x++;for(S=0,P=b;P;P=fa(P))S++;for(;0<x-S;)w=fa(w),x--;for(;0<S-x;)b=fa(b),S--;for(;x--;){if(w===b||b!==null&&w===b.alternate)break t;w=fa(w),b=fa(b)}w=null}else w=null;g!==null&&FS(d,h,g,w,!1),y!==null&&v!==null&&FS(d,v,y,w,!0)}}e:{if(h=u?Ia(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=TB;else if(RS(h))if(ok)E=CB;else{E=AB;var C=SB}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=IB);if(E&&(E=E(t,u))){ik(d,E,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&u0(h,"number",h.value)}switch(C=u?Ia(u):window,t){case"focusin":(RS(C)||C.contentEditable==="true")&&(Sa=C,b0=u,uc=null);break;case"focusout":uc=b0=Sa=null;break;case"mousedown":x0=!0;break;case"contextmenu":case"mouseup":case"dragend":x0=!1,DS(d,n,c);break;case"selectionchange":if(NB)break;case"keydown":case"keyup":DS(d,n,c)}var T;if(Sb)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ta?nk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(tk&&n.locale!=="ko"&&(Ta||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ta&&(T=ek()):(go=c,xb="value"in go?go.value:go.textContent,Ta=!0)),C=Hh(u,I),0<C.length&&(I=new AS(I,t,null,n,c),d.push({event:I,listeners:C}),T?I.data=T:(T=rk(n),T!==null&&(I.data=T)))),(T=_B?wB(t,n):bB(t,n))&&(u=Hh(u,"onBeforeInput"),0<u.length&&(c=new AS("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}mk(d,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ac(t,n),o!=null&&r.unshift(kc(t,o,i)),o=Ac(t,e),o!=null&&r.push(kc(t,o,i))),t=t.return}return r}function fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ac(n,o),l!=null&&s.unshift(kc(n,l,a))):i||(l=Ac(n,o),l!=null&&s.push(kc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var DB=/\r\n?/g,LB=/\u0000|\uFFFD/g;function VS(t){return(typeof t=="string"?t:""+t).replace(DB,`
`).replace(LB,"")}function $f(t,e,n){if(e=VS(e),VS(t)!==e&&n)throw Error(te(425))}function Wh(){}var E0=null,T0=null;function S0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A0=typeof setTimeout=="function"?setTimeout:void 0,$B=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,FB=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(t){return US.resolve(null).then(t).catch(VB)}:A0;function VB(t){setTimeout(function(){throw t})}function Hy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pc(e)}function To(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),qr="__reactFiber$"+Bl,Mc="__reactProps$"+Bl,Ni="__reactContainer$"+Bl,I0="__reactEvents$"+Bl,UB="__reactListeners$"+Bl,jB="__reactHandles$"+Bl;function ps(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jS(t);t!==null;){if(n=t[qr])return n;t=jS(t)}return e}t=n,n=t.parentNode}return null}function jd(t){return t=t[qr]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function $m(t){return t[Mc]||null}var C0=[],Ca=-1;function Vo(t){return{current:t}}function at(t){0>Ca||(t.current=C0[Ca],C0[Ca]=null,Ca--)}function Ze(t,e){Ca++,C0[Ca]=t.current,t.current=e}var Mo={},vn=Vo(Mo),Ln=Vo(!1),Ns=Mo;function ol(t,e){var n=t.type.contextTypes;if(!n)return Mo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $n(t){return t=t.childContextTypes,t!=null}function Kh(){at(Ln),at(vn)}function BS(t,e,n){if(vn.current!==Mo)throw Error(te(168));Ze(vn,e),Ze(Ln,n)}function yk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,Sj(t)||"Unknown",i));return ht({},n,r)}function Jh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mo,Ns=vn.current,Ze(vn,t),Ze(Ln,Ln.current),!0}function zS(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=yk(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,at(Ln),at(vn),Ze(vn,t)):at(Ln),Ze(Ln,n)}var pi=null,Fm=!1,Wy=!1;function vk(t){pi===null?pi=[t]:pi.push(t)}function BB(t){Fm=!0,vk(t)}function Uo(){if(!Wy&&pi!==null){Wy=!0;var t=0,e=Be;try{var n=pi;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,Fm=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),zO(vb,Uo),i}finally{Be=e,Wy=!1}}return null}var Pa=[],Ra=0,Yh=null,Xh=0,or=[],sr=0,Os=null,mi=1,gi="";function os(t,e){Pa[Ra++]=Xh,Pa[Ra++]=Yh,Yh=t,Xh=e}function _k(t,e,n){or[sr++]=mi,or[sr++]=gi,or[sr++]=Os,Os=t;var r=mi;t=gi;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var o=32-Rr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mi=1<<32-Rr(e)+i|n<<i|r,gi=o+t}else mi=1<<o|n<<i|r,gi=t}function Ib(t){t.return!==null&&(os(t,1),_k(t,1,0))}function Cb(t){for(;t===Yh;)Yh=Pa[--Ra],Pa[Ra]=null,Xh=Pa[--Ra],Pa[Ra]=null;for(;t===Os;)Os=or[--sr],or[sr]=null,gi=or[--sr],or[sr]=null,mi=or[--sr],or[sr]=null}var Kn=null,Hn=null,lt=!1,Ir=null;function wk(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=To(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function P0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R0(t){if(lt){var e=Hn;if(e){var n=e;if(!GS(t,e)){if(P0(t))throw Error(te(418));e=To(n.nextSibling);var r=Kn;e&&GS(t,e)?wk(r,n):(t.flags=t.flags&-4097|2,lt=!1,Kn=t)}}else{if(P0(t))throw Error(te(418));t.flags=t.flags&-4097|2,lt=!1,Kn=t}}}function qS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Ff(t){if(t!==Kn)return!1;if(!lt)return qS(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!S0(t.type,t.memoizedProps)),e&&(e=Hn)){if(P0(t))throw bk(),Error(te(418));for(;e;)wk(t,e),e=To(e.nextSibling)}if(qS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=To(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?To(t.stateNode.nextSibling):null;return!0}function bk(){for(var t=Hn;t;)t=To(t.nextSibling)}function sl(){Hn=Kn=null,lt=!1}function Pb(t){Ir===null?Ir=[t]:Ir.push(t)}var zB=Gi.ReactCurrentBatchConfig;function Ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HS(t){var e=t._init;return e(t._payload)}function xk(t){function e(b,x){if(t){var S=b.deletions;S===null?(b.deletions=[x],b.flags|=16):S.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=Co(b,x),b.index=0,b.sibling=null,b}function o(b,x,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<x?(b.flags|=2,x):S):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,x,S,P){return x===null||x.tag!==6?(x=ev(S,b.mode,P),x.return=b,x):(x=i(x,S),x.return=b,x)}function l(b,x,S,P){var E=S.type;return E===Ea?c(b,x,S.props.children,P,S.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===oo&&HS(E)===x.type)?(P=i(x,S.props),P.ref=Ru(b,x,S),P.return=b,P):(P=Ah(S.type,S.key,S.props,null,b.mode,P),P.ref=Ru(b,x,S),P.return=b,P)}function u(b,x,S,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=tv(S,b.mode,P),x.return=b,x):(x=i(x,S.children||[]),x.return=b,x)}function c(b,x,S,P,E){return x===null||x.tag!==7?(x=As(S,b.mode,P,E),x.return=b,x):(x=i(x,S),x.return=b,x)}function d(b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ev(""+x,b.mode,S),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cf:return S=Ah(x.type,x.key,x.props,null,b.mode,S),S.ref=Ru(b,null,x),S.return=b,S;case xa:return x=tv(x,b.mode,S),x.return=b,x;case oo:var P=x._init;return d(b,P(x._payload),S)}if(Ku(x)||Su(x))return x=As(x,b.mode,S,null),x.return=b,x;Vf(b,x)}return null}function h(b,x,S,P){var E=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(b,x,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cf:return S.key===E?l(b,x,S,P):null;case xa:return S.key===E?u(b,x,S,P):null;case oo:return E=S._init,h(b,x,E(S._payload),P)}if(Ku(S)||Su(S))return E!==null?null:c(b,x,S,P,null);Vf(b,S)}return null}function g(b,x,S,P,E){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(S)||null,a(x,b,""+P,E);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Cf:return b=b.get(P.key===null?S:P.key)||null,l(x,b,P,E);case xa:return b=b.get(P.key===null?S:P.key)||null,u(x,b,P,E);case oo:var C=P._init;return g(b,x,S,C(P._payload),E)}if(Ku(P)||Su(P))return b=b.get(S)||null,c(x,b,P,E,null);Vf(x,P)}return null}function y(b,x,S,P){for(var E=null,C=null,T=x,I=x=0,R=null;T!==null&&I<S.length;I++){T.index>I?(R=T,T=null):R=T.sibling;var O=h(b,T,S[I],P);if(O===null){T===null&&(T=R);break}t&&T&&O.alternate===null&&e(b,T),x=o(O,x,I),C===null?E=O:C.sibling=O,C=O,T=R}if(I===S.length)return n(b,T),lt&&os(b,I),E;if(T===null){for(;I<S.length;I++)T=d(b,S[I],P),T!==null&&(x=o(T,x,I),C===null?E=T:C.sibling=T,C=T);return lt&&os(b,I),E}for(T=r(b,T);I<S.length;I++)R=g(T,b,I,S[I],P),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?I:R.key),x=o(R,x,I),C===null?E=R:C.sibling=R,C=R);return t&&T.forEach(function(k){return e(b,k)}),lt&&os(b,I),E}function w(b,x,S,P){var E=Su(S);if(typeof E!="function")throw Error(te(150));if(S=E.call(S),S==null)throw Error(te(151));for(var C=E=null,T=x,I=x=0,R=null,O=S.next();T!==null&&!O.done;I++,O=S.next()){T.index>I?(R=T,T=null):R=T.sibling;var k=h(b,T,O.value,P);if(k===null){T===null&&(T=R);break}t&&T&&k.alternate===null&&e(b,T),x=o(k,x,I),C===null?E=k:C.sibling=k,C=k,T=R}if(O.done)return n(b,T),lt&&os(b,I),E;if(T===null){for(;!O.done;I++,O=S.next())O=d(b,O.value,P),O!==null&&(x=o(O,x,I),C===null?E=O:C.sibling=O,C=O);return lt&&os(b,I),E}for(T=r(b,T);!O.done;I++,O=S.next())O=g(T,b,I,O.value,P),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?I:O.key),x=o(O,x,I),C===null?E=O:C.sibling=O,C=O);return t&&T.forEach(function(M){return e(b,M)}),lt&&os(b,I),E}function v(b,x,S,P){if(typeof S=="object"&&S!==null&&S.type===Ea&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cf:e:{for(var E=S.key,C=x;C!==null;){if(C.key===E){if(E=S.type,E===Ea){if(C.tag===7){n(b,C.sibling),x=i(C,S.props.children),x.return=b,b=x;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===oo&&HS(E)===C.type){n(b,C.sibling),x=i(C,S.props),x.ref=Ru(b,C,S),x.return=b,b=x;break e}n(b,C);break}else e(b,C);C=C.sibling}S.type===Ea?(x=As(S.props.children,b.mode,P,S.key),x.return=b,b=x):(P=Ah(S.type,S.key,S.props,null,b.mode,P),P.ref=Ru(b,x,S),P.return=b,b=P)}return s(b);case xa:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(b,x.sibling),x=i(x,S.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=tv(S,b.mode,P),x.return=b,b=x}return s(b);case oo:return C=S._init,v(b,x,C(S._payload),P)}if(Ku(S))return y(b,x,S,P);if(Su(S))return w(b,x,S,P);Vf(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,S),x.return=b,b=x):(n(b,x),x=ev(S,b.mode,P),x.return=b,b=x),s(b)):n(b,x)}return v}var al=xk(!0),Ek=xk(!1),Qh=Vo(null),Zh=null,Na=null,Rb=null;function Nb(){Rb=Na=Zh=null}function Ob(t){var e=Qh.current;at(Qh),t._currentValue=e}function N0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qa(t,e){Zh=t,Rb=Na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(Rb!==t)if(t={context:t,memoizedValue:e,next:null},Na===null){if(Zh===null)throw Error(te(308));Na=t,Zh.dependencies={lanes:0,firstContext:t}}else Na=Na.next=t;return e}var ms=null;function kb(t){ms===null?ms=[t]:ms.push(t)}function Tk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oi(t,r)}function Oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var so=!1;function Mb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function So(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oi(t,n)}return i=r.interleaved,i===null?(e.next=e,kb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oi(t,n)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_b(t,n)}}function WS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ep(t,e,n,r){var i=t.updateQueue;so=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=ht({},d,h);break e;case 2:so=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ms|=s,t.lanes=s,t.memoizedState=d}}function KS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Bd={},Yr=Vo(Bd),Dc=Vo(Bd),Lc=Vo(Bd);function gs(t){if(t===Bd)throw Error(te(174));return t}function Db(t,e){switch(Ze(Lc,e),Ze(Dc,t),Ze(Yr,Bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:d0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=d0(e,t)}at(Yr),Ze(Yr,e)}function ll(){at(Yr),at(Dc),at(Lc)}function Ak(t){gs(Lc.current);var e=gs(Yr.current),n=d0(e,t.type);e!==n&&(Ze(Dc,t),Ze(Yr,n))}function Lb(t){Dc.current===t&&(at(Yr),at(Dc))}var ct=Vo(0);function tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ky=[];function $b(){for(var t=0;t<Ky.length;t++)Ky[t]._workInProgressVersionPrimary=null;Ky.length=0}var bh=Gi.ReactCurrentDispatcher,Jy=Gi.ReactCurrentBatchConfig,ks=0,ft=null,Ot=null,jt=null,np=!1,cc=!1,$c=0,GB=0;function sn(){throw Error(te(321))}function Fb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function Vb(t,e,n,r,i,o){if(ks=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bh.current=t===null||t.memoizedState===null?KB:JB,t=n(r,i),cc){o=0;do{if(cc=!1,$c=0,25<=o)throw Error(te(301));o+=1,jt=Ot=null,e.updateQueue=null,bh.current=YB,t=n(r,i)}while(cc)}if(bh.current=rp,e=Ot!==null&&Ot.next!==null,ks=0,jt=Ot=ft=null,np=!1,e)throw Error(te(300));return t}function Ub(){var t=$c!==0;return $c=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ft.memoizedState=jt=t:jt=jt.next=t,jt}function gr(){if(Ot===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=jt===null?ft.memoizedState:jt.next;if(e!==null)jt=e,Ot=t;else{if(t===null)throw Error(te(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},jt===null?ft.memoizedState=jt=t:jt=jt.next=t}return jt}function Fc(t,e){return typeof e=="function"?e(t):e}function Yy(t){var e=gr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ks&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ft.lanes|=c,Ms|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Dr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,Ms|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xy(t){var e=gr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(Mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Ik(){}function Ck(t,e){var n=ft,r=gr(),i=e(),o=!Dr(r.memoizedState,i);if(o&&(r.memoizedState=i,Mn=!0),r=r.queue,jb(Nk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Vc(9,Rk.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(te(349));ks&30||Pk(n,e,i)}return i}function Pk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rk(t,e,n,r){e.value=n,e.getSnapshot=r,Ok(e)&&kk(t)}function Nk(t,e,n){return n(function(){Ok(e)&&kk(t)})}function Ok(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function kk(t){var e=Oi(t,1);e!==null&&Nr(e,t,1,-1)}function JS(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:t},e.queue=t,t=t.dispatch=WB.bind(null,ft,t),[e.memoizedState,t]}function Vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mk(){return gr().memoizedState}function xh(t,e,n,r){var i=zr();ft.flags|=t,i.memoizedState=Vc(1|e,n,void 0,r===void 0?null:r)}function Vm(t,e,n,r){var i=gr();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var s=Ot.memoizedState;if(o=s.destroy,r!==null&&Fb(r,s.deps)){i.memoizedState=Vc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Vc(1|e,n,o,r)}function YS(t,e){return xh(8390656,8,t,e)}function jb(t,e){return Vm(2048,8,t,e)}function Dk(t,e){return Vm(4,2,t,e)}function Lk(t,e){return Vm(4,4,t,e)}function $k(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fk(t,e,n){return n=n!=null?n.concat([t]):null,Vm(4,4,$k.bind(null,e,t),n)}function Bb(){}function Vk(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Uk(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jk(t,e,n){return ks&21?(Dr(n,e)||(n=HO(),ft.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function qB(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Jy.transition;Jy.transition={};try{t(!1),e()}finally{Be=n,Jy.transition=r}}function Bk(){return gr().memoizedState}function HB(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zk(t))Gk(e,n);else if(n=Tk(t,e,n,r),n!==null){var i=Tn();Nr(n,t,r,i),qk(n,e,r)}}function WB(t,e,n){var r=Io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zk(t))Gk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,s)){var l=e.interleaved;l===null?(i.next=i,kb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Tk(t,e,i,r),n!==null&&(i=Tn(),Nr(n,t,r,i),qk(n,e,r))}}function zk(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function Gk(t,e){cc=np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_b(t,n)}}var rp={readContext:mr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},KB={readContext:mr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:YS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xh(4194308,4,$k.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return xh(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HB.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:JS,useDebugValue:Bb,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=JS(!1),e=t[0];return t=qB.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=zr();if(lt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),zt===null)throw Error(te(349));ks&30||Pk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,YS(Nk.bind(null,r,o,t),[t]),r.flags|=2048,Vc(9,Rk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zr(),e=zt.identifierPrefix;if(lt){var n=gi,r=mi;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JB={readContext:mr,useCallback:Vk,useContext:mr,useEffect:jb,useImperativeHandle:Fk,useInsertionEffect:Dk,useLayoutEffect:Lk,useMemo:Uk,useReducer:Yy,useRef:Mk,useState:function(){return Yy(Fc)},useDebugValue:Bb,useDeferredValue:function(t){var e=gr();return jk(e,Ot.memoizedState,t)},useTransition:function(){var t=Yy(Fc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:Ik,useSyncExternalStore:Ck,useId:Bk,unstable_isNewReconciler:!1},YB={readContext:mr,useCallback:Vk,useContext:mr,useEffect:jb,useImperativeHandle:Fk,useInsertionEffect:Dk,useLayoutEffect:Lk,useMemo:Uk,useReducer:Xy,useRef:Mk,useState:function(){return Xy(Fc)},useDebugValue:Bb,useDeferredValue:function(t){var e=gr();return Ot===null?e.memoizedState=t:jk(e,Ot.memoizedState,t)},useTransition:function(){var t=Xy(Fc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:Ik,useSyncExternalStore:Ck,useId:Bk,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function O0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Um={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Io(t),o=Ei(r,i);o.payload=e,n!=null&&(o.callback=n),e=So(t,o,i),e!==null&&(Nr(e,t,i,r),wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Io(t),o=Ei(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=So(t,o,i),e!==null&&(Nr(e,t,i,r),wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Io(t),i=Ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=So(t,i,r),e!==null&&(Nr(e,t,r,n),wh(e,t,r))}};function XS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Nc(n,r)||!Nc(i,o):!0}function Hk(t,e,n){var r=!1,i=Mo,o=e.contextType;return typeof o=="object"&&o!==null?o=mr(o):(i=$n(e)?Ns:vn.current,r=e.contextTypes,o=(r=r!=null)?ol(t,i):Mo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function QS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Um.enqueueReplaceState(e,e.state,null)}function k0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=mr(o):(o=$n(e)?Ns:vn.current,i.context=ol(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(O0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Um.enqueueReplaceState(i,i.state,null),ep(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var n="",r=e;do n+=Tj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Qy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function M0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XB=typeof WeakMap=="function"?WeakMap:Map;function Wk(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){op||(op=!0,G0=r),M0(t,e)},n}function Kk(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){M0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){M0(t,e),typeof r!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ZS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=d4.bind(null,t,e,n),e.then(t,t))}function eA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,So(n,e,1))),n.lanes|=1),t)}var QB=Gi.ReactCurrentOwner,Mn=!1;function xn(t,e,n,r){e.child=t===null?Ek(e,null,n,r):al(e,t.child,n,r)}function nA(t,e,n,r,i){n=n.render;var o=e.ref;return qa(e,i),r=Vb(t,e,n,r,o,i),n=Ub(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(lt&&n&&Ib(e),e.flags|=1,xn(t,e,r,i),e.child)}function rA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Yb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Jk(t,e,o,r,i)):(t=Ah(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nc,n(s,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=Co(o,r),t.ref=e.ref,t.return=e,e.child=t}function Jk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Nc(o,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,ki(t,e,i)}return D0(t,e,n,r,i)}function Yk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ka,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ka,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(ka,zn),zn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(ka,zn),zn|=r;return xn(t,e,i,n),e.child}function Xk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function D0(t,e,n,r,i){var o=$n(n)?Ns:vn.current;return o=ol(e,o),qa(e,i),n=Vb(t,e,n,r,o,i),r=Ub(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(lt&&r&&Ib(e),e.flags|=1,xn(t,e,n,i),e.child)}function iA(t,e,n,r,i){if($n(n)){var o=!0;Jh(e)}else o=!1;if(qa(e,i),e.stateNode===null)Eh(t,e),Hk(e,n,r),k0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=$n(n)?Ns:vn.current,u=ol(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&QS(e,s,r,u),so=!1;var h=e.memoizedState;s.state=h,ep(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Ln.current||so?(typeof c=="function"&&(O0(e,n,c,r),l=e.memoizedState),(a=so||XS(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Sk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tr(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=$n(n)?Ns:vn.current,l=ol(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&QS(e,s,r,l),so=!1,h=e.memoizedState,s.state=h,ep(e,r,s,i);var y=e.memoizedState;a!==d||h!==y||Ln.current||so?(typeof g=="function"&&(O0(e,n,g,r),y=e.memoizedState),(u=so||XS(e,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return L0(t,e,n,r,o,i)}function L0(t,e,n,r,i,o){Xk(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&zS(e,n,!1),ki(t,e,o);r=e.stateNode,QB.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=al(e,t.child,null,o),e.child=al(e,null,a,o)):xn(t,e,a,o),e.memoizedState=r.state,i&&zS(e,n,!0),e.child}function Qk(t){var e=t.stateNode;e.pendingContext?BS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BS(t,e.context,!1),Db(t,e.containerInfo)}function oA(t,e,n,r,i){return sl(),Pb(i),e.flags|=256,xn(t,e,n,r),e.child}var $0={dehydrated:null,treeContext:null,retryLane:0};function F0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zk(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ct,i&1),t===null)return R0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zm(s,r,0,null),t=As(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=F0(n),e.memoizedState=$0,t):zb(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZB(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Co(a,o):(o=As(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?F0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$0,r}return o=t.child,t=o.sibling,r=Co(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zb(t,e){return e=zm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uf(t,e,n,r){return r!==null&&Pb(r),al(e,t.child,null,n),t=zb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZB(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Qy(Error(te(422))),Uf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zm({mode:"visible",children:r.children},i,0,null),o=As(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&al(e,t.child,null,s),e.child.memoizedState=F0(s),e.memoizedState=$0,o);if(!(e.mode&1))return Uf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=Qy(o,r,void 0),Uf(t,e,s,r)}if(a=(s&t.childLanes)!==0,Mn||a){if(r=zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oi(t,i),Nr(r,t,i,-1))}return Jb(),r=Qy(Error(te(421))),Uf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=To(i.nextSibling),Kn=e,lt=!0,Ir=null,t!==null&&(or[sr++]=mi,or[sr++]=gi,or[sr++]=Os,mi=t.id,gi=t.overflow,Os=e),e=zb(e,r.children),e.flags|=4096,e)}function sA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),N0(t.return,e,n)}function Zy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function eM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sA(t,n,e);else if(t.tag===19)sA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zy(e,!0,n,null,o);break;case"together":Zy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e4(t,e,n){switch(e.tag){case 3:Qk(e),sl();break;case 5:Ak(e);break;case 1:$n(e.type)&&Jh(e);break;case 4:Db(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Qh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?Zk(t,e,n):(Ze(ct,ct.current&1),t=ki(t,e,n),t!==null?t.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,Yk(t,e,n)}return ki(t,e,n)}var tM,V0,nM,rM;tM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};V0=function(){};nM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gs(Yr.current);var o=null;switch(n){case"input":i=a0(t,i),r=a0(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=c0(t,i),r=c0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wh)}f0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};rM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t4(t,e,n){var r=e.pendingProps;switch(Cb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return $n(e.type)&&Kh(),an(e),null;case 3:return r=e.stateNode,ll(),at(Ln),at(vn),$b(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ff(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(W0(Ir),Ir=null))),V0(t,e),an(e),null;case 5:Lb(e);var i=gs(Lc.current);if(n=e.type,t!==null&&e.stateNode!=null)nM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return an(e),null}if(t=gs(Yr.current),Ff(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qr]=e,r[Mc]=o,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Yu.length;i++)it(Yu[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":mS(r,o),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},it("invalid",r);break;case"textarea":yS(r,o),it("invalid",r)}f0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,a,t),i=["children",""+a]):Tc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&it("scroll",r)}switch(n){case"input":Pf(r),gS(r,o,!0);break;case"textarea":Pf(r),vS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qr]=e,t[Mc]=r,tM(t,e,!1,!1),e.stateNode=t;e:{switch(s=h0(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yu.length;i++)it(Yu[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":mS(t,r),i=a0(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),it("invalid",t);break;case"textarea":yS(t,r),i=c0(t,r),it("invalid",t);break;default:i=r}f0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?MO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&OO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sc(t,l):typeof l=="number"&&Sc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Tc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&it("scroll",t):l!=null&&hb(t,o,l,s))}switch(n){case"input":Pf(t),gS(t,r,!1);break;case"textarea":Pf(t),vS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ja(t,!!r.multiple,o,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)rM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=gs(Lc.current),gs(Yr.current),Ff(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:$f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return an(e),null;case 13:if(at(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Hn!==null&&e.mode&1&&!(e.flags&128))bk(),sl(),e.flags|=98560,o=!1;else if(o=Ff(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[qr]=e}else sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Ir!==null&&(W0(Ir),Ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?kt===0&&(kt=3):Jb())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return ll(),V0(t,e),t===null&&Oc(e.stateNode.containerInfo),an(e),null;case 10:return Ob(e.type._context),an(e),null;case 17:return $n(e.type)&&Kh(),an(e),null;case 19:if(at(ct),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Nu(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=tp(t),s!==null){for(e.flags|=128,Nu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>cl&&(e.flags|=128,r=!0,Nu(o,!1),e.lanes=4194304)}else{if(!r)if(t=tp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return an(e),null}else 2*bt()-o.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,Nu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return Kb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function n4(t,e){switch(Cb(e),e.tag){case 1:return $n(e.type)&&Kh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),at(Ln),at(vn),$b(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lb(e),null;case 13:if(at(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ct),null;case 4:return ll(),null;case 10:return Ob(e.type._context),null;case 22:case 23:return Kb(),null;case 24:return null;default:return null}}var jf=!1,cn=!1,r4=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function U0(t,e,n){try{n()}catch(r){gt(t,e,r)}}var aA=!1;function i4(t,e){if(E0=Gh,t=lk(),Ab(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(T0={focusedElem:t,selectionRange:n},Gh=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,v=y.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tr(e.type,w),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(P){gt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return y=aA,aA=!1,y}function dc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&U0(e,n,o)}i=i.next}while(i!==r)}}function jm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function j0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iM(t){var e=t.alternate;e!==null&&(t.alternate=null,iM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Mc],delete e[I0],delete e[UB],delete e[jB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oM(t){return t.tag===5||t.tag===3||t.tag===4}function lA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wh));else if(r!==4&&(t=t.child,t!==null))for(B0(t,e,n),t=t.sibling;t!==null;)B0(t,e,n),t=t.sibling}function z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(z0(t,e,n),t=t.sibling;t!==null;)z0(t,e,n),t=t.sibling}var Kt=null,Sr=!1;function no(t,e,n){for(n=n.child;n!==null;)sM(t,e,n),n=n.sibling}function sM(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:cn||Oa(n,e);case 6:var r=Kt,i=Sr;Kt=null,no(t,e,n),Kt=r,Sr=i,Kt!==null&&(Sr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Sr?(t=Kt,n=n.stateNode,t.nodeType===8?Hy(t.parentNode,n):t.nodeType===1&&Hy(t,n),Pc(t)):Hy(Kt,n.stateNode));break;case 4:r=Kt,i=Sr,Kt=n.stateNode.containerInfo,Sr=!0,no(t,e,n),Kt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&U0(n,e,s),i=i.next}while(i!==r)}no(t,e,n);break;case 1:if(!cn&&(Oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}no(t,e,n);break;case 21:no(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,no(t,e,n),cn=r):no(t,e,n);break;default:no(t,e,n)}}function uA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r4),e.forEach(function(r){var i=h4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Sr=!1;break e;case 3:Kt=a.stateNode.containerInfo,Sr=!0;break e;case 4:Kt=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(Kt===null)throw Error(te(160));sM(o,s,i),Kt=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aM(e,t),e=e.sibling}function aM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Br(t),r&4){try{dc(3,t,t.return),jm(3,t)}catch(w){gt(t,t.return,w)}try{dc(5,t,t.return)}catch(w){gt(t,t.return,w)}}break;case 1:xr(e,t),Br(t),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(xr(e,t),Br(t),r&512&&n!==null&&Oa(n,n.return),t.flags&32){var i=t.stateNode;try{Sc(i,"")}catch(w){gt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&PO(i,o),h0(a,s);var u=h0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?MO(i,d):c==="dangerouslySetInnerHTML"?OO(i,d):c==="children"?Sc(i,d):hb(i,c,d,u)}switch(a){case"input":l0(i,o);break;case"textarea":RO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ja(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ja(i,!!o.multiple,o.defaultValue,!0):ja(i,!!o.multiple,o.multiple?[]:"",!1))}i[Mc]=o}catch(w){gt(t,t.return,w)}}break;case 6:if(xr(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){gt(t,t.return,w)}}break;case 3:if(xr(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(e.containerInfo)}catch(w){gt(t,t.return,w)}break;case 4:xr(e,t),Br(t);break;case 13:xr(e,t),Br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hb=bt())),r&4&&uA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||c,xr(e,t),cn=u):xr(e,t),Br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(d=ue=c;ue!==null;){switch(h=ue,g=h.child,h.tag){case 0:case 11:case 14:case 15:dc(4,h,h.return);break;case 1:Oa(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){gt(r,n,w)}}break;case 5:Oa(h,h.return);break;case 22:if(h.memoizedState!==null){dA(d);continue}}g!==null?(g.return=h,ue=g):dA(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kO("display",s))}catch(w){gt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){gt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xr(e,t),Br(t),r&4&&uA(t);break;case 21:break;default:xr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oM(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sc(i,""),r.flags&=-33);var o=lA(t);z0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=lA(t);B0(t,a,s);break;default:throw Error(te(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o4(t,e,n){ue=t,lM(t)}function lM(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jf;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=jf;var u=cn;if(jf=s,(cn=l)&&!u)for(ue=i;ue!==null;)s=ue,l=s.child,s.tag===22&&s.memoizedState!==null?fA(i):l!==null?(l.return=s,ue=l):fA(i);for(;o!==null;)ue=o,lM(o),o=o.sibling;ue=i,jf=a,cn=u}cA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):cA(t)}}function cA(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||jm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&KS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}cn||e.flags&512&&j0(e)}catch(h){gt(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function dA(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function fA(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jm(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{j0(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{j0(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var s4=Math.ceil,ip=Gi.ReactCurrentDispatcher,Gb=Gi.ReactCurrentOwner,cr=Gi.ReactCurrentBatchConfig,ke=0,zt=null,At=null,Qt=0,zn=0,ka=Vo(0),kt=0,Uc=null,Ms=0,Bm=0,qb=0,fc=null,Nn=null,Hb=0,cl=1/0,fi=null,op=!1,G0=null,Ao=null,Bf=!1,yo=null,sp=0,hc=0,q0=null,Th=-1,Sh=0;function Tn(){return ke&6?bt():Th!==-1?Th:Th=bt()}function Io(t){return t.mode&1?ke&2&&Qt!==0?Qt&-Qt:zB.transition!==null?(Sh===0&&(Sh=HO()),Sh):(t=Be,t!==0||(t=window.event,t=t===void 0?16:ZO(t.type)),t):1}function Nr(t,e,n,r){if(50<hc)throw hc=0,q0=null,Error(te(185));Vd(t,n,r),(!(ke&2)||t!==zt)&&(t===zt&&(!(ke&2)&&(Bm|=n),kt===4&&uo(t,Qt)),Fn(t,r),n===1&&ke===0&&!(e.mode&1)&&(cl=bt()+500,Fm&&Uo()))}function Fn(t,e){var n=t.callbackNode;zj(t,e);var r=zh(t,t===zt?Qt:0);if(r===0)n!==null&&bS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bS(n),e===1)t.tag===0?BB(hA.bind(null,t)):vk(hA.bind(null,t)),FB(function(){!(ke&6)&&Uo()}),n=null;else{switch(WO(r)){case 1:n=vb;break;case 4:n=GO;break;case 16:n=Bh;break;case 536870912:n=qO;break;default:n=Bh}n=gM(n,uM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uM(t,e){if(Th=-1,Sh=0,ke&6)throw Error(te(327));var n=t.callbackNode;if(Ha()&&t.callbackNode!==n)return null;var r=zh(t,t===zt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ap(t,r);else{e=r;var i=ke;ke|=2;var o=dM();(zt!==t||Qt!==e)&&(fi=null,cl=bt()+500,Ss(t,e));do try{u4();break}catch(a){cM(t,a)}while(!0);Nb(),ip.current=o,ke=i,At!==null?e=0:(zt=null,Qt=0,e=kt)}if(e!==0){if(e===2&&(i=v0(t),i!==0&&(r=i,e=H0(t,i))),e===1)throw n=Uc,Ss(t,0),uo(t,r),Fn(t,bt()),n;if(e===6)uo(t,r);else{if(i=t.current.alternate,!(r&30)&&!a4(i)&&(e=ap(t,r),e===2&&(o=v0(t),o!==0&&(r=o,e=H0(t,o))),e===1))throw n=Uc,Ss(t,0),uo(t,r),Fn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ss(t,Nn,fi);break;case 3:if(uo(t,r),(r&130023424)===r&&(e=Hb+500-bt(),10<e)){if(zh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=A0(ss.bind(null,t,Nn,fi),e);break}ss(t,Nn,fi);break;case 4:if(uo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Rr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s4(r/1960))-r,10<r){t.timeoutHandle=A0(ss.bind(null,t,Nn,fi),r);break}ss(t,Nn,fi);break;case 5:ss(t,Nn,fi);break;default:throw Error(te(329))}}}return Fn(t,bt()),t.callbackNode===n?uM.bind(null,t):null}function H0(t,e){var n=fc;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=ap(t,e),t!==2&&(e=Nn,Nn=n,e!==null&&W0(e)),t}function W0(t){Nn===null?Nn=t:Nn.push.apply(Nn,t)}function a4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uo(t,e){for(e&=~qb,e&=~Bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function hA(t){if(ke&6)throw Error(te(327));Ha();var e=zh(t,0);if(!(e&1))return Fn(t,bt()),null;var n=ap(t,e);if(t.tag!==0&&n===2){var r=v0(t);r!==0&&(e=r,n=H0(t,r))}if(n===1)throw n=Uc,Ss(t,0),uo(t,e),Fn(t,bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,Nn,fi),Fn(t,bt()),null}function Wb(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(cl=bt()+500,Fm&&Uo())}}function Ds(t){yo!==null&&yo.tag===0&&!(ke&6)&&Ha();var e=ke;ke|=1;var n=cr.transition,r=Be;try{if(cr.transition=null,Be=1,t)return t()}finally{Be=r,cr.transition=n,ke=e,!(ke&6)&&Uo()}}function Kb(){zn=ka.current,at(ka)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$B(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(Cb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kh();break;case 3:ll(),at(Ln),at(vn),$b();break;case 5:Lb(r);break;case 4:ll();break;case 13:at(ct);break;case 19:at(ct);break;case 10:Ob(r.type._context);break;case 22:case 23:Kb()}n=n.return}if(zt=t,At=t=Co(t.current,null),Qt=zn=e,kt=0,Uc=null,qb=Bm=Ms=0,Nn=fc=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ms=null}return t}function cM(t,e){do{var n=At;try{if(Nb(),bh.current=rp,np){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}np=!1}if(ks=0,jt=Ot=ft=null,cc=!1,$c=0,Gb.current=null,n===null||n.return===null){kt=1,Uc=e,At=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=eA(s);if(g!==null){g.flags&=-257,tA(g,s,a,o,e),g.mode&1&&ZS(o,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){ZS(o,u,e),Jb();break e}l=Error(te(426))}}else if(lt&&a.mode&1){var v=eA(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tA(v,s,a,o,e),Pb(ul(l,a));break e}}o=l=ul(l,a),kt!==4&&(kt=2),fc===null?fc=[o]:fc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=Wk(o,l,e);WS(o,b);break e;case 1:a=l;var x=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ao===null||!Ao.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=Kk(o,a,e);WS(o,P);break e}}o=o.return}while(o!==null)}hM(n)}catch(E){e=E,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function dM(){var t=ip.current;return ip.current=rp,t===null?rp:t}function Jb(){(kt===0||kt===3||kt===2)&&(kt=4),zt===null||!(Ms&268435455)&&!(Bm&268435455)||uo(zt,Qt)}function ap(t,e){var n=ke;ke|=2;var r=dM();(zt!==t||Qt!==e)&&(fi=null,Ss(t,e));do try{l4();break}catch(i){cM(t,i)}while(!0);if(Nb(),ke=n,ip.current=r,At!==null)throw Error(te(261));return zt=null,Qt=0,kt}function l4(){for(;At!==null;)fM(At)}function u4(){for(;At!==null&&!Mj();)fM(At)}function fM(t){var e=mM(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?hM(t):At=e,Gb.current=null}function hM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n4(n,e),n!==null){n.flags&=32767,At=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,At=null;return}}else if(n=t4(n,e,zn),n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);kt===0&&(kt=5)}function ss(t,e,n){var r=Be,i=cr.transition;try{cr.transition=null,Be=1,c4(t,e,n,r)}finally{cr.transition=i,Be=r}return null}function c4(t,e,n,r){do Ha();while(yo!==null);if(ke&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Gj(t,o),t===zt&&(At=zt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bf||(Bf=!0,gM(Bh,function(){return Ha(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var s=Be;Be=1;var a=ke;ke|=4,Gb.current=null,i4(t,n),aM(n,t),RB(T0),Gh=!!E0,T0=E0=null,t.current=n,o4(n),Dj(),ke=a,Be=s,cr.transition=o}else t.current=n;if(Bf&&(Bf=!1,yo=t,sp=i),o=t.pendingLanes,o===0&&(Ao=null),Fj(n.stateNode),Fn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(op)throw op=!1,t=G0,G0=null,t;return sp&1&&t.tag!==0&&Ha(),o=t.pendingLanes,o&1?t===q0?hc++:(hc=0,q0=t):hc=0,Uo(),null}function Ha(){if(yo!==null){var t=WO(sp),e=cr.transition,n=Be;try{if(cr.transition=null,Be=16>t?16:t,yo===null)var r=!1;else{if(t=yo,yo=null,sp=0,ke&6)throw Error(te(331));var i=ke;for(ke|=4,ue=t.current;ue!==null;){var o=ue,s=o.child;if(ue.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:dc(8,c,o)}var d=c.child;if(d!==null)d.return=c,ue=d;else for(;ue!==null;){c=ue;var h=c.sibling,g=c.return;if(iM(c),c===u){ue=null;break}if(h!==null){h.return=g,ue=h;break}ue=g}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}ue=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dc(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ue=b;break e}ue=o.return}}var x=t.current;for(ue=x;ue!==null;){s=ue;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,ue=S;else e:for(s=x;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jm(9,a)}}catch(E){gt(a,a.return,E)}if(a===s){ue=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ue=P;break e}ue=a.return}}if(ke=i,Uo(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(km,t)}catch{}r=!0}return r}finally{Be=n,cr.transition=e}}return!1}function pA(t,e,n){e=ul(n,e),e=Wk(t,e,1),t=So(t,e,1),e=Tn(),t!==null&&(Vd(t,1,e),Fn(t,e))}function gt(t,e,n){if(t.tag===3)pA(t,t,n);else for(;e!==null;){if(e.tag===3){pA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ao===null||!Ao.has(r))){t=ul(n,t),t=Kk(e,t,1),e=So(e,t,1),t=Tn(),e!==null&&(Vd(e,1,t),Fn(e,t));break}}e=e.return}}function d4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Qt&n)===n&&(kt===4||kt===3&&(Qt&130023424)===Qt&&500>bt()-Hb?Ss(t,0):qb|=n),Fn(t,e)}function pM(t,e){e===0&&(t.mode&1?(e=Of,Of<<=1,!(Of&130023424)&&(Of=4194304)):e=1);var n=Tn();t=Oi(t,e),t!==null&&(Vd(t,e,n),Fn(t,n))}function f4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pM(t,n)}function h4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),pM(t,n)}var mM;mM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,e4(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,lt&&e.flags&1048576&&_k(e,Xh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eh(t,e),t=e.pendingProps;var i=ol(e,vn.current);qa(e,n),i=Vb(null,e,r,t,i,n);var o=Ub();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(r)?(o=!0,Jh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mb(e),i.updater=Um,e.stateNode=i,i._reactInternals=e,k0(e,r,t,n),e=L0(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&Ib(e),xn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=m4(r),t=Tr(r,t),i){case 0:e=D0(null,e,r,t,n);break e;case 1:e=iA(null,e,r,t,n);break e;case 11:e=nA(null,e,r,t,n);break e;case 14:e=rA(null,e,r,Tr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),D0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),iA(t,e,r,i,n);case 3:e:{if(Qk(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Sk(t,e),ep(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ul(Error(te(423)),e),e=oA(t,e,r,n,i);break e}else if(r!==i){i=ul(Error(te(424)),e),e=oA(t,e,r,n,i);break e}else for(Hn=To(e.stateNode.containerInfo.firstChild),Kn=e,lt=!0,Ir=null,n=Ek(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sl(),r===i){e=ki(t,e,n);break e}xn(t,e,r,n)}e=e.child}return e;case 5:return Ak(e),t===null&&R0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,S0(r,i)?s=null:o!==null&&S0(r,o)&&(e.flags|=32),Xk(t,e),xn(t,e,s,n),e.child;case 6:return t===null&&R0(e),null;case 13:return Zk(t,e,n);case 4:return Db(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):xn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),nA(t,e,r,i,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ze(Qh,r._currentValue),r._currentValue=s,o!==null)if(Dr(o.value,s)){if(o.children===i.children&&!Ln.current){e=ki(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ei(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),N0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),N0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qa(e,n),i=mr(i),r=r(i),e.flags|=1,xn(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),rA(t,e,r,i,n);case 15:return Jk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Eh(t,e),e.tag=1,$n(r)?(t=!0,Jh(e)):t=!1,qa(e,n),Hk(e,r,i),k0(e,r,i,n),L0(null,e,r,!0,t,n);case 19:return eM(t,e,n);case 22:return Yk(t,e,n)}throw Error(te(156,e.tag))};function gM(t,e){return zO(t,e)}function p4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new p4(t,e,n,r)}function Yb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m4(t){if(typeof t=="function")return Yb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mb)return 11;if(t===gb)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ah(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Yb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ea:return As(n.children,i,o,e);case pb:s=8,i|=8;break;case r0:return t=lr(12,n,e,i|2),t.elementType=r0,t.lanes=o,t;case i0:return t=lr(13,n,e,i),t.elementType=i0,t.lanes=o,t;case o0:return t=lr(19,n,e,i),t.elementType=o0,t.lanes=o,t;case AO:return zm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TO:s=10;break e;case SO:s=9;break e;case mb:s=11;break e;case gb:s=14;break e;case oo:s=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=lr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function As(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function zm(t,e,n,r){return t=lr(22,t,r,e),t.elementType=AO,t.lanes=n,t.stateNode={isHidden:!1},t}function ev(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function tv(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dy(0),this.expirationTimes=Dy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xb(t,e,n,r,i,o,s,a,l){return t=new g4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mb(o),t}function y4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yM(t){if(!t)return Mo;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if($n(n))return yk(t,n,e)}return e}function vM(t,e,n,r,i,o,s,a,l){return t=Xb(n,r,!0,t,i,o,s,a,l),t.context=yM(null),n=t.current,r=Tn(),i=Io(n),o=Ei(r,i),o.callback=e??null,So(n,o,i),t.current.lanes=i,Vd(t,i,r),Fn(t,r),t}function Gm(t,e,n,r){var i=e.current,o=Tn(),s=Io(i);return n=yM(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=So(i,e,s),t!==null&&(Nr(t,i,s,o),wh(t,i,s)),s}function lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qb(t,e){mA(t,e),(t=t.alternate)&&mA(t,e)}function v4(){return null}var _M=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zb(t){this._internalRoot=t}qm.prototype.render=Zb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Gm(t,e,null,null)};qm.prototype.unmount=Zb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Gm(null,t,null,null)}),e[Ni]=null}};function qm(t){this._internalRoot=t}qm.prototype.unstable_scheduleHydration=function(t){if(t){var e=YO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lo.length&&e!==0&&e<lo[n].priority;n++);lo.splice(n,0,t),n===0&&QO(t)}};function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gA(){}function _4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=lp(s);o.call(u)}}var s=vM(e,r,t,0,null,!1,!1,"",gA);return t._reactRootContainer=s,t[Ni]=s.current,Oc(t.nodeType===8?t.parentNode:t),Ds(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lp(l);a.call(u)}}var l=Xb(t,0,!1,null,null,!1,!1,"",gA);return t._reactRootContainer=l,t[Ni]=l.current,Oc(t.nodeType===8?t.parentNode:t),Ds(function(){Gm(e,l,n,r)}),l}function Wm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=lp(s);a.call(l)}}Gm(e,s,t,i)}else s=_4(n,e,t,i,r);return lp(s)}KO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ju(e.pendingLanes);n!==0&&(_b(e,n|1),Fn(e,bt()),!(ke&6)&&(cl=bt()+500,Uo()))}break;case 13:Ds(function(){var r=Oi(t,1);if(r!==null){var i=Tn();Nr(r,t,1,i)}}),Qb(t,1)}};wb=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var n=Tn();Nr(e,t,134217728,n)}Qb(t,134217728)}};JO=function(t){if(t.tag===13){var e=Io(t),n=Oi(t,e);if(n!==null){var r=Tn();Nr(n,t,e,r)}Qb(t,e)}};YO=function(){return Be};XO=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};m0=function(t,e,n){switch(e){case"input":if(l0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$m(r);if(!i)throw Error(te(90));CO(r),l0(r,i)}}}break;case"textarea":RO(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};$O=Wb;FO=Ds;var w4={usingClientEntryPoint:!1,Events:[jd,Ia,$m,DO,LO,Wb]},Ou={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b4={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jO(t),t===null?null:t.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||v4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{km=zf.inject(b4),Jr=zf}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w4;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(e))throw Error(te(200));return y4(t,e,null,n)};Xn.createRoot=function(t,e){if(!ex(t))throw Error(te(299));var n=!1,r="",i=_M;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xb(t,1,!1,null,null,n,!1,r,i),t[Ni]=e.current,Oc(t.nodeType===8?t.parentNode:t),new Zb(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=jO(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Ds(t)};Xn.hydrate=function(t,e,n){if(!Hm(e))throw Error(te(200));return Wm(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!ex(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=_M;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=vM(e,null,t,1,n??null,i,!1,o,s),t[Ni]=e.current,Oc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qm(e)};Xn.render=function(t,e,n){if(!Hm(e))throw Error(te(200));return Wm(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Hm(t))throw Error(te(40));return t._reactRootContainer?(Ds(function(){Wm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};Xn.unstable_batchedUpdates=Wb;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hm(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Wm(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function wM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wM)}catch(t){console.error(t)}}wM(),wO.exports=Xn;var x4=wO.exports,yA=x4;t0.createRoot=yA.createRoot,t0.hydrateRoot=yA.hydrateRoot;var vA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(h=64)),r.push(n[c],n[d],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new T4;const h=o<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S4=function(t){const e=bM(t);return xM.encodeByteArray(e,!0)},EM=function(t){return S4(t).replace(/\./g,"")},TM=function(t){try{return xM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=()=>A4().__FIREBASE_DEFAULTS__,C4=()=>{if(typeof process>"u"||typeof vA>"u")return;const t=vA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TM(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return I4()||C4()||P4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R4=t=>{var e,n;return(n=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SM=()=>{var t;return(t=Km())===null||t===void 0?void 0:t.config},AM=t=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function k4(){var t;const e=(t=Km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $4(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F4(){return!k4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function V4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U4,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}}class Ys{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?j4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new si(i,a,r)}}function j4(t,e){return t.replace(B4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const B4=/\{\$([^}]+)}/g;function z4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(_A(o)&&_A(s)){if(!jc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _A(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G4(t,e){const n=new q4(t,e);return n.subscribe.bind(n)}class q4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nv),i.error===void 0&&(i.error=nv),i.complete===void 0&&(i.complete=nv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J4(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K4(t){return t===as?void 0:t}function J4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const X4={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Q4=Re.INFO,Z4={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},ez=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tx{constructor(e){this.name=e,this._logLevel=Q4,this._logHandler=ez,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const tz=(t,e)=>e.some(n=>t instanceof n);let wA,bA;function nz(){return wA||(wA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rz(){return bA||(bA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PM=new WeakMap,K0=new WeakMap,RM=new WeakMap,rv=new WeakMap,nx=new WeakMap;function iz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ti(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&PM.set(n,t)}).catch(()=>{}),nx.set(e,t),e}function oz(t){if(K0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});K0.set(t,e)}let J0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sz(t){J0=t(J0)}function az(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iv(this),e,...n);return RM.set(r,e.sort?e.sort():[e]),Ti(r)}:rz().includes(t)?function(...e){return t.apply(iv(this),e),Ti(PM.get(this))}:function(...e){return Ti(t.apply(iv(this),e))}}function lz(t){return typeof t=="function"?az(t):(t instanceof IDBTransaction&&oz(t),tz(t,nz())?new Proxy(t,J0):t)}function Ti(t){if(t instanceof IDBRequest)return iz(t);if(rv.has(t))return rv.get(t);const e=lz(t);return e!==t&&(rv.set(t,e),nx.set(e,t)),e}const iv=t=>nx.get(t);function Jm(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ti(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ti(s.result),l.oldVersion,l.newVersion,Ti(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function ov(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Ti(n).then(()=>{})}const uz=["get","getKey","getAll","getAllKeys","count"],cz=["put","add","delete","clear"],sv=new Map;function xA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sv.get(e))return sv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uz.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return sv.set(e,o),o}sz(t=>({...t,get:(e,n,r)=>xA(e,n)||t.get(e,n,r),has:(e,n)=>!!xA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y0="@firebase/app",EA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new tx("@firebase/app"),hz="@firebase/app-compat",pz="@firebase/analytics-compat",mz="@firebase/analytics",gz="@firebase/app-check-compat",yz="@firebase/app-check",vz="@firebase/auth",_z="@firebase/auth-compat",wz="@firebase/database",bz="@firebase/data-connect",xz="@firebase/database-compat",Ez="@firebase/functions",Tz="@firebase/functions-compat",Sz="@firebase/installations",Az="@firebase/installations-compat",Iz="@firebase/messaging",Cz="@firebase/messaging-compat",Pz="@firebase/performance",Rz="@firebase/performance-compat",Nz="@firebase/remote-config",Oz="@firebase/remote-config-compat",kz="@firebase/storage",Mz="@firebase/storage-compat",Dz="@firebase/firestore",Lz="@firebase/vertexai-preview",$z="@firebase/firestore-compat",Fz="firebase",Vz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="[DEFAULT]",Uz={[Y0]:"fire-core",[hz]:"fire-core-compat",[mz]:"fire-analytics",[pz]:"fire-analytics-compat",[yz]:"fire-app-check",[gz]:"fire-app-check-compat",[vz]:"fire-auth",[_z]:"fire-auth-compat",[wz]:"fire-rtdb",[bz]:"fire-data-connect",[xz]:"fire-rtdb-compat",[Ez]:"fire-fn",[Tz]:"fire-fn-compat",[Sz]:"fire-iid",[Az]:"fire-iid-compat",[Iz]:"fire-fcm",[Cz]:"fire-fcm-compat",[Pz]:"fire-perf",[Rz]:"fire-perf-compat",[Nz]:"fire-rc",[Oz]:"fire-rc-compat",[kz]:"fire-gcs",[Mz]:"fire-gcs-compat",[Dz]:"fire-fst",[$z]:"fire-fst-compat",[Lz]:"fire-vertex","fire-js":"fire-js",[Fz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,jz=new Map,Q0=new Map;function TA(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ri(t){const e=t.name;if(Q0.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Q0.set(e,t);for(const n of up.values())TA(n,t);for(const n of jz.values())TA(n,t);return!0}function zl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new Ys("app","Firebase",Bz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=Vz;function NM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:X0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Po.create("bad-app-name",{appName:String(i)});if(n||(n=SM()),!n)throw Po.create("no-options");const o=up.get(i);if(o){if(jc(n,o.options)&&jc(r,o.config))return o;throw Po.create("duplicate-app",{appName:i})}const s=new Y4(i);for(const l of Q0.values())s.addComponent(l);const a=new zz(n,r,s);return up.set(i,a),a}function OM(t=X0){const e=up.get(t);if(!e&&t===X0&&SM())return NM();if(!e)throw Po.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let i=(r=Uz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}ri(new Lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="firebase-heartbeat-database",qz=1,Bc="firebase-heartbeat-store";let av=null;function kM(){return av||(av=Jm(Gz,qz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),av}async function Hz(t){try{const n=(await kM()).transaction(Bc),r=await n.objectStore(Bc).get(MM(t));return await n.done,r}catch(e){if(e instanceof si)Mi.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function SA(t,e){try{const r=(await kM()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,MM(t)),await r.done}catch(n){if(n instanceof si)Mi.warn(n.message);else{const r=Po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function MM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=1024,Kz=30*24*60*60*1e3;class Jz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Kz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AA(),{heartbeatsToSend:r,unsentEntries:i}=Yz(this._heartbeatsCache.heartbeats),o=EM(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mi.warn(n),""}}}function AA(){return new Date().toISOString().substring(0,10)}function Yz(t,e=Wz){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),IA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IA(t){return EM(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){ri(new Lr("platform-logger",e=>new dz(e),"PRIVATE")),ri(new Lr("heartbeat",e=>new Jz(e),"PRIVATE")),dr(Y0,EA,t),dr(Y0,EA,"esm2017"),dr("fire-js","")}Qz("");var Zz="firebase",e3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(Zz,e3,"app");var CA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,DM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function R(){}R.prototype=I.prototype,T.D=I.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(O,k,M){for(var D=Array(arguments.length-2),j=2;j<arguments.length;j++)D[j-2]=arguments[j];return I.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,R){R||(R=0);var O=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)O[k]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=T.g[0],R=T.g[1],k=T.g[2];var M=T.g[3],D=I+(M^R&(k^M))+O[0]+3614090360&4294967295;I=R+(D<<7&4294967295|D>>>25),D=M+(k^I&(R^k))+O[1]+3905402710&4294967295,M=I+(D<<12&4294967295|D>>>20),D=k+(R^M&(I^R))+O[2]+606105819&4294967295,k=M+(D<<17&4294967295|D>>>15),D=R+(I^k&(M^I))+O[3]+3250441966&4294967295,R=k+(D<<22&4294967295|D>>>10),D=I+(M^R&(k^M))+O[4]+4118548399&4294967295,I=R+(D<<7&4294967295|D>>>25),D=M+(k^I&(R^k))+O[5]+1200080426&4294967295,M=I+(D<<12&4294967295|D>>>20),D=k+(R^M&(I^R))+O[6]+2821735955&4294967295,k=M+(D<<17&4294967295|D>>>15),D=R+(I^k&(M^I))+O[7]+4249261313&4294967295,R=k+(D<<22&4294967295|D>>>10),D=I+(M^R&(k^M))+O[8]+1770035416&4294967295,I=R+(D<<7&4294967295|D>>>25),D=M+(k^I&(R^k))+O[9]+2336552879&4294967295,M=I+(D<<12&4294967295|D>>>20),D=k+(R^M&(I^R))+O[10]+4294925233&4294967295,k=M+(D<<17&4294967295|D>>>15),D=R+(I^k&(M^I))+O[11]+2304563134&4294967295,R=k+(D<<22&4294967295|D>>>10),D=I+(M^R&(k^M))+O[12]+1804603682&4294967295,I=R+(D<<7&4294967295|D>>>25),D=M+(k^I&(R^k))+O[13]+4254626195&4294967295,M=I+(D<<12&4294967295|D>>>20),D=k+(R^M&(I^R))+O[14]+2792965006&4294967295,k=M+(D<<17&4294967295|D>>>15),D=R+(I^k&(M^I))+O[15]+1236535329&4294967295,R=k+(D<<22&4294967295|D>>>10),D=I+(k^M&(R^k))+O[1]+4129170786&4294967295,I=R+(D<<5&4294967295|D>>>27),D=M+(R^k&(I^R))+O[6]+3225465664&4294967295,M=I+(D<<9&4294967295|D>>>23),D=k+(I^R&(M^I))+O[11]+643717713&4294967295,k=M+(D<<14&4294967295|D>>>18),D=R+(M^I&(k^M))+O[0]+3921069994&4294967295,R=k+(D<<20&4294967295|D>>>12),D=I+(k^M&(R^k))+O[5]+3593408605&4294967295,I=R+(D<<5&4294967295|D>>>27),D=M+(R^k&(I^R))+O[10]+38016083&4294967295,M=I+(D<<9&4294967295|D>>>23),D=k+(I^R&(M^I))+O[15]+3634488961&4294967295,k=M+(D<<14&4294967295|D>>>18),D=R+(M^I&(k^M))+O[4]+3889429448&4294967295,R=k+(D<<20&4294967295|D>>>12),D=I+(k^M&(R^k))+O[9]+568446438&4294967295,I=R+(D<<5&4294967295|D>>>27),D=M+(R^k&(I^R))+O[14]+3275163606&4294967295,M=I+(D<<9&4294967295|D>>>23),D=k+(I^R&(M^I))+O[3]+4107603335&4294967295,k=M+(D<<14&4294967295|D>>>18),D=R+(M^I&(k^M))+O[8]+1163531501&4294967295,R=k+(D<<20&4294967295|D>>>12),D=I+(k^M&(R^k))+O[13]+2850285829&4294967295,I=R+(D<<5&4294967295|D>>>27),D=M+(R^k&(I^R))+O[2]+4243563512&4294967295,M=I+(D<<9&4294967295|D>>>23),D=k+(I^R&(M^I))+O[7]+1735328473&4294967295,k=M+(D<<14&4294967295|D>>>18),D=R+(M^I&(k^M))+O[12]+2368359562&4294967295,R=k+(D<<20&4294967295|D>>>12),D=I+(R^k^M)+O[5]+4294588738&4294967295,I=R+(D<<4&4294967295|D>>>28),D=M+(I^R^k)+O[8]+2272392833&4294967295,M=I+(D<<11&4294967295|D>>>21),D=k+(M^I^R)+O[11]+1839030562&4294967295,k=M+(D<<16&4294967295|D>>>16),D=R+(k^M^I)+O[14]+4259657740&4294967295,R=k+(D<<23&4294967295|D>>>9),D=I+(R^k^M)+O[1]+2763975236&4294967295,I=R+(D<<4&4294967295|D>>>28),D=M+(I^R^k)+O[4]+1272893353&4294967295,M=I+(D<<11&4294967295|D>>>21),D=k+(M^I^R)+O[7]+4139469664&4294967295,k=M+(D<<16&4294967295|D>>>16),D=R+(k^M^I)+O[10]+3200236656&4294967295,R=k+(D<<23&4294967295|D>>>9),D=I+(R^k^M)+O[13]+681279174&4294967295,I=R+(D<<4&4294967295|D>>>28),D=M+(I^R^k)+O[0]+3936430074&4294967295,M=I+(D<<11&4294967295|D>>>21),D=k+(M^I^R)+O[3]+3572445317&4294967295,k=M+(D<<16&4294967295|D>>>16),D=R+(k^M^I)+O[6]+76029189&4294967295,R=k+(D<<23&4294967295|D>>>9),D=I+(R^k^M)+O[9]+3654602809&4294967295,I=R+(D<<4&4294967295|D>>>28),D=M+(I^R^k)+O[12]+3873151461&4294967295,M=I+(D<<11&4294967295|D>>>21),D=k+(M^I^R)+O[15]+530742520&4294967295,k=M+(D<<16&4294967295|D>>>16),D=R+(k^M^I)+O[2]+3299628645&4294967295,R=k+(D<<23&4294967295|D>>>9),D=I+(k^(R|~M))+O[0]+4096336452&4294967295,I=R+(D<<6&4294967295|D>>>26),D=M+(R^(I|~k))+O[7]+1126891415&4294967295,M=I+(D<<10&4294967295|D>>>22),D=k+(I^(M|~R))+O[14]+2878612391&4294967295,k=M+(D<<15&4294967295|D>>>17),D=R+(M^(k|~I))+O[5]+4237533241&4294967295,R=k+(D<<21&4294967295|D>>>11),D=I+(k^(R|~M))+O[12]+1700485571&4294967295,I=R+(D<<6&4294967295|D>>>26),D=M+(R^(I|~k))+O[3]+2399980690&4294967295,M=I+(D<<10&4294967295|D>>>22),D=k+(I^(M|~R))+O[10]+4293915773&4294967295,k=M+(D<<15&4294967295|D>>>17),D=R+(M^(k|~I))+O[1]+2240044497&4294967295,R=k+(D<<21&4294967295|D>>>11),D=I+(k^(R|~M))+O[8]+1873313359&4294967295,I=R+(D<<6&4294967295|D>>>26),D=M+(R^(I|~k))+O[15]+4264355552&4294967295,M=I+(D<<10&4294967295|D>>>22),D=k+(I^(M|~R))+O[6]+2734768916&4294967295,k=M+(D<<15&4294967295|D>>>17),D=R+(M^(k|~I))+O[13]+1309151649&4294967295,R=k+(D<<21&4294967295|D>>>11),D=I+(k^(R|~M))+O[4]+4149444226&4294967295,I=R+(D<<6&4294967295|D>>>26),D=M+(R^(I|~k))+O[11]+3174756917&4294967295,M=I+(D<<10&4294967295|D>>>22),D=k+(I^(M|~R))+O[2]+718787259&4294967295,k=M+(D<<15&4294967295|D>>>17),D=R+(M^(k|~I))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var R=I-this.blockSize,O=this.B,k=this.h,M=0;M<I;){if(k==0)for(;M<=R;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<I;)if(O[k++]=T.charCodeAt(M++),k==this.blockSize){i(this,O),k=0;break}}else for(;M<I;)if(O[k++]=T[M++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var R=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=R&255,R/=256;for(this.u(T),T=Array(16),I=R=0;4>I;++I)for(var O=0;32>O;O+=8)T[R++]=this.g[I]>>>O&255;return T};function o(T,I){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=I(T)}function s(T,I){this.h=I;for(var R=[],O=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;O&&M==I||(R[k]=M,O=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(u(-T));for(var I=[],R=1,O=0;T>=R;O++)I[O]=T/R|0,R*=4294967296;return new s(I,0)}function c(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return v(c(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(I,8)),O=d,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),D=parseInt(T.substring(k,k+M),I);8>M?(M=u(Math.pow(I,M)),O=O.j(M).add(u(D))):(O=O.j(R),O=O.add(u(D)))}return O}var d=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-v(this).m();for(var T=0,I=1,R=0;R<this.g.length;R++){var O=this.i(R);T+=(0<=O?O:4294967296+O)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(w(this))return"-"+v(this).toString(T);for(var I=u(Math.pow(T,6)),R=this,O="";;){var k=P(R,I).g;R=b(R,k.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=k,y(R))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=b(this,T),w(T)?-1:y(T)?0:1};function v(T){for(var I=T.g.length,R=[],O=0;O<I;O++)R[O]=~T.g[O];return new s(R,~T.h).add(h)}t.abs=function(){return w(this)?v(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],O=0,k=0;k<=I;k++){var M=O+(this.i(k)&65535)+(T.i(k)&65535),D=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);O=D>>>16,M&=65535,D&=65535,R[k]=D<<16|M}return new s(R,R[R.length-1]&-2147483648?-1:0)};function b(T,I){return T.add(v(I))}t.j=function(T){if(y(this)||y(T))return d;if(w(this))return w(T)?v(this).j(v(T)):v(v(this).j(T));if(w(T))return v(this.j(v(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var I=this.g.length+T.g.length,R=[],O=0;O<2*I;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<T.g.length;k++){var M=this.i(O)>>>16,D=this.i(O)&65535,j=T.i(k)>>>16,z=T.i(k)&65535;R[2*O+2*k]+=D*z,x(R,2*O+2*k),R[2*O+2*k+1]+=M*z,x(R,2*O+2*k+1),R[2*O+2*k+1]+=D*j,x(R,2*O+2*k+1),R[2*O+2*k+2]+=M*j,x(R,2*O+2*k+2)}for(O=0;O<I;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=I;O<2*I;O++)R[O]=0;return new s(R,0)};function x(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function S(T,I){this.g=T,this.h=I}function P(T,I){if(y(I))throw Error("division by zero");if(y(T))return new S(d,d);if(w(T))return I=P(v(T),I),new S(v(I.g),v(I.h));if(w(I))return I=P(T,v(I)),new S(v(I.g),I.h);if(30<T.g.length){if(w(T)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var R=h,O=I;0>=O.l(T);)R=E(R),O=E(O);var k=C(R,1),M=C(O,1);for(O=C(O,2),R=C(R,2);!y(O);){var D=M.add(O);0>=D.l(T)&&(k=k.add(R),M=D),O=C(O,1),R=C(R,1)}return I=b(T,k.j(I)),new S(k,I)}for(k=d;0<=T.l(I);){for(R=Math.max(1,Math.floor(T.m()/I.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=u(R),D=M.j(I);w(D)||0<D.l(T);)R-=O,M=u(R),D=M.j(I);y(M)&&(M=h),k=k.add(M),T=b(T,D)}return new S(k,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],O=0;O<I;O++)R[O]=this.i(O)&T.i(O);return new s(R,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],O=0;O<I;O++)R[O]=this.i(O)|T.i(O);return new s(R,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],O=0;O<I;O++)R[O]=this.i(O)^T.i(O);return new s(R,this.h^T.h)};function E(T){for(var I=T.g.length+1,R=[],O=0;O<I;O++)R[O]=T.i(O)<<1|T.i(O-1)>>>31;return new s(R,T.h)}function C(T,I){var R=I>>5;I%=32;for(var O=T.g.length-R,k=[],M=0;M<O;M++)k[M]=0<I?T.i(M+R)>>>I|T.i(M+R+1)<<32-I:T.i(M+R);return new s(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Is=s}).apply(typeof CA<"u"?CA:typeof self<"u"?self:typeof window<"u"?window:{});var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LM,Zu,$M,Ih,Z0,FM,VM,UM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,N){return m==Array.prototype||m==Object.prototype||(m[A]=N.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gf=="object"&&Gf];for(var A=0;A<m.length;++A){var N=m[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var N=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var V=m[L];if(!(V in N))break e;N=N[V]}m=m[m.length-1],L=N[m],A=A(L),A!=L&&A!=null&&e(N,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var N=0,L=!1,V={next:function(){if(!L&&N<m.length){var q=N++;return{value:A(q,m[q]),done:!1}}return L=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,N){return m.call.apply(m.bind,arguments)}function d(m,A,N){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,L),m.apply(A,V)}}return function(){return m.apply(A,arguments)}}function h(m,A,N){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function g(m,A){var N=Array.prototype.slice.call(arguments,1);return function(){var L=N.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function y(m,A){function N(){}N.prototype=A.prototype,m.aa=A.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(L,V,q){for(var re=Array(arguments.length-2),We=2;We<arguments.length;We++)re[We-2]=arguments[We];return A.prototype[V].apply(L,re)}}function w(m){const A=m.length;if(0<A){const N=Array(A);for(let L=0;L<A;L++)N[L]=m[L];return N}return[]}function v(m,A){for(let N=1;N<arguments.length;N++){const L=arguments[N];if(l(L)){const V=m.length||0,q=L.length||0;m.length=V+q;for(let re=0;re<q;re++)m[V+re]=L[re]}else m.push(L)}}class b{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function x(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var E=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function C(m,A,N){for(const L in m)A.call(N,m[L],L,m)}function T(m,A){for(const N in m)A.call(void 0,m[N],N,m)}function I(m){const A={};for(const N in m)A[N]=m[N];return A}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(m,A){let N,L;for(let V=1;V<arguments.length;V++){L=arguments[V];for(N in L)m[N]=L[N];for(let q=0;q<R.length;q++)N=R[q],Object.prototype.hasOwnProperty.call(L,N)&&(m[N]=L[N])}}function k(m){var A=1;m=m.split(":");const N=[];for(;0<A&&m.length;)N.push(m.shift()),A--;return m.length&&N.push(m.join(":")),N}function M(m){a.setTimeout(()=>{throw m},0)}function D(){var m=W;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,N){const L=z.get();L.set(A,N),this.h?this.h.next=L:this.g=L,this.h=L}}var z=new b(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,W=new j,J=()=>{const m=a.Promise.resolve(void 0);X=()=>{m.then(ie)}};var ie=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(N){M(N)}var A=z;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}U=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};a.addEventListener("test",N,A),a.removeEventListener("test",N,A)}catch{}return m}();function De(m,A){if(ae.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(E){e:{try{P(A.nodeName);var V=!0;break e}catch{}V=!1}V||(A=null)}}else N=="mouseover"?A=m.fromElement:N=="mouseout"&&(A=m.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:et[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&De.aa.h.call(this)}}y(De,ae);var et={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function oe(m,A,N,L,V){this.listener=m,this.proxy=null,this.src=A,this.type=N,this.capture=!!L,this.ha=V,this.key=++Pt,this.da=this.fa=!1}function me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ge(m){this.src=m,this.g={},this.h=0}ge.prototype.add=function(m,A,N,L,V){var q=m.toString();m=this.g[q],m||(m=this.g[q]=[],this.h++);var re=je(m,A,L,V);return-1<re?(A=m[re],N||(A.fa=!1)):(A=new oe(A,this.src,q,!!L,V),A.fa=N,m.push(A)),A};function Q(m,A){var N=A.type;if(N in m.g){var L=m.g[N],V=Array.prototype.indexOf.call(L,A,void 0),q;(q=0<=V)&&Array.prototype.splice.call(L,V,1),q&&(me(A),m.g[N].length==0&&(delete m.g[N],m.h--))}}function je(m,A,N,L){for(var V=0;V<m.length;++V){var q=m[V];if(!q.da&&q.listener==A&&q.capture==!!N&&q.ha==L)return V}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),tt={};function nt(m,A,N,L,V){if(Array.isArray(A)){for(var q=0;q<A.length;q++)nt(m,A[q],N,L,V);return null}return N=Xo(N),m&&m[xt]?m.K(A,N,u(L)?!!L.capture:!1,V):$t(m,A,N,!1,L,V)}function $t(m,A,N,L,V,q){if(!A)throw Error("Invalid event type");var re=u(V)?!!V.capture:!!V,We=_t(m);if(We||(m[Ee]=We=new ge(m)),N=We.add(A,N,L,re,q),N.proxy)return N;if(L=Zn(),N.proxy=L,L.src=m,L.listener=N,m.addEventListener)Se||(V=re),V===void 0&&(V=!1),m.addEventListener(A.toString(),L,V);else if(m.attachEvent)m.attachEvent(tr(A.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Zn(){function m(N){return A.call(m.src,m.listener,N)}const A=Cn;return m}function er(m,A,N,L,V){if(Array.isArray(A))for(var q=0;q<A.length;q++)er(m,A[q],N,L,V);else L=u(L)?!!L.capture:!!L,N=Xo(N),m&&m[xt]?(m=m.i,A=String(A).toString(),A in m.g&&(q=m.g[A],N=je(q,N,L,V),-1<N&&(me(q[N]),Array.prototype.splice.call(q,N,1),q.length==0&&(delete m.g[A],m.h--)))):m&&(m=_t(m))&&(A=m.g[A.toString()],m=-1,A&&(m=je(A,N,L,V)),(N=-1<m?A[m]:null)&&jr(N))}function jr(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[xt])Q(A.i,m);else{var N=m.type,L=m.proxy;A.removeEventListener?A.removeEventListener(N,L,m.capture):A.detachEvent?A.detachEvent(tr(N),L):A.addListener&&A.removeListener&&A.removeListener(L),(N=_t(A))?(Q(N,m),N.h==0&&(N.src=null,A[Ee]=null)):me(m)}}}function tr(m){return m in tt?tt[m]:tt[m]="on"+m}function Cn(m,A){if(m.da)m=!0;else{A=new De(A,this);var N=m.listener,L=m.ha||m.src;m.fa&&jr(m),m=N.call(L,A)}return m}function _t(m){return m=m[Ee],m instanceof ge?m:null}var Xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(m){return typeof m=="function"?m:(m[Xi]||(m[Xi]=function(A){return m.handleEvent(A)}),m[Xi])}function Ft(){ee.call(this),this.i=new ge(this),this.M=this,this.F=null}y(Ft,ee),Ft.prototype[xt]=!0,Ft.prototype.removeEventListener=function(m,A,N,L){er(this,m,A,N,L)};function Et(m,A){var N,L=m.F;if(L)for(N=[];L;L=L.F)N.push(L);if(m=m.M,L=A.type||A,typeof A=="string")A=new ae(A,m);else if(A instanceof ae)A.target=A.target||m;else{var V=A;A=new ae(L,m),O(A,V)}if(V=!0,N)for(var q=N.length-1;0<=q;q--){var re=A.g=N[q];V=sa(re,L,!0,A)&&V}if(re=A.g=m,V=sa(re,L,!0,A)&&V,V=sa(re,L,!1,A)&&V,N)for(q=0;q<N.length;q++)re=A.g=N[q],V=sa(re,L,!1,A)&&V}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var N=m.g[A],L=0;L<N.length;L++)me(N[L]);delete m.g[A],m.h--}}this.F=null},Ft.prototype.K=function(m,A,N,L){return this.i.add(String(m),A,!1,N,L)},Ft.prototype.L=function(m,A,N,L){return this.i.add(String(m),A,!0,N,L)};function sa(m,A,N,L){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var V=!0,q=0;q<A.length;++q){var re=A[q];if(re&&!re.da&&re.capture==N){var We=re.listener,Ht=re.ha||re.src;re.fa&&Q(m.i,re),V=We.call(Ht,L)!==!1&&V}}return V&&!L.defaultPrevented}function cf(m,A,N){if(typeof m=="function")N&&(m=h(m,N));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function df(m){m.g=cf(()=>{m.g=null,m.i&&(m.i=!1,df(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class my extends ee{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:df(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(m){ee.call(this),this.h=m,this.g={}}y(Qo,ee);var fu=[];function Zo(m){C(m.g,function(A,N){this.g.hasOwnProperty(N)&&jr(A)},m),m.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),Zo(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=a.JSON.stringify,gy=a.JSON.parse,yy=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function hu(){}hu.prototype.h=null;function B(m){return m.h||(m.h=m.i())}function de(){}var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function He(){ae.call(this,"d")}y(He,ae);function Ye(){ae.call(this,"c")}y(Ye,ae);var Pn={},nn=null;function Qi(){return nn=nn||new Ft}Pn.La="serverreachability";function pu(m){ae.call(this,Pn.La,m)}y(pu,ae);function li(m){const A=Qi();Et(A,new pu(A))}Pn.STAT_EVENT="statevent";function xT(m,A){ae.call(this,Pn.STAT_EVENT,m),this.stat=A}y(xT,ae);function wn(m){const A=Qi();Et(A,new xT(A,m))}Pn.Ma="timingevent";function ET(m,A){ae.call(this,Pn.Ma,m),this.size=A}y(ET,ae);function mu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function CU(m,A,N,L,V,q){m.info(function(){if(m.g)if(q)for(var re="",We=q.split("&"),Ht=0;Ht<We.length;Ht++){var Le=We[Ht].split("=");if(1<Le.length){var rn=Le[0];Le=Le[1];var on=rn.split("_");re=2<=on.length&&on[1]=="type"?re+(rn+"="+Le+"&"):re+(rn+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+L+") [attempt "+V+"]: "+A+`
`+N+`
`+re})}function PU(m,A,N,L,V,q,re){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+V+"]: "+A+`
`+N+`
`+q+" "+re})}function la(m,A,N,L){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+NU(m,N)+(L?" "+L:"")})}function RU(m,A){m.info(function(){return"TIMEOUT: "+A})}gu.prototype.info=function(){};function NU(m,A){if(!m.g)return A;if(!A)return null;try{var N=JSON.parse(A);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var L=N[m];if(!(2>L.length)){var V=L[1];if(Array.isArray(V)&&!(1>V.length)){var q=V[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return aa(N)}catch{return A}}var ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vy;function hf(){}y(hf,hu),hf.prototype.g=function(){return new XMLHttpRequest},hf.prototype.i=function(){return{}},vy=new hf;function Zi(m,A,N,L){this.j=m,this.i=A,this.l=N,this.R=L||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ST}function ST(){this.i=null,this.g="",this.h=!1}var AT={},_y={};function wy(m,A,N){m.L=1,m.v=yf(ui(A)),m.m=N,m.P=!0,IT(m,null)}function IT(m,A){m.F=Date.now(),pf(m),m.A=ui(m.v);var N=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),jT(N.i,"t",L),m.C=0,N=m.j.J,m.h=new ST,m.g=oS(m.j,N?A:null,!m.m),0<m.O&&(m.M=new my(h(m.Y,m,m.g),m.O)),A=m.U,N=m.g,L=m.ca;var V="readystatechange";Array.isArray(V)||(V&&(fu[0]=V.toString()),V=fu);for(var q=0;q<V.length;q++){var re=nt(N,V[q],L||A.handleEvent,!1,A.h||A);if(!re)break;A.g[re.key]=re}A=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),li(),CU(m.i,m.u,m.A,m.l,m.R,m.m)}Zi.prototype.ca=function(m){m=m.target;const A=this.M;A&&ci(m)==3?A.j():this.Y(m)},Zi.prototype.Y=function(m){try{if(m==this.g)e:{const on=ci(this.g);var A=this.g.Ba();const da=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||KT(this.g)))){this.J||on!=4||A==7||(A==8||0>=da?li(3):li(2)),by(this);var N=this.g.Z();this.X=N;t:if(CT(this)){var L=KT(this.g);m="";var V=L.length,q=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),yu(this);var re="";break t}this.h.i=new a.TextDecoder}for(A=0;A<V;A++)this.h.h=!0,m+=this.h.i.decode(L[A],{stream:!(q&&A==V-1)});L.length=0,this.h.g+=m,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=N==200,PU(this.i,this.u,this.A,this.l,this.R,on,N),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ht=this.g;if((We=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(We)){var Le=We;break t}}Le=null}if(N=Le)la(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xy(this,N);else{this.o=!1,this.s=3,wn(12),es(this),yu(this);break e}}if(this.P){N=!0;let br;for(;!this.J&&this.C<re.length;)if(br=OU(this,re),br==_y){on==4&&(this.s=4,wn(14),N=!1),la(this.i,this.l,null,"[Incomplete Response]");break}else if(br==AT){this.s=4,wn(15),la(this.i,this.l,re,"[Invalid Chunk]"),N=!1;break}else la(this.i,this.l,br,null),xy(this,br);if(CT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||re.length!=0||this.h.h||(this.s=1,wn(16),N=!1),this.o=this.o&&N,!N)la(this.i,this.l,re,"[Invalid Chunked Response]"),es(this),yu(this);else if(0<re.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Cy(rn),rn.M=!0,wn(11))}}else la(this.i,this.l,re,null),xy(this,re);on==4&&es(this),this.o&&!this.J&&(on==4?tS(this.j,this):(this.o=!1,pf(this)))}else JU(this.g),N==400&&0<re.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),es(this),yu(this)}}}catch{}finally{}};function CT(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function OU(m,A){var N=m.C,L=A.indexOf(`
`,N);return L==-1?_y:(N=Number(A.substring(N,L)),isNaN(N)?AT:(L+=1,L+N>A.length?_y:(A=A.slice(L,L+N),m.C=L+N,A)))}Zi.prototype.cancel=function(){this.J=!0,es(this)};function pf(m){m.S=Date.now()+m.I,PT(m,m.I)}function PT(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=mu(h(m.ba,m),A)}function by(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Zi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(RU(this.i,this.A),this.L!=2&&(li(),wn(17)),es(this),this.s=2,yu(this)):PT(this,this.S-m)};function yu(m){m.j.G==0||m.J||tS(m.j,m)}function es(m){by(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,Zo(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function xy(m,A){try{var N=m.j;if(N.G!=0&&(N.g==m||Ey(N.h,m))){if(!m.K&&Ey(N.h,m)&&N.G==3){try{var L=N.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var V=L;if(V[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)Ef(N),bf(N);else break e;Iy(N),wn(18)}}else N.za=V[1],0<N.za-N.T&&37500>V[2]&&N.F&&N.v==0&&!N.C&&(N.C=mu(h(N.Za,N),6e3));if(1>=OT(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ns(N,11)}else if((m.K||N.g==m)&&Ef(N),!x(A))for(V=N.Da.g.parse(A),A=0;A<V.length;A++){let Le=V[A];if(N.T=Le[0],Le=Le[1],N.G==2)if(Le[0]=="c"){N.K=Le[1],N.ia=Le[2];const rn=Le[3];rn!=null&&(N.la=rn,N.j.info("VER="+N.la));const on=Le[4];on!=null&&(N.Aa=on,N.j.info("SVER="+N.Aa));const da=Le[5];da!=null&&typeof da=="number"&&0<da&&(L=1.5*da,N.L=L,N.j.info("backChannelRequestTimeoutMs_="+L)),L=N;const br=m.g;if(br){const Sf=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sf){var q=L.h;q.g||Sf.indexOf("spdy")==-1&&Sf.indexOf("quic")==-1&&Sf.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ty(q,q.h),q.h=null))}if(L.D){const Py=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Py&&(L.ya=Py,rt(L.I,L.D,Py))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),L=N;var re=m;if(L.qa=iS(L,L.J?L.ia:null,L.W),re.K){kT(L.h,re);var We=re,Ht=L.L;Ht&&(We.I=Ht),We.B&&(by(We),pf(We)),L.g=re}else ZT(L);0<N.i.length&&xf(N)}else Le[0]!="stop"&&Le[0]!="close"||ns(N,7);else N.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ns(N,7):Ay(N):Le[0]!="noop"&&N.l&&N.l.ta(Le),N.v=0)}}li(4)}catch{}}var kU=class{constructor(m,A){this.g=m,this.map=A}};function RT(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function OT(m){return m.h?1:m.g?m.g.size:0}function Ey(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Ty(m,A){m.g?m.g.add(A):m.h=A}function kT(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}RT.prototype.cancel=function(){if(this.i=MT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function MT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const N of m.g.values())A=A.concat(N.D);return A}return w(m.i)}function MU(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],N=m.length,L=0;L<N;L++)A.push(m[L]);return A}A=[],N=0;for(L in m)A[N++]=m[L];return A}function DU(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var N=0;N<m;N++)A.push(N);return A}A=[],N=0;for(const L in m)A[N++]=L;return A}}}function DT(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var N=DU(m),L=MU(m),V=L.length,q=0;q<V;q++)A.call(void 0,L[q],N&&N[q],m)}var LT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LU(m,A){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var L=m[N].indexOf("="),V=null;if(0<=L){var q=m[N].substring(0,L);V=m[N].substring(L+1)}else q=m[N];A(q,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ts(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ts){this.h=m.h,mf(this,m.j),this.o=m.o,this.g=m.g,gf(this,m.s),this.l=m.l;var A=m.i,N=new wu;N.i=A.i,A.g&&(N.g=new Map(A.g),N.h=A.h),$T(this,N),this.m=m.m}else m&&(A=String(m).match(LT))?(this.h=!1,mf(this,A[1]||"",!0),this.o=vu(A[2]||""),this.g=vu(A[3]||"",!0),gf(this,A[4]),this.l=vu(A[5]||"",!0),$T(this,A[6]||"",!0),this.m=vu(A[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}ts.prototype.toString=function(){var m=[],A=this.j;A&&m.push(_u(A,FT,!0),":");var N=this.g;return(N||A=="file")&&(m.push("//"),(A=this.o)&&m.push(_u(A,FT,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(_u(N,N.charAt(0)=="/"?VU:FU,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",_u(N,jU)),m.join("")};function ui(m){return new ts(m)}function mf(m,A,N){m.j=N?vu(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function gf(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function $T(m,A,N){A instanceof wu?(m.i=A,BU(m.i,m.h)):(N||(A=_u(A,UU)),m.i=new wu(A,m.h))}function rt(m,A,N){m.i.set(A,N)}function yf(m){return rt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function vu(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function _u(m,A,N){return typeof m=="string"?(m=encodeURI(m).replace(A,$U),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $U(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var FT=/[#\/\?@]/g,FU=/[#\?:]/g,VU=/[#\?]/g,UU=/[#\?@]/g,jU=/#/g;function wu(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function eo(m){m.g||(m.g=new Map,m.h=0,m.i&&LU(m.i,function(A,N){m.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=wu.prototype,t.add=function(m,A){eo(this),this.i=null,m=ua(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(A),this.h+=1,this};function VT(m,A){eo(m),A=ua(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function UT(m,A){return eo(m),A=ua(m,A),m.g.has(A)}t.forEach=function(m,A){eo(this),this.g.forEach(function(N,L){N.forEach(function(V){m.call(A,V,L,this)},this)},this)},t.na=function(){eo(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),N=[];for(let L=0;L<A.length;L++){const V=m[L];for(let q=0;q<V.length;q++)N.push(A[L])}return N},t.V=function(m){eo(this);let A=[];if(typeof m=="string")UT(this,m)&&(A=A.concat(this.g.get(ua(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)A=A.concat(m[N])}return A},t.set=function(m,A){return eo(this),this.i=null,m=ua(this,m),UT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function jT(m,A,N){VT(m,A),0<N.length&&(m.i=null,m.g.set(ua(m,A),w(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var N=0;N<A.length;N++){var L=A[N];const q=encodeURIComponent(String(L)),re=this.V(L);for(L=0;L<re.length;L++){var V=q;re[L]!==""&&(V+="="+encodeURIComponent(String(re[L]))),m.push(V)}}return this.i=m.join("&")};function ua(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function BU(m,A){A&&!m.j&&(eo(m),m.i=null,m.g.forEach(function(N,L){var V=L.toLowerCase();L!=V&&(VT(this,L),jT(this,V,N))},m)),m.j=A}function zU(m,A){const N=new gu;if(a.Image){const L=new Image;L.onload=g(to,N,"TestLoadImage: loaded",!0,A,L),L.onerror=g(to,N,"TestLoadImage: error",!1,A,L),L.onabort=g(to,N,"TestLoadImage: abort",!1,A,L),L.ontimeout=g(to,N,"TestLoadImage: timeout",!1,A,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else A(!1)}function GU(m,A){const N=new gu,L=new AbortController,V=setTimeout(()=>{L.abort(),to(N,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:L.signal}).then(q=>{clearTimeout(V),q.ok?to(N,"TestPingServer: ok",!0,A):to(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(V),to(N,"TestPingServer: error",!1,A)})}function to(m,A,N,L,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),L(N)}catch{}}function qU(){this.g=new yy}function HU(m,A,N){const L=N||"";try{DT(m,function(V,q){let re=V;u(V)&&(re=aa(V)),A.push(L+q+"="+encodeURIComponent(re))})}catch(V){throw A.push(L+"type="+encodeURIComponent("_badmap")),V}}function vf(m){this.l=m.Ub||null,this.j=m.eb||!1}y(vf,hu),vf.prototype.g=function(){return new _f(this.l,this.j)},vf.prototype.i=function(m){return function(){return m}}({});function _f(m,A){Ft.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(_f,Ft),t=_f.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,xu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function BT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?bu(this):xu(this),this.readyState==3&&BT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,bu(this))},t.Qa=function(m){this.g&&(this.response=m,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,xu(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=A.next();return m.join(`\r
`)};function xu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(_f.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function zT(m){let A="";return C(m,function(N,L){A+=L,A+=":",A+=N,A+=`\r
`}),A}function Sy(m,A,N){e:{for(L in N){var L=!1;break e}L=!0}L||(N=zT(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):rt(m,A,N))}function mt(m){Ft.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(mt,Ft);var WU=/^https?$/i,KU=["POST","PUT"];t=mt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,N,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vy.g(),this.v=this.o?B(this.o):B(vy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(q){GT(this,q);return}if(m=N||"",N=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var V in L)N.set(V,L[V]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const q of L.keys())N.set(q,L.get(q));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(N.keys()).find(q=>q.toLowerCase()=="content-type"),V=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KU,A,void 0))||L||V||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of N)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{WT(this),this.u=!0,this.g.send(m),this.u=!1}catch(q){GT(this,q)}};function GT(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,qT(m),wf(m)}function qT(m){m.A||(m.A=!0,Et(m,"complete"),Et(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Et(this,"complete"),Et(this,"abort"),wf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wf(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?HT(this):this.bb())},t.bb=function(){HT(this)};function HT(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ci(m)!=4||m.Z()!=2)){if(m.u&&ci(m)==4)cf(m.Ea,0,m);else if(Et(m,"readystatechange"),ci(m)==4){m.h=!1;try{const re=m.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var L;if(L=re===0){var V=String(m.D).match(LT)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),L=!WU.test(V?V.toLowerCase():"")}N=L}if(N)Et(m,"complete"),Et(m,"success");else{m.m=6;try{var q=2<ci(m)?m.g.statusText:""}catch{q=""}m.l=q+" ["+m.Z()+"]",qT(m)}}finally{wf(m)}}}}function wf(m,A){if(m.g){WT(m);const N=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Et(m,"ready");try{N.onreadystatechange=L}catch{}}}function WT(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ci(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),gy(A)}};function KT(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function JU(m){const A={};m=(m.g&&2<=ci(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(x(m[L]))continue;var N=k(m[L]);const V=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const q=A[V]||[];A[V]=q,q.push(N)}T(A,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(m,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||A}function JT(m){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,m),this.cb=Eu("retryDelaySeedMs",1e4,m),this.Wa=Eu("forwardChannelMaxRetries",2,m),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new RT(m&&m.concurrentRequestLimit),this.Da=new qU,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=JT.prototype,t.la=8,t.G=1,t.connect=function(m,A,N,L){wn(0),this.W=m,this.H=A||{},N&&L!==void 0&&(this.H.OSID=N,this.H.OAID=L),this.F=this.X,this.I=iS(this,null,this.W),xf(this)};function Ay(m){if(YT(m),m.G==3){var A=m.U++,N=ui(m.I);if(rt(N,"SID",m.K),rt(N,"RID",A),rt(N,"TYPE","terminate"),Tu(m,N),A=new Zi(m,m.j,A),A.L=2,A.v=yf(ui(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=A.v,N=!0),N||(A.g=oS(A.j,null),A.g.ea(A.v)),A.F=Date.now(),pf(A)}rS(m)}function bf(m){m.g&&(Cy(m),m.g.cancel(),m.g=null)}function YT(m){bf(m),m.u&&(a.clearTimeout(m.u),m.u=null),Ef(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function xf(m){if(!NT(m.h)&&!m.s){m.s=!0;var A=m.Ga;X||J(),U||(X(),U=!0),W.add(A,m),m.B=0}}function YU(m,A){return OT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=mu(h(m.Ga,m,A),nS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const V=new Zi(this,this.j,m);let q=this.o;if(this.S&&(q?(q=I(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(V.H=q,q=null),this.P)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var L=this.i[N];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=QT(this,V,A),N=ui(this.I),rt(N,"RID",m),rt(N,"CVER",22),this.D&&rt(N,"X-HTTP-Session-Id",this.D),Tu(this,N),q&&(this.O?A="headers="+encodeURIComponent(String(zT(q)))+"&"+A:this.m&&Sy(N,this.m,q)),Ty(this.h,V),this.Ua&&rt(N,"TYPE","init"),this.P?(rt(N,"$req",A),rt(N,"SID","null"),V.T=!0,wy(V,N,null)):wy(V,N,A),this.G=2}}else this.G==3&&(m?XT(this,m):this.i.length==0||NT(this.h)||XT(this))};function XT(m,A){var N;A?N=A.l:N=m.U++;const L=ui(m.I);rt(L,"SID",m.K),rt(L,"RID",N),rt(L,"AID",m.T),Tu(m,L),m.m&&m.o&&Sy(L,m.m,m.o),N=new Zi(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),A&&(m.i=A.D.concat(m.i)),A=QT(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ty(m.h,N),wy(N,L,A)}function Tu(m,A){m.H&&C(m.H,function(N,L){rt(A,L,N)}),m.l&&DT({},function(N,L){rt(A,L,N)})}function QT(m,A,N){N=Math.min(m.i.length,N);var L=m.l?h(m.l.Na,m.l,m):null;e:{var V=m.i;let q=-1;for(;;){const re=["count="+N];q==-1?0<N?(q=V[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let We=!0;for(let Ht=0;Ht<N;Ht++){let Le=V[Ht].g;const rn=V[Ht].map;if(Le-=q,0>Le)q=Math.max(0,V[Ht].g-100),We=!1;else try{HU(rn,re,"req"+Le+"_")}catch{L&&L(rn)}}if(We){L=re.join("&");break e}}}return m=m.i.splice(0,N),A.D=m,L}function ZT(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;X||J(),U||(X(),U=!0),W.add(A,m),m.v=0}}function Iy(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=mu(h(m.Fa,m),nS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,eS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=mu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),bf(this),eS(this))};function Cy(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function eS(m){m.g=new Zi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=ui(m.qa);rt(A,"RID","rpc"),rt(A,"SID",m.K),rt(A,"AID",m.T),rt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&rt(A,"TO",m.ja),rt(A,"TYPE","xmlhttp"),Tu(m,A),m.m&&m.o&&Sy(A,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=yf(ui(A)),N.m=null,N.P=!0,IT(N,m)}t.Za=function(){this.C!=null&&(this.C=null,bf(this),Iy(this),wn(19))};function Ef(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function tS(m,A){var N=null;if(m.g==A){Ef(m),Cy(m),m.g=null;var L=2}else if(Ey(m.h,A))N=A.D,kT(m.h,A),L=1;else return;if(m.G!=0){if(A.o)if(L==1){N=A.m?A.m.length:0,A=Date.now()-A.F;var V=m.B;L=Qi(),Et(L,new ET(L,N)),xf(m)}else ZT(m);else if(V=A.s,V==3||V==0&&0<A.X||!(L==1&&YU(m,A)||L==2&&Iy(m)))switch(N&&0<N.length&&(A=m.h,A.i=A.i.concat(N)),V){case 1:ns(m,5);break;case 4:ns(m,10);break;case 3:ns(m,6);break;default:ns(m,2)}}}function nS(m,A){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*A}function ns(m,A){if(m.j.info("Error code "+A),A==2){var N=h(m.fb,m),L=m.Xa;const V=!L;L=new ts(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mf(L,"https"),yf(L),V?zU(L.toString(),N):GU(L.toString(),N)}else wn(2);m.G=0,m.l&&m.l.sa(A),rS(m),YT(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function rS(m){if(m.G=0,m.ka=[],m.l){const A=MT(m.h);(A.length!=0||m.i.length!=0)&&(v(m.ka,A),v(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function iS(m,A,N){var L=N instanceof ts?ui(N):new ts(N);if(L.g!="")A&&(L.g=A+"."+L.g),gf(L,L.s);else{var V=a.location;L=V.protocol,A=A?A+"."+V.hostname:V.hostname,V=+V.port;var q=new ts(null);L&&mf(q,L),A&&(q.g=A),V&&gf(q,V),N&&(q.l=N),L=q}return N=m.D,A=m.ya,N&&A&&rt(L,N,A),rt(L,"VER",m.la),Tu(m,L),L}function oS(m,A,N){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new mt(new vf({eb:N})):new mt(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sS(){}t=sS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tf(){}Tf.prototype.g=function(m,A){return new jn(m,A)};function jn(m,A){Ft.call(this),this.g=new JT(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!x(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!x(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new ca(this)}y(jn,Ft),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Ay(this.g)},jn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=aa(m),m=N);A.i.push(new kU(A.Ya++,m)),A.G==3&&xf(A)},jn.prototype.N=function(){this.g.l=null,delete this.j,Ay(this.g),delete this.g,jn.aa.N.call(this)};function aS(m){He.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const N in A){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}y(aS,He);function lS(){Ye.call(this),this.status=1}y(lS,Ye);function ca(m){this.g=m}y(ca,sS),ca.prototype.ua=function(){Et(this.g,"a")},ca.prototype.ta=function(m){Et(this.g,new aS(m))},ca.prototype.sa=function(m){Et(this.g,new lS)},ca.prototype.ra=function(){Et(this.g,"b")},Tf.prototype.createWebChannel=Tf.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,UM=function(){return new Tf},VM=function(){return Qi()},FM=Pn,Z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,Ih=ff,TT.COMPLETE="complete",$M=TT,de.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Zu=de,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,LM=mt}).apply(typeof Gf<"u"?Gf:typeof self<"u"?self:typeof window<"u"?window:{});const PA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new tx("@firebase/firestore");function ku(){return Ls.logLevel}function fe(t,...e){if(Ls.logLevel<=Re.DEBUG){const n=e.map(rx);Ls.debug(`Firestore (${ql}): ${t}`,...n)}}function Di(t,...e){if(Ls.logLevel<=Re.ERROR){const n=e.map(rx);Ls.error(`Firestore (${ql}): ${t}`,...n)}}function zc(t,...e){if(Ls.logLevel<=Re.WARN){const n=e.map(rx);Ls.warn(`Firestore (${ql}): ${t}`,...n)}}function rx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function ze(t,e){t||ve()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class r3{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new t3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Rn(e)}}class i3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new s3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function dl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends Gc{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const u3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Gc{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return u3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Qe.fromString(e))}static fromName(e){return new he(Qe.fromString(e).popFirst(5))}static empty(){return new he(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Qe(e.slice()))}}function c3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Do(i,he.empty(),e)}function d3(t){return new Do(t.readTime,t.key,-1)}class Do{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Do(be.min(),he.empty(),-1)}static max(){return new Do(be.max(),he.empty(),-1)}}function f3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==h3)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function m3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ix.oe=-1;function Ym(t){return t==null}function cp(t){return t===0&&1/t==-1/0}function g3(t){return typeof t=="number"&&Number.isInteger(t)&&!cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NA(this.data.getIterator())}getIteratorFrom(e){return new NA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class NA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zM("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(ze(!!t),typeof t=="string"){let e=0;const n=y3.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sx(t){const e=t.mapValue.fields.__previous_value__;return ox(e)?sx(e):e}function qc(t){const e=Lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf={mapValue:{}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ox(t)?4:w3(t)?9007199254740991:_3(t)?10:11:ve()}function ii(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Lo(i.timestampValue),a=Lo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return $s(i.bytesValue).isEqual($s(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?cp(s)===cp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(RA(s)!==RA(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ii(s[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function Wc(t,e){return(t.values||[]).find(n=>ii(n,e))!==void 0}function fl(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return OA(t.timestampValue,e.timestampValue);case 4:return OA(qc(t),qc(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(o,s){const a=$s(o),l=$s(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=$e(a[u],l[u]);if(c!==0)return c}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=$e(wt(o.latitude),wt(s.latitude));return a!==0?a:$e(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=$e(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:kA(g,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hf.mapValue&&s===Hf.mapValue)return 0;if(o===Hf.mapValue)return 1;if(s===Hf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=$e(l[d],c[d]);if(h!==0)return h;const g=fl(a[l[d]],u[c[d]]);if(g!==0)return g}return $e(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ve()}}function OA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Lo(t),r=Lo(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function kA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=fl(n[i],r[i]);if(o)return o}return $e(n.length,r.length)}function hl(t){return e_(t)}function e_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=e_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${e_(n.fields[s])}`;return i+"}"}(t.mapValue):ve()}function MA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function t_(t){return!!t&&"integerValue"in t}function ax(t){return!!t&&"arrayValue"in t}function DA(t){return!!t&&"nullValue"in t}function LA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ch(t){return!!t&&"mapValue"in t}function _3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(pc(this.value))}}function GM(t){const e=[];return Xs(t.fields,(n,r)=>{const i=new Yt([n]);if(Ch(r)){const o=GM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,be.min(),be.min(),be.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,be.min(),be.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,be.min(),be.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.position=e,this.inclusive=n}}function $A(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=fl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function b3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class It extends qM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E3(e,n,r):n==="array-contains"?new A3(e,r):n==="in"?new I3(e,r):n==="not-in"?new C3(e,r):n==="array-contains-any"?new P3(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T3(e,r):new S3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fl(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends qM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $r(e,n)}matches(e){return HM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HM(t){return t.op==="and"}function WM(t){return x3(t)&&HM(t)}function x3(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function n_(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(WM(t))return t.filters.map(e=>n_(e)).join(",");{const e=t.filters.map(n=>n_(n)).join(",");return`${t.op}(${e})`}}function KM(t,e){return t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&KM(s,i.filters[a]),!0):!1}(t,e):void ve()}function JM(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(JM).join(" ,")+"}"}(t):"Filter"}class E3 extends It{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class T3 extends It{constructor(e,n){super(e,"in",n),this.keys=YM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S3 extends It{constructor(e,n){super(e,"not-in",n),this.keys=YM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class A3 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ax(n)&&Wc(n.arrayValue,this.value)}}class I3 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class C3 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wc(this.value.arrayValue,n)}}class P3 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function VA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new R3(t,e,n,r,i,o,s)}function lx(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),e.ue=n}return e.ue}function ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FA(t.startAt,e.startAt)&&FA(t.endAt,e.endAt)}function r_(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function N3(t,e,n,r,i,o,s,a){return new Qs(t,e,n,r,i,o,s,a)}function Xm(t){return new Qs(t)}function UA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XM(t){return t.collectionGroup!==null}function mc(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Kc(o,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new Kc(Yt.keyField(),r))}return e.ce}function Xr(t){const e=xe(t);return e.le||(e.le=O3(e,mc(t))),e.le}function O3(t,e){if(t.limitType==="F")return VA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Kc(i.field,o)});const n=t.endAt?new dp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dp(t.startAt.position,t.startAt.inclusive):null;return VA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i_(t,e){const n=t.filters.concat([e]);return new Qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o_(t,e,n){return new Qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qm(t,e){return ux(Xr(t),Xr(e))&&t.limitType===e.limitType}function QM(t){return`${lx(Xr(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JM(i)).join(", ")}]`),Ym(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hl(i)).join(",")),`Target(${r})`}(Xr(t))}; limitType=${t.limitType})`}function Zm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of mc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=$A(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,mc(r),i)||r.endAt&&!function(s,a,l){const u=$A(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,mc(r),i))}(t,e)}function k3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZM(t){return(e,n)=>{let r=!1;for(const i of mc(t)){const o=M3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M3(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?fl(l,u):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new pt(he.comparator);function Li(){return D3}const eD=new pt(he.comparator);function ec(...t){let e=eD;for(const n of t)e=e.insert(n.key,n);return e}function tD(t){let e=eD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ys(){return gc()}function nD(){return gc()}function gc(){return new Hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const L3=new pt(he.comparator),$3=new Zt(he.comparator);function Ce(...t){let e=$3;for(const n of t)e=e.add(n);return e}const F3=new Zt($e);function V3(){return F3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(e)?"-0":e}}function rD(t){return{integerValue:""+t}}function U3(t,e){return g3(e)?rD(e):cx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this._=void 0}}function j3(t,e,n){return t instanceof fp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ox(o)&&(o=sx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Jc?oD(t,e):t instanceof Yc?sD(t,e):function(i,o){const s=iD(i,o),a=jA(s)+jA(i.Pe);return t_(s)&&t_(i.Pe)?rD(a):cx(i.serializer,a)}(t,e)}function B3(t,e,n){return t instanceof Jc?oD(t,e):t instanceof Yc?sD(t,e):n}function iD(t,e){return t instanceof hp?function(r){return t_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fp extends eg{}class Jc extends eg{constructor(e){super(),this.elements=e}}function oD(t,e){const n=aD(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yc extends eg{constructor(e){super(),this.elements=e}}function sD(t,e){let n=aD(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class hp extends eg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jA(t){return wt(t.integerValue||t.doubleValue)}function aD(t){return ax(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function z3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jc&&i instanceof Jc||r instanceof Yc&&i instanceof Yc?dl(r.elements,i.elements,ii):r instanceof hp&&i instanceof hp?ii(r.Pe,i.Pe):r instanceof fp&&i instanceof fp}(t.transform,e.transform)}class G3{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tg{}function lD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dx(t.key,fr.none()):new Hd(t.key,t.data,fr.none());{const n=t.data,r=kn.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new jo(t.key,r,new Wn(i.toArray()),fr.none())}}function q3(t,e,n){t instanceof Hd?function(i,o,s){const a=i.value.clone(),l=zA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jo?function(i,o,s){if(!Ph(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=zA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(uD(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yc(t,e,n,r){return t instanceof Hd?function(o,s,a,l){if(!Ph(o.precondition,s))return a;const u=o.value.clone(),c=GA(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof jo?function(o,s,a,l){if(!Ph(o.precondition,s))return a;const u=GA(o.fieldTransforms,l,s),c=s.data;return c.setAll(uD(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ph(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function H3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=iD(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function BA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dl(r,i,(o,s)=>z3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends tg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jo extends tg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zA(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,B3(s,a,n[i]))}return r}function GA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,j3(o,s,e))}return r}class dx extends tg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W3 extends tg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&q3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=lD(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(n,r)=>BA(n,r))&&dl(this.baseMutations,e.baseMutations,(n,r)=>BA(n,r))}}class fx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return L3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Oe;function X3(t){switch(t){default:return ve();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function cD(t){if(t===void 0)return Di("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Tt.OK:return Y.OK;case Tt.CANCELLED:return Y.CANCELLED;case Tt.UNKNOWN:return Y.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Y.INTERNAL;case Tt.UNAVAILABLE:return Y.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Y.NOT_FOUND;case Tt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Tt.ABORTED:return Y.ABORTED;case Tt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Tt.DATA_LOSS:return Y.DATA_LOSS;default:return ve()}}(Oe=Tt||(Tt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Is([4294967295,4294967295],0);function qA(t){const e=Q3().encode(t),n=new DM;return n.update(e),new Uint8Array(n.digest())}function HA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,o],0)]}class hx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Is.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(Z3)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qA(e),[r,i]=HA(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new hx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=qA(e),[r,i]=HA(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ng(be.min(),i,new pt($e),Li(),Ce())}}class Wd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dD{constructor(e,n){this.targetId=e,this.me=n}}class fD{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WA{constructor(){this.fe=0,this.ge=JA(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Wd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=JA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eG{constructor(e){this.Le=e,this.Be=new Map,this.ke=Li(),this.qe=KA(),this.Qe=new pt($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(r_(o))if(r===0){const s=new he(o.path);this.Ue(n,s,dn.newNoDocument(s,be.min()))}else ze(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=$s(r).toUint8Array()}catch(l){if(l instanceof zM)return zc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hx(s,i,o)}catch(l){return zc(l instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&r_(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,dn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ce();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ng(e,n,this.Qe,this.ke,r);return this.ke=Li(),this.qe=KA(),this.Qe=new pt($e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new WA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new WA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function KA(){return new pt(he.comparator)}function JA(){return new pt(he.comparator)}const tG={asc:"ASCENDING",desc:"DESCENDING"},nG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rG={and:"AND",or:"OR"};class iG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s_(t,e){return t.useProto3Json||Ym(e)?e:{value:e}}function pp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oG(t,e){return pp(t,e.toTimestamp())}function Qr(t){return ze(!!t),be.fromTimestamp(function(n){const r=Lo(n);return new Dt(r.seconds,r.nanos)}(t))}function px(t,e){return a_(t,e).canonicalString()}function a_(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pD(t){const e=Qe.fromString(t);return ze(_D(e)),e}function l_(t,e){return px(t.databaseId,e.path)}function lv(t,e){const n=pD(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(gD(n))}function mD(t,e){return px(t.databaseId,e)}function sG(t){const e=pD(t);return e.length===4?Qe.emptyPath():gD(e)}function u_(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gD(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YA(t,e,n){return{name:l_(t,e),fields:n.value.mapValue.fields}}function aG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Y.UNKNOWN:cD(u.code);return new le(c,u.message||"")}(s);n=new fD(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lv(t,r.document.name),o=Qr(r.document.updateTime),s=r.document.createTime?Qr(r.document.createTime):be.min(),a=new kn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Rh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lv(t,r.document),o=r.readTime?Qr(r.readTime):be.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lv(t,r.document),o=r.removedTargetIds||[];n=new Rh([],o,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Y3(i,o),a=r.targetId;n=new dD(a,s)}}return n}function lG(t,e){let n;if(e instanceof Hd)n={update:YA(t,e.key,e.value)};else if(e instanceof dx)n={delete:l_(t,e.key)};else if(e instanceof jo)n={update:YA(t,e.key,e.data),updateMask:yG(e.fieldMask)};else{if(!(e instanceof W3))return ve();n={verify:l_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof fp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ve()}(t,e.precondition)),n}function uG(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Qr(i.updateTime):Qr(o);return s.isEqual(be.min())&&(s=Qr(o)),new G3(s,i.transformResults||[])}(n,e))):[]}function cG(t,e){return{documents:[mD(t,e.path)]}}function dG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mD(t,i);const o=function(u){if(u.length!==0)return vD($r.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:_a(h.field),direction:pG(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=s_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function fG(t){let e=sG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=yD(d);return h instanceof $r&&WM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(y){return new Kc(wa(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ym(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,g=d.values||[];return new dp(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,g=d.values||[];return new dp(g,h)}(n.endAt)),N3(e,i,s,o,a,"F",l,u)}function hG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wa(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wa(n.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wa(n.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wa(n.unaryFilter.field);return It.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return It.create(wa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>yD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function pG(t){return tG[t]}function mG(t){return nG[t]}function gG(t){return rG[t]}function _a(t){return{fieldPath:t.canonicalString()}}function wa(t){return Yt.fromServerFormat(t.fieldPath)}function vD(t){return t instanceof It?function(n){if(n.op==="=="){if(LA(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NAN"}};if(DA(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LA(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NOT_NAN"}};if(DA(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(n.field),op:mG(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(i=>vD(i));return r.length===1?r[0]:{compositeFilter:{op:gG(n.op),filters:r}}}(t):ve()}function yG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _D(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r,i,o=be.min(),s=be.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.ct=e}}function _G(t){const e=fG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.un=new bG}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Do.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class bG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new pl(0)}static kn(){return new pl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.changes=new Hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yc(r.mutation,i,Wn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ec();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Li();const s=gc(),a=function(){return gc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof jo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yc(c.mutation,u,c.mutation.getFieldMask(),Dt.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new EG(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gc();let i=new pt((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=nD();c.forEach(h=>{if(!o.has(h)){const g=lD(n.get(h),r.get(h));g!==null&&d.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(ys());let a=-1,l=o;return s.next(u=>Z.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:tD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ec();return this.indexManager.getCollectionParents(e,o).next(a=>Z.forEach(a,l=>{const u=function(d,h){return new Qs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,dn.newInvalidDocument(c)))});let a=ec();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&yc(c.mutation,u,Wn.empty(),Dt.now()),Zm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_G(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.overlays=new pt(he.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ys();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=ys(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ys(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ys(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new J3(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ce(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.Tr=new Zt(Vt.Er),this.dr=new Zt(Vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new he(new Qe([])),r=new Vt(n,e),i=new Vt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new he(new Qe([])),r=new Vt(n,e),i=new Vt(n,e+1);let o=Ce();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||$e(e.wr,n.wr)}static Ar(e,n){return $e(e.wr,n.wr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Vt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new K3(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt($e);return n.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new he(o),0);let a=new Zt($e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Vt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Vt(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.Mr=e,this.docs=function(){return new pt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Li();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||f3(d3(c),r)<=0||(i.has(c.key)||Zm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RG(this)}getSize(e){return Z.resolve(this.size)}}class RG extends xG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.persistence=e,this.Nr=new Hl(n=>lx(n),ux),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mx,this.targetCount=0,this.kr=pl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ix(0),this.Kr=!1,this.Kr=!0,this.$r=new IG,this.referenceDelegate=e(this),this.Ur=new NG(this),this.indexManager=new wG,this.remoteDocumentCache=function(i){return new PG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vG(n),this.Gr=new SG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new CG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new kG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kG extends p3{constructor(e){super(),this.currentSequenceNumber=e}}class gx{constructor(e){this.persistence=e,this.Jr=new mx,this.Yr=null}static Zr(e){return new gx(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=he.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return F4()?8:m3(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new MG;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ku()<=Re.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(ku()<=Re.DEBUG&&fe("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ku()<=Re.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):Z.resolve())}Yi(e,n){if(UA(n))return Z.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=o_(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,o_(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return UA(n)||i.isEqual(be.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Z.resolve(null):(ku()<=Re.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),va(n)),this.rs(e,s,n,c3(i,-1)).next(a=>a))})}ts(e,n){let r=new Zt(ZM(e));return n.forEach((i,o)=>{Zm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ku()<=Re.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",va(n)),this.Ji.getDocumentsMatchingQuery(e,n,Do.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pt($e),this._s=new Hl(o=>lx(o),ux),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function $G(t,e,n,r){return new LG(t,e,n,r)}async function wD(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function FG(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let g=Z.resolve();return h.forEach(y=>{g=g.next(()=>c.getEntry(l,y)).next(w=>{const v=u.docVersions.get(y);ze(v!==null),w.version.compareTo(v)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bD(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function VG(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),function(w,v,b){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,g,c)&&a.push(n.Ur.updateTargetData(o,g))});let l=Li(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(UG(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(be.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function UG(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Li();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function jG(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BG(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new vo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function c_(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!qd(s))throw s;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function XA(t,e,n){const r=xe(t);let i=be.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=xe(l),h=d._s.get(c);return h!==void 0?Z.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:be.min(),n?o:Ce())).next(a=>(zG(r,k3(e),a),{documents:a,Ts:o})))}function zG(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class QA{constructor(){this.activeTargetIds=V3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GG{constructor(){this.so=new QA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new QA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=null;function uv(){return Wf===null?Wf=function(){return 268435456+Math.round(2147483648*Math.random())}():Wf++,"0x"+Wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class KG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=uv(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw zc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ql}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=HG[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=uv();return new Promise((s,a)=>{const l=new LM;l.setWithCredentials(!0),l.listenOnce($M.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ih.NO_ERROR:const c=l.getResponseJson();fe(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Ih.TIMEOUT:fe(ln,`RPC '${e}' ${o} timed out`),a(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const d=l.getStatus();if(fe(ln,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const y=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(b)>=0?b:Y.UNKNOWN}(g.status);a(new le(y,g.message))}else a(new le(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new le(Y.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{fe(ln,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);fe(ln,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=uv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=UM(),a=VM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");fe(ln,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,g=!1;const y=new WG({Io:v=>{g?fe(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(fe(ln,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),fe(ln,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),w=(v,b,x)=>{v.listen(b,S=>{try{x(S)}catch(P){setTimeout(()=>{throw P},0)}})};return w(d,Zu.EventType.OPEN,()=>{g||(fe(ln,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),w(d,Zu.EventType.CLOSE,()=>{g||(g=!0,fe(ln,`RPC '${e}' stream ${i} transport closed`),y.So())}),w(d,Zu.EventType.ERROR,v=>{g||(g=!0,zc(ln,`RPC '${e}' stream ${i} transport errored:`,v),y.So(new le(Y.UNAVAILABLE,"The operation could not be completed")))}),w(d,Zu.EventType.MESSAGE,v=>{var b;if(!g){const x=v.data[0];ze(!!x);const S=x,P=S.error||((b=S[0])===null||b===void 0?void 0:b.error);if(P){fe(ln,`RPC '${e}' stream ${i} received error:`,P);const E=P.status;let C=function(R){const O=Tt[R];if(O!==void 0)return cD(O)}(E),T=P.message;C===void 0&&(C=Y.INTERNAL,T="Unknown error status: "+E+" with message "+P.message),g=!0,y.So(new le(C,T)),d.close()}else fe(ln,`RPC '${e}' stream ${i} received:`,x),y.bo(x)}}),w(a,FM.STAT_EVENT,v=>{v.stat===Z0.PROXY?fe(ln,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Z0.NOPROXY&&fe(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return new iG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JG extends ED{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=aG(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?Qr(s.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=u_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=r_(l)?{documents:cG(o,l)}:{query:dG(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=hD(o,s.resumeToken);const u=s_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=pp(o,s.snapshotVersion.toTimestamp());const u=s_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=hG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=u_(this.serializer),n.removeTarget=e,this.a_(n)}}class YG extends ED{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=uG(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=u_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lG(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,a_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Y.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,a_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Y.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Zs(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Kd(u),u.q_.set("Unknown"),u.L_.delete(4),await ig(u)}(this))})}),this.q_=new QG(r,i)}}async function ig(t){if(Zs(t))for(const e of t.B_)await e(!0)}async function Kd(t){for(const e of t.B_)await e(!1)}function TD(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bx(n)?wx(n):Wl(n).r_()&&_x(n,e))}function vx(t,e){const n=xe(t),r=Wl(n);n.N_.delete(e),r.r_()&&SD(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function _x(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wl(t).A_(e)}function SD(t,e){t.Q_.xe(e),Wl(t).R_(e)}function wx(t){t.Q_=new eG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.q_.v_()}function bx(t){return Zs(t)&&!Wl(t).n_()&&t.N_.size>0}function Zs(t){return xe(t).L_.size===0}function AD(t){t.Q_=void 0}async function e5(t){t.q_.set("Online")}async function t5(t){t.N_.forEach((e,n)=>{_x(t,e)})}async function n5(t,e){AD(t),bx(t)?(t.q_.M_(e),wx(t)):t.q_.set("Unknown")}async function r5(t,e,n){if(t.q_.set("Online"),e instanceof fD&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mp(t,r)}else if(e instanceof Rh?t.Q_.Ke(e):e instanceof dD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await bD(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),SD(o,l);const d=new vo(c.target,l,u,c.sequenceNumber);_x(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await mp(t,r)}}async function mp(t,e,n){if(!qd(e))throw e;t.L_.add(1),await Kd(t),t.q_.set("Offline"),n||(n=()=>bD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ig(t)})}function ID(t,e){return e().catch(n=>mp(t,n,e))}async function og(t){const e=xe(t),n=$o(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;i5(e);)try{const i=await jG(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,o5(e,i)}catch(i){await mp(e,i)}CD(e)&&PD(e)}function i5(t){return Zs(t)&&t.O_.length<10}function o5(t,e){t.O_.push(e);const n=$o(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CD(t){return Zs(t)&&!$o(t).n_()&&t.O_.length>0}function PD(t){$o(t).start()}async function s5(t){$o(t).p_()}async function a5(t){const e=$o(t);for(const n of t.O_)e.m_(n.mutations)}async function l5(t,e,n){const r=t.O_.shift(),i=fx.from(r,e,n);await ID(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await og(t)}async function u5(t,e){e&&$o(t).V_&&await async function(r,i){if(function(s){return X3(s)&&s!==Y.ABORTED}(i.code)){const o=r.O_.shift();$o(r).s_(),await ID(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await og(r)}}(t,e),CD(t)&&PD(t)}async function eI(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.L_.add(3),await Kd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ig(n)}async function c5(t,e){const n=xe(t);e?(n.L_.delete(2),await ig(n)):e||(n.L_.add(2),await Kd(n),n.q_.set("Unknown"))}function Wl(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new JG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:e5.bind(null,t),Ro:t5.bind(null,t),mo:n5.bind(null,t),d_:r5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),bx(t)?wx(t):t.q_.set("Unknown")):(await t.K_.stop(),AD(t))})),t.K_}function $o(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new YG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s5.bind(null,t),mo:u5.bind(null,t),f_:a5.bind(null,t),g_:l5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await og(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new xx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ex(t,e){if(Di("AsyncQueue",`${e}: ${t}`),qd(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.W_=new pt(he.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ml{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ml(e,n,Wa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class f5{constructor(){this.queries=nI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=nI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function nI(){return new Hl(t=>QM(t),Qm)}async function Tx(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new d5,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Ex(s,`Initialization of query '${va(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Ax(n)}async function Sx(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h5(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Ax(n)}function p5(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Ax(t){t.Y_.forEach(e=>{e.next()})}var d_,rI;(rI=d_||(d_={})).ea="default",rI.Cache="cache";class Ix{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==d_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.key=e}}class ND{constructor(e){this.key=e}}class m5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=ZM(e),this.Ra=new Wa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new tI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),g=Zm(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;h&&g?h.data.isEqual(g.data)?y!==w&&(r.track({type:3,doc:g}),v=!0):this.ga(h,g)||(r.track({type:2,doc:g}),v=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),v=!0):h&&!g&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(g?(s=s.add(g),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(g,y){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return w(g)-w(y)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new ml(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ND(r))}),this.da.forEach(r=>{e.has(r)||n.push(new RD(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ml.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class g5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class y5{constructor(e){this.key=e,this.va=!1}}class v5{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Hl(a=>QM(a),Qm),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(he.comparator),this.Na=new Map,this.La=new mx,this.Ba={},this.ka=new Map,this.qa=pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _5(t,e,n=!0){const r=$D(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await OD(r,e,n,!0),i}async function w5(t,e){const n=$D(t);await OD(n,e,!0,!1)}async function OD(t,e,n,r){const i=await BG(t.localStore,Xr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await b5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&TD(t.remoteStore,i),a}async function b5(t,e,n,r,i){t.Ka=(d,h,g)=>async function(w,v,b,x){let S=v.view.ma(b);S.ns&&(S=await XA(w.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,S)));const P=x&&x.targetChanges.get(v.targetId),E=x&&x.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(S,w.isPrimaryClient,P,E);return oI(w,v.targetId,C.wa),C.snapshot}(t,d,h,g);const o=await XA(t.localStore,e,!0),s=new m5(e,o.Ts),a=s.ma(o.documents),l=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);oI(t,n,u.wa);const c=new g5(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function x5(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Qm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await c_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vx(r.remoteStore,i.targetId),f_(r,i.targetId)}).catch(Gd)):(f_(r,i.targetId),await c_(r.localStore,i.targetId,!0))}async function E5(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vx(n.remoteStore,r.targetId))}async function T5(t,e,n){const r=N5(t);try{const i=await function(s,a){const l=xe(s),u=Dt.now(),c=a.reduce((g,y)=>g.add(y.key),Ce());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Li(),w=Ce();return l.cs.getEntries(g,c).next(v=>{y=v,y.forEach((b,x)=>{x.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(v=>{d=v;const b=[];for(const x of a){const S=H3(x,d.get(x.key).overlayedDocument);S!=null&&b.push(new jo(x.key,S,GM(S.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,b,a)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(g,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:tD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new pt($e)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Jd(r,i.changes),await og(r.remoteStore)}catch(i){const o=Ex(i,"Failed to persist write");n.reject(o)}}async function kD(t,e){const n=xe(t);try{const r=await VG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ze(s.va):i.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),await Jd(n,r,e)}catch(r){await Gd(r)}}function iI(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=xe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&Ax(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S5(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new pt(he.comparator);s=s.insert(o,dn.newNoDocument(o,be.min()));const a=Ce().add(o),l=new ng(be.min(),new Map,new pt($e),s,a);await kD(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Cx(r)}else await c_(r.localStore,e,!1).then(()=>f_(r,e,n)).catch(Gd)}async function A5(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await FG(n.localStore,e);DD(n,r,null),MD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jd(n,i)}catch(i){await Gd(i)}}async function I5(t,e,n){const r=xe(t);try{const i=await function(s,a){const l=xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ze(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);DD(r,e,n),MD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jd(r,i)}catch(i){await Gd(i)}}function MD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function DD(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function f_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||LD(t,r)})}function LD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Cx(t))}function oI(t,e,n){for(const r of n)r instanceof RD?(t.La.addReference(r.key,e),C5(t,r)):r instanceof ND?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||LD(t,r.key)):ve()}function C5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Cx(t))}function Cx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new he(Qe.fromString(e)),r=t.qa.next();t.Na.set(r,new y5(n)),t.Oa=t.Oa.insert(n,r),TD(t.remoteStore,new vo(Xr(Xm(n.path)),r,"TargetPurposeLimboResolution",ix.oe))}}async function Jd(t,e,n){const r=xe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=yx.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Z.forEach(u,h=>Z.forEach(h.$i,g=>c.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>Z.forEach(h.Ui,g=>c.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!qd(d))throw d;fe("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const g=c.os.get(h),y=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function P5(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await wD(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new le(Y.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jd(n,r.hs)}}function R5(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function $D(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S5.bind(null,e),e.Ca.d_=h5.bind(null,e.eventManager),e.Ca.$a=p5.bind(null,e.eventManager),e}function N5(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I5.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return $G(this.persistence,new DG,e.initialUser,this.serializer)}Ga(e){return new OG(gx.Zr,this.serializer)}Wa(e){return new GG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class h_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P5.bind(null,this.syncEngine),await c5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f5}()}createDatastore(e){const n=rg(e.databaseInfo.databaseId),r=function(o){return new KG(o)}(e.databaseInfo);return function(o,s,a,l){return new XG(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new ZG(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iI(this.syncEngine,n,0),function(){return ZA.D()?new ZA:new qG}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new v5(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);fe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Kd(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}h_.provider={build:()=>new h_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=jM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{fe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ex(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dv(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k5(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eI(e.remoteStore,i)),t._onlineComponents=e}async function k5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await dv(t,new gp)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await dv(t,new gp);return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await sI(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await sI(t,new h_))),t._onlineComponents}function M5(t){return FD(t).then(e=>e.syncEngine)}async function yp(t){const e=await FD(t),n=e.eventManager;return n.onListen=_5.bind(null,e.syncEngine),n.onUnlisten=x5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E5.bind(null,e.syncEngine),n}function D5(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Px({next:h=>{c.Za(),s.enqueueAndForget(()=>Sx(o,d));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Ix(Xm(a.path),c,{includeMetadataChanges:!0,_a:!0});return Tx(o,d)}(await yp(t),t.asyncQueue,e,n,r)),r.promise}function L5(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Px({next:h=>{c.Za(),s.enqueueAndForget(()=>Sx(o,d)),h.fromCache&&l.source==="server"?u.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Ix(a,c,{includeMetadataChanges:!0,_a:!0});return Tx(o,d)}(await yp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $5(t,e,n,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lI(t){if(!he.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uI(t){if(he.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n3;switch(r.type){case"firstParty":return new o3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aI.get(n);r&&(fe("ComponentProvider","Removing Datastore"),aI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Ro extends qi{constructor(e,n,r){super(e,n,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new he(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function F5(t,e,...n){if(t=vt(t),Rx("collection","path",e),t instanceof ag){const r=Qe.fromString(e,...n);return uI(r),new Ro(t,null,r)}{if(!(t instanceof gn||t instanceof Ro))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return uI(r),new Ro(t.firestore,null,r)}}function V5(t,e){if(t=Vn(t,ag),Rx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(t,null,function(r){return new Qs(Qe.emptyPath(),r)}(e))}function UD(t,e,...n){if(t=vt(t),arguments.length===1&&(e=jM.newId()),Rx("doc","path",e),t instanceof ag){const r=Qe.fromString(e,...n);return lI(r),new gn(t,null,new he(r))}{if(!(t instanceof gn||t instanceof Ro))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return lI(r),new gn(t.firestore,t instanceof Ro?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xD(this,"async_queue_retry"),this.Vu=()=>{const r=cv();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qd(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=xx.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function fI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $i extends ag{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dI(e),this._firestoreClient=void 0,await e}}}function U5(t,e,n){n||(n="(default)");const r=zl(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(jc(o,e))return i;throw new le(Y.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new le(Y.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function lg(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j5(t),t._firestoreClient}function j5(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new v3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,VD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new O5(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(tn.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gl(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=/^__.*__$/;class z5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}class jD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Mx{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BD(this.Cu)&&B5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class G5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rg(e)}Qu(e,n,r,i=!1){return new Mx({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(t){const e=t._freezeSettings(),n=rg(t._databaseId);return new G5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zD(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Dx("Data must be an object, but it was:",s,r);const a=GD(r,s);let l,u;if(o.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=p_(e,d,n);if(!s.contains(h))throw new le(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);HD(c,h)||c.push(h)}l=new Wn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new z5(new kn(a),l,u)}class dg extends Nx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dg}}function q5(t,e,n,r){const i=t.Qu(1,e,n);Dx("Data must be an object, but it was:",i,r);const o=[],s=kn.empty();Xs(r,(l,u)=>{const c=Lx(e,l,n);u=vt(u);const d=i.Nu(c);if(u instanceof dg)o.push(c);else{const h=Yd(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Wn(o);return new jD(s,a,i.fieldTransforms)}function H5(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[p_(e,r,n)],l=[i];if(o.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(p_(e,o[h])),l.push(o[h+1]);const u=[],c=kn.empty();for(let h=a.length-1;h>=0;--h)if(!HD(u,a[h])){const g=a[h];let y=l[h];y=vt(y);const w=s.Nu(g);if(y instanceof dg)u.push(g);else{const v=Yd(y,w);v!=null&&(u.push(g),c.set(g,v))}}const d=new Wn(u);return new jD(c,d,s.fieldTransforms)}function W5(t,e,n,r=!1){return Yd(n,t.Qu(r?4:3,e))}function Yd(t,e){if(qD(t=vt(t)))return Dx("Unsupported field value:",e,t),GD(t,e);if(t instanceof Nx)return function(r,i){if(!BD(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Yd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dt.fromDate(r);return{timestampValue:pp(i.serializer,o)}}if(r instanceof Dt){const o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pp(i.serializer,o)}}if(r instanceof Ox)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gl)return{bytesValue:hD(i.serializer,r._byteString)};if(r instanceof gn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:px(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kx)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return cx(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${sg(r)}`)}(t,e)}function GD(t,e){const n={};return BM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,i)=>{const o=Yd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Ox||t instanceof gl||t instanceof gn||t instanceof Nx||t instanceof kx)}function Dx(t,e,n){if(!qD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function p_(t,e,n){if((e=vt(e))instanceof ug)return e._internalPath;if(typeof e=="string")return Lx(t,e);throw vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const K5=new RegExp("[~\\*/\\[\\]]");function Lx(t,e,n){if(e.search(K5)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ug(...e.split("."))._internalPath}catch{throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new le(Y.INVALID_ARGUMENT,a+t+l)}function HD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J5 extends WD{data(){return super.data()}}function fg(t,e){return typeof e=="string"?Lx(t,e):e instanceof ug?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{}class JD extends $x{}function Y5(t,e,...n){let r=[];e instanceof $x&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Fx).length,a=o.filter(l=>l instanceof hg).length;if(s>1||s>0&&a>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hg extends JD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hg(e,n,r)}_apply(e){const n=this._parse(e);return YD(e._query,n),new qi(e.firestore,e.converter,i_(e._query,n))}_parse(e){const n=cg(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){pI(d,c);const g=[];for(const y of d)g.push(hI(l,o,y));h={arrayValue:{values:g}}}else h=hI(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||pI(d,c),h=W5(a,s,d,c==="in"||c==="not-in");return It.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function X5(t,e,n){const r=e,i=fg("where",t);return hg._create(i,r,n)}class Fx extends $x{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)YD(s,l),s=i_(s,l)}(e._query,n),new qi(e.firestore,e.converter,i_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vx extends JD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vx(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(o,s)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Qs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Q5(t,e="asc"){const n=e,r=fg("orderBy",t);return Vx._create(r,n)}function hI(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XM(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!he.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return MA(t,new he(r))}if(n instanceof gn)return MA(t,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(n)}.`)}function pI(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YD(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Z5{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new kx(o)}convertGeoPoint(e){return new Ox(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);ze(_D(r));const i=new Hc(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QD extends WD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nh extends QD{data(e={}){return super.data(e)}}class ZD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nh(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:eq(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){t=Vn(t,gn);const e=Vn(t.firestore,$i);return D5(lg(e),t._key).then(n=>eL(e,t,n))}class Ux extends Z5{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function nq(t){t=Vn(t,qi);const e=Vn(t.firestore,$i),n=lg(e),r=new Ux(e);return KD(t._query),L5(n,t._query).then(i=>new ZD(e,r,t,i))}function rq(t,e,n){t=Vn(t,gn);const r=Vn(t.firestore,$i),i=XD(t.converter,e,n);return pg(r,[zD(cg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function iq(t,e,n,...r){t=Vn(t,gn);const i=Vn(t.firestore,$i),o=cg(i);let s;return s=typeof(e=vt(e))=="string"||e instanceof ug?H5(o,"updateDoc",t._key,e,n,r):q5(o,"updateDoc",t._key,e),pg(i,[s.toMutation(t._key,fr.exists(!0))])}function oq(t){return pg(Vn(t.firestore,$i),[new dx(t._key,fr.none())])}function sq(t,e){const n=Vn(t.firestore,$i),r=UD(t),i=XD(t.converter,e);return pg(n,[zD(cg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function aq(t,...e){var n,r,i;t=vt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fI(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof gn)u=Vn(t.firestore,$i),c=Xm(t._key.path),l={next:d=>{e[s]&&e[s](eL(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Vn(t,qi);u=Vn(d.firestore,$i),c=d._query;const h=new Ux(u);l={next:g=>{e[s]&&e[s](new ZD(u,h,d,g))},error:e[s+1],complete:e[s+2]},KD(t._query)}return function(h,g,y,w){const v=new Px(w),b=new Ix(g,v,y);return h.asyncQueue.enqueueAndForget(async()=>Tx(await yp(h),b)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>Sx(await yp(h),b))}}(lg(u),c,a,l)}function pg(t,e){return function(r,i){const o=new Si;return r.asyncQueue.enqueueAndForget(async()=>T5(await M5(r),i,o)),o.promise}(lg(t),e)}function eL(t,e,n){const r=n.docs.get(e._key),i=new Ux(t);return new QD(t,i,e._key,r,new nc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ql=i})(Gl),ri(new Lr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $i(new r3(r.getProvider("auth-internal")),new a3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dr(PA,"4.7.3",e),dr(PA,"4.7.3","esm2017")})();function jx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lq=tL,nL=new Ys("auth","Firebase",tL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new tx("@firebase/auth");function uq(t,...e){_p.logLevel<=Re.WARN&&_p.warn(`Auth (${Gl}): ${t}`,...e)}function Oh(t,...e){_p.logLevel<=Re.ERROR&&_p.error(`Auth (${Gl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw Bx(t,...e)}function Zr(t,...e){return Bx(t,...e)}function rL(t,e,n){const r=Object.assign(Object.assign({},lq()),{[e]:n});return new Ys("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return rL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nL.create(t,...e)}function ye(t,e,...n){if(!t)throw Bx(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oh(e),new Error(e)}function Fi(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cq(){return mI()==="http:"||mI()==="https:"}function mI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cq()||D4()||"connection"in navigator)?navigator.onLine:!0}function fq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=O4()||L4()}get(){return dq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=new Xd(3e4,6e4);function Bo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zo(t,e,n,r,i={}){return oL(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=zd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return M4()||(u.referrerPolicy="no-referrer"),iL.fetch()(sL(t,t.config.apiHost,n,a),u)})}async function oL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hq),e);try{const i=new gq(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Kf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Kf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Kf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rL(t,c,u);Fr(t,c)}}catch(i){if(i instanceof si)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function Qd(t,e,n,r,i={}){const o=await zo(t,e,n,r,i);return"mfaPendingCredential"in o&&Fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function sL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zx(t.config,i):`${t.config.apiScheme}://${i}`}function mq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),pq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function gI(t){return t!==void 0&&t.enterprise!==void 0}class yq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function vq(t,e){return zo(t,"GET","/v2/recaptchaConfig",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e){return zo(t,"POST","/v1/accounts:delete",e)}async function aL(t,e){return zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wq(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=Gx(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vc(fv(i.auth_time)),issuedAtTime:vc(fv(i.iat)),expirationTime:vc(fv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function Gx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const i=TM(n);return i?JSON.parse(i):(Oh("Failed to decode base64 JWT payload"),null)}catch(i){return Oh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yI(t){const e=Gx(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&bq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xc(t,aL(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lL(o.providerUserInfo):[],a=Tq(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new g_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Eq(t){const e=vt(t);await wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lL(t){return t.map(e=>{var{providerId:n}=e,r=jx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e){const n=await oL(t,{},async()=>{const r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=sL(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iL.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aq(t,e){return zo(t,"POST","/v2/accounts:revokeToken",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=yI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Sq(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ka;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new g_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wq(this,e)}reload(){return Eq(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Xc(this,_q(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:P,isAnonymous:E,providerData:C,stsTokenManager:T}=n;ye(S&&T,e,"internal-error");const I=Ka.fromJSON(this.name,T);ye(typeof S=="string",e,"internal-error"),ro(d,e.name),ro(h,e.name),ye(typeof P=="boolean",e,"internal-error"),ye(typeof E=="boolean",e,"internal-error"),ro(g,e.name),ro(y,e.name),ro(w,e.name),ro(v,e.name),ro(b,e.name),ro(x,e.name);const R=new vi({uid:S,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:E,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:I,createdAt:b,lastLoginAt:x});return C&&Array.isArray(C)&&(R.providerData=C.map(O=>Object.assign({},O))),v&&(R._redirectEventId=v),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ka;i.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?lL(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ka;a.updateFromIdToken(r);const l=new vi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new g_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Map;function _i(t){Fi(t instanceof Function,"Expected a class definition");let e=vI.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uL.type="NONE";const _I=uL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,o),this.fullPersistenceKey=kh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ja(_i(_I),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||_i(_I);const s=kh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=vi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ja(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ja(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mL(e))return"Blackberry";if(gL(e))return"Webos";if(dL(e))return"Safari";if((e.includes("chrome/")||fL(e))&&!e.includes("edge/"))return"Chrome";if(pL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cL(t=_n()){return/firefox\//i.test(t)}function dL(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fL(t=_n()){return/crios\//i.test(t)}function hL(t=_n()){return/iemobile/i.test(t)}function pL(t=_n()){return/android/i.test(t)}function mL(t=_n()){return/blackberry/i.test(t)}function gL(t=_n()){return/webos/i.test(t)}function qx(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Iq(t=_n()){var e;return qx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cq(){return $4()&&document.documentMode===10}function yL(t=_n()){return qx(t)||pL(t)||gL(t)||mL(t)||/windows phone/i.test(t)||hL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e=[]){let n;switch(t){case"Browser":n=wI(_n());break;case"Worker":n=`${wI(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e={}){return zo(t,"GET","/v2/passwordPolicy",Bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=6;class Oq{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Nq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bI(this),this.idTokenSubscription=new bI(this),this.beforeStateQueue=new Pq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aL(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(Ai(this));const n=e?vt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rq(this),n=new Oq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ys("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ea(t){return vt(t)}class bI{constructor(e){this.auth=e,this.observer=null,this.addObserver=G4(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mq(t){mg=t}function _L(t){return mg.loadJS(t)}function Dq(){return mg.recaptchaEnterpriseScript}function Lq(){return mg.gapiScript}function $q(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Fq="recaptcha-enterprise",Vq="NO_RECAPTCHA";class Uq{constructor(e){this.type=Fq,this.auth=ea(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{vq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new yq(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;gI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(Vq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&gI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Dq();l.length!==0&&(l+=a),_L(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function xI(t,e,n,r=!1){const i=new Uq(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function y_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await xI(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t,e){const n=zl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(jc(o,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function Bq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zq(t,e,n){const r=ea(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=wL(e),{host:s,port:a}=Gq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),qq()}function wL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gq(t){const e=wL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:EI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:EI(s)}}}function EI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function Hq(t,e){return zo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wq(t,e){return Qd(t,"POST","/v1/accounts:signInWithPassword",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kq(t,e){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}async function Jq(t,e){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Hx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,n,"signInWithPassword",Wq);case"emailLink":return Kq(e,{email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,r,"signUpPassword",Hq);case"emailLink":return Jq(e,{idToken:n,email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e){return Qd(t,"POST","/v1/accounts:signInWithIdp",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="http://localhost";class Vs extends Hx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=jx(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Vs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:Yq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qq(t){const e=Xu(Qu(t)).link,n=e?Xu(Qu(e)).deep_link_id:null,r=Xu(Qu(t)).deep_link_id;return(r?Xu(Qu(r)).link:null)||r||n||e||t}class Wx{constructor(e){var n,r,i,o,s,a;const l=Xu(Qu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Xq((i=l.mode)!==null&&i!==void 0?i:null);ye(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Qq(e);try{return new Wx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wx.parseLink(n);return ye(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends bL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Zd{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Zd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Zd{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Zd{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zq(t,e){return Qd(t,"POST","/v1/accounts:signUp",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vi._fromIdTokenResponse(e,r,i),s=TI(r);return new Us({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TI(r);return new Us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends si{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bp(e,n,r,i)}}function xL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bp._fromErrorAndOperation(t,o,e,r):o})}async function eH(t,e,n=!1){const r=await Xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e,n=!1){const{auth:r}=t;if(Hr(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await Xc(t,xL(r,i,e,t),n);ye(o.idToken,r,"internal-error");const s=Gx(o.idToken);ye(s,r,"internal-error");const{sub:a}=s;return ye(t.uid===a,r,"user-mismatch"),Us._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e,n=!1){if(Hr(t.app))return Promise.reject(Ai(t));const r="signIn",i=await xL(t,r,e),o=await Us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function nH(t,e){return EL(ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t){const e=ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rH(t,e,n){if(Hr(t.app))return Promise.reject(Ai(t));const r=ea(t),s=await y_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TL(t),l}),a=await Us._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function iH(t,e,n){return Hr(t.app)?Promise.reject(Ai(t)):nH(vt(t),Kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TL(t),r})}function oH(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function sH(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function aH(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function lH(t){return vt(t).signOut()}const xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xp,"1"),this.storage.removeItem(xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=1e3,cH=10;class AL extends SL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Cq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AL.type="LOCAL";const dH=AL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL extends SL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IL.type="SESSION";const CL=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await fH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Kx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function pH(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function mH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yH(){return PL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebaseLocalStorageDb",vH=1,Ep="firebaseLocalStorage",NL="fbase_key";class ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yg(t,e){return t.transaction([Ep],e?"readwrite":"readonly").objectStore(Ep)}function _H(){const t=indexedDB.deleteDatabase(RL);return new ef(t).toPromise()}function v_(){const t=indexedDB.open(RL,vH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ep,{keyPath:NL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ep)?e(r):(r.close(),await _H(),e(await v_()))})})}async function SI(t,e,n){const r=yg(t,!0).put({[NL]:e,value:n});return new ef(r).toPromise()}async function wH(t,e){const n=yg(t,!1).get(e),r=await new ef(n).toPromise();return r===void 0?null:r.value}function AI(t,e){const n=yg(t,!0).delete(e);return new ef(n).toPromise()}const bH=800,xH=3;class OL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gg._getInstance(yH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mH(),!this.activeServiceWorker)return;this.sender=new hH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v_();return await SI(e,xp,"1"),await AI(e,xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yg(i,!1).getAll();return new ef(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OL.type="LOCAL";const EH=OL;new Xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t,e){return e?_i(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Hx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SH(t){return EL(t.auth,new Jx(t),t.bypassAuthState)}function AH(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),tH(n,new Jx(t),t.bypassAuthState)}async function IH(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),eH(n,new Jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SH;case"linkViaPopup":case"linkViaRedirect":return IH;case"reauthViaPopup":case"reauthViaRedirect":return AH;default:Fr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=new Xd(2e3,1e4);class Ma extends kL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Kx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CH.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="pendingRedirect",Mh=new Map;class RH extends kL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await NH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NH(t,e){const n=MH(e),r=kH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OH(t,e){Mh.set(t._key(),e)}function kH(t){return _i(t._redirectPersistence)}function MH(t){return kh(PH,t.config.apiKey,t.name)}async function DH(t,e,n=!1){if(Hr(t.app))return Promise.reject(Ai(t));const r=ea(t),i=TH(r,e),s=await new RH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=10*60*1e3;class $H{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ML(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LH&&this.cachedEventUids.clear(),this.cachedEventUids.has(II(e))}saveEventToCache(e){this.cachedEventUids.add(II(e)),this.lastProcessedEventTime=Date.now()}}function II(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ML({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ML(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH(t,e={}){return zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jH=/^https?/;async function BH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VH(t);for(const n of e)try{if(zH(n))return}catch{}Fr(t,"unauthorized-domain")}function zH(t){const e=m_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!jH.test(n))return!1;if(UH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=new Xd(3e4,6e4);function CI(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qH(t){return new Promise((e,n)=>{var r,i,o;function s(){CI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CI(),n(Zr(t,"network-request-failed"))},timeout:GH.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)s();else{const a=$q("iframefcb");return ei()[a]=()=>{gapi.load?s():n(Zr(t,"network-request-failed"))},_L(`${Lq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function HH(t){return Dh=Dh||qH(t),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new Xd(5e3,15e3),KH="__/auth/iframe",JH="emulator/auth/iframe",YH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QH(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zx(e,JH):`https://${t.config.authDomain}/${KH}`,r={apiKey:e.apiKey,appName:t.name,v:Gl},i=XH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zd(r).slice(1)}`}async function ZH(t){const e=await HH(t),n=ei().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:QH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Zr(t,"network-request-failed"),a=ei().setTimeout(()=>{o(s)},WH.get());function l(){ei().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t6=500,n6=600,r6="_blank",i6="http://localhost";class PI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o6(t,e,n,r=t6,i=n6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},e6),{width:r.toString(),height:i.toString(),top:o,left:s}),u=_n().toLowerCase();n&&(a=fL(u)?r6:n),cL(u)&&(e=e||i6,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[g,y])=>`${h}${g}=${y},`,"");if(Iq(u)&&a!=="_self")return s6(e||"",a),new PI(null);const d=window.open(e||"",a,c);ye(d,t,"popup-blocked");try{d.focus()}catch{}return new PI(d)}function s6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="__/auth/handler",l6="emulator/auth/handler",u6=encodeURIComponent("fac");async function RI(t,e,n,r,i,o){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gl,eventId:i};if(e instanceof bL){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",z4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof Zd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${u6}=${encodeURIComponent(l)}`:"";return`${c6(t)}?${zd(a).slice(1)}${u}`}function c6({config:t}){return t.emulator?zx(t,l6):`https://${t.authDomain}/${a6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="webStorageSupport";class d6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CL,this._completeRedirectFn=DH,this._overrideRedirectResult=OH}async _openPopup(e,n,r,i){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await RI(e,n,r,m_(),i);return o6(e,s,Kx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await RI(e,n,r,m_(),i);return pH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZH(e),r=new $H(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hv,{type:hv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[hv];s!==void 0&&n(!!s),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yL()||dL()||qx()}}const f6=d6;var NI="@firebase/auth",OI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m6(t){ri(new Lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vL(t)},u=new kq(r,i,o,l);return Bq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ri(new Lr("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(r=>new h6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(NI,OI,p6(t)),dr(NI,OI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=5*60,y6=AM("authIdTokenMaxAge")||g6;let kI=null;const v6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y6)return;const i=n==null?void 0:n.token;kI!==i&&(kI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _6(t=OM()){const e=zl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jq(t,{popupRedirectResolver:f6,persistence:[EH,dH,CL]}),r=AM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=v6(o.toString());sH(n,s,()=>s(n.currentUser)),oH(n,a=>s(a))}}const i=R4("auth");return i&&zq(n,`http://${i}`),n}function w6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Mq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Zr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",w6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m6("Browser");const DL="@firebase/installations",Yx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=1e4,$L=`w:${Yx}`,FL="FIS_v2",b6="https://firebaseinstallations.googleapis.com/v1",x6=60*60*1e3,E6="installations",T6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},js=new Ys(E6,T6,S6);function VL(t){return t instanceof si&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL({projectId:t}){return`${b6}/projects/${t}/installations`}function jL(t){return{token:t.token,requestStatus:2,expiresIn:I6(t.expiresIn),creationTime:Date.now()}}async function BL(t,e){const r=(await e.json()).error;return js.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A6(t,{refreshToken:e}){const n=zL(t);return n.append("Authorization",C6(e)),n}async function GL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function I6(t){return Number(t.replace("s","000"))}function C6(t){return`${FL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=UL(t),i=zL(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:FL,appId:t.appId,sdkVersion:$L},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await GL(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:jL(u.authToken)}}else throw await BL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^[cdef][\w-]{21}$/,__="";function O6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=k6(t);return N6.test(n)?n:__}catch{return __}}function k6(t){return R6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Map;function WL(t,e){const n=vg(t);KL(n,e),M6(n,e)}function KL(t,e){const n=HL.get(t);if(n)for(const r of n)r(e)}function M6(t,e){const n=D6();n&&n.postMessage({key:t,fid:e}),L6()}let vs=null;function D6(){return!vs&&"BroadcastChannel"in self&&(vs=new BroadcastChannel("[Firebase] FID Change"),vs.onmessage=t=>{KL(t.data.key,t.data.fid)}),vs}function L6(){HL.size===0&&vs&&(vs.close(),vs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebase-installations-database",F6=1,Bs="firebase-installations-store";let pv=null;function Xx(){return pv||(pv=Jm($6,F6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bs)}}})),pv}async function Tp(t,e){const n=vg(t),i=(await Xx()).transaction(Bs,"readwrite"),o=i.objectStore(Bs),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&WL(t,e.fid),e}async function JL(t){const e=vg(t),r=(await Xx()).transaction(Bs,"readwrite");await r.objectStore(Bs).delete(e),await r.done}async function _g(t,e){const n=vg(t),i=(await Xx()).transaction(Bs,"readwrite"),o=i.objectStore(Bs),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&WL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t){let e;const n=await _g(t.appConfig,r=>{const i=V6(r),o=U6(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===__?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function V6(t){const e=t||{fid:O6(),registrationStatus:0};return YL(e)}function U6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(js.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=j6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:B6(t)}:{installationEntry:e}}async function j6(t,e){try{const n=await P6(t,e);return Tp(t.appConfig,n)}catch(n){throw VL(n)&&n.customData.serverCode===409?await JL(t.appConfig):await Tp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function B6(t){let e=await MI(t.appConfig);for(;e.registrationStatus===1;)await qL(100),e=await MI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qx(t);return r||n}return e}function MI(t){return _g(t,e=>{if(!e)throw js.create("installation-not-found");return YL(e)})}function YL(t){return z6(t)?{fid:t.fid,registrationStatus:0}:t}function z6(t){return t.registrationStatus===1&&t.registrationTime+LL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6({appConfig:t,heartbeatServiceProvider:e},n){const r=q6(t,n),i=A6(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:$L,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await GL(()=>fetch(r,a));if(l.ok){const u=await l.json();return jL(u)}else throw await BL("Generate Auth Token",l)}function q6(t,{fid:e}){return`${UL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e=!1){let n;const r=await _g(t.appConfig,o=>{if(!XL(o))throw js.create("not-registered");const s=o.authToken;if(!e&&K6(s))return o;if(s.requestStatus===1)return n=H6(t,e),o;{if(!navigator.onLine)throw js.create("app-offline");const a=Y6(o);return n=W6(t,a),a}});return n?await n:r.authToken}async function H6(t,e){let n=await DI(t.appConfig);for(;n.authToken.requestStatus===1;)await qL(100),n=await DI(t.appConfig);const r=n.authToken;return r.requestStatus===0?Zx(t,e):r}function DI(t){return _g(t,e=>{if(!XL(e))throw js.create("not-registered");const n=e.authToken;return X6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function W6(t,e){try{const n=await G6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Tp(t.appConfig,r),n}catch(n){if(VL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await JL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tp(t.appConfig,r)}throw n}}function XL(t){return t!==void 0&&t.registrationStatus===2}function K6(t){return t.requestStatus===2&&!J6(t)}function J6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x6}function Y6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function X6(t){return t.requestStatus===1&&t.requestTime+LL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t){const e=t,{installationEntry:n,registrationPromise:r}=await Qx(e);return r?r.catch(console.error):Zx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e=!1){const n=t;return await e9(n),(await Zx(n,e)).token}async function e9(t){const{registrationPromise:e}=await Qx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){if(!t||!t.options)throw mv("App Configuration");if(!t.name)throw mv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw mv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mv(t){return js.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="installations",n9="installations-internal",r9=t=>{const e=t.getProvider("app").getImmediate(),n=t9(e),r=zl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},i9=t=>{const e=t.getProvider("app").getImmediate(),n=zl(e,QL).getImmediate();return{getId:()=>Q6(n),getToken:i=>Z6(n,i)}};function o9(){ri(new Lr(QL,r9,"PUBLIC")),ri(new Lr(n9,i9,"PRIVATE"))}o9();dr(DL,Yx);dr(DL,Yx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="/firebase-messaging-sw.js",a9="/firebase-cloud-messaging-push-scope",ZL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",l9="https://fcmregistrations.googleapis.com/v1",e2="google.c.a.c_id",u9="google.c.a.c_l",c9="google.c.a.ts",d9="google.c.a.e";var LI;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(LI||(LI={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Zc;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Zc||(Zc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f9(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="fcm_token_details_db",h9=5,$I="fcm_token_object_Store";async function p9(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(gv))return null;let e=null;return(await Jm(gv,h9,{upgrade:async(r,i,o,s)=>{var a;if(i<2||!r.objectStoreNames.contains($I))return;const l=s.objectStore($I),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:hi(c.vapidKey)}}}else if(i===3){const c=u;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:hi(c.auth),p256dh:hi(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:hi(c.vapidKey)}}}else if(i===4){const c=u;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:hi(c.auth),p256dh:hi(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:hi(c.vapidKey)}}}}}})).close(),await ov(gv),await ov("fcm_vapid_details_db"),await ov("undefined"),m9(e)?e:null}function m9(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="firebase-messaging-database",y9=1,ed="firebase-messaging-store";let yv=null;function t2(){return yv||(yv=Jm(g9,y9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ed)}}})),yv}async function v9(t){const e=n2(t),r=await(await t2()).transaction(ed).objectStore(ed).get(e);if(r)return r;{const i=await p9(t.appConfig.senderId);if(i)return await eE(t,i),i}}async function eE(t,e){const n=n2(t),i=(await t2()).transaction(ed,"readwrite");return await i.objectStore(ed).put(e,n),await i.done,e}function n2({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},yn=new Ys("messaging","Messaging",_9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){const n=await nE(t),r=r2(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(tE(t.appConfig),i)).json()}catch(s){throw yn.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw yn.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw yn.create("token-subscribe-no-token");return o.token}async function b9(t,e){const n=await nE(t),r=r2(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${tE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw yn.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw yn.create("token-update-failed",{errorInfo:s})}if(!o.token)throw yn.create("token-update-no-token");return o.token}async function x9(t,e){const r={method:"DELETE",headers:await nE(t)};try{const o=await(await fetch(`${tE(t.appConfig)}/${e}`,r)).json();if(o.error){const s=o.error.message;throw yn.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw yn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function tE({projectId:t}){return`${l9}/projects/${t}/registrations`}async function nE({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function r2({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==ZL&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=7*24*60*60*1e3;async function T9(t){const e=await A9(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hi(e.getKey("auth")),p256dh:hi(e.getKey("p256dh"))},r=await v9(t.firebaseDependencies);if(r){if(I9(r.subscriptionOptions,n))return Date.now()>=r.createTime+E9?S9(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await x9(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return FI(t.firebaseDependencies,n)}else return FI(t.firebaseDependencies,n)}async function S9(t,e){try{const n=await b9(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await eE(t.firebaseDependencies,r),n}catch(n){throw n}}async function FI(t,e){const r={token:await w9(t,e),createTime:Date.now(),subscriptionOptions:e};return await eE(t,r),r.token}async function A9(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:f9(e)})}function I9(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return C9(e,t),P9(e,t),R9(e,t),e}function C9(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function P9(t,e){e.data&&(t.data=e.data)}function R9(t,e){var n,r,i,o,s;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){return typeof t=="object"&&!!t&&e2 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){if(!t||!t.options)throw vv("App Configuration Object");if(!t.name)throw vv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw vv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function vv(t){return yn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=O9(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t){try{t.swRegistration=await navigator.serviceWorker.register(s9,{scope:a9}),t.swRegistration.update().catch(()=>{})}catch(e){throw yn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){if(!e&&!t.swRegistration&&await M9(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ZL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(t,e){if(!navigator)throw yn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw yn.create("permission-blocked");return await L9(t,e==null?void 0:e.vapidKey),await D9(t,e==null?void 0:e.serviceWorkerRegistration),T9(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e,n){const r=F9(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[e2],message_name:n[u9],message_time:n[c9],message_device_time:Math.floor(Date.now()/1e3)})}function F9(t){switch(t){case Zc.NOTIFICATION_CLICKED:return"notification_open";case Zc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zc.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(VI(n)):t.onMessageHandler.next(VI(n)));const r=n.data;N9(r)&&r[d9]==="1"&&await $9(t,n.messageType,r)}const UI="@firebase/messaging",jI="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=t=>{const e=new k9(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>V9(e,n)),e},j9=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>i2(e,r)}};function B9(){ri(new Lr("messaging",U9,"PUBLIC")),ri(new Lr("messaging-internal",j9,"PRIVATE")),dr(UI,jI),dr(UI,jI,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(){try{await CM()}catch{return!1}return typeof window<"u"&&IM()&&V4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){if(!navigator)throw yn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t=OM()){return z9().then(e=>{if(!e)throw yn.create("unsupported-browser")},e=>{throw yn.create("indexed-db-unsupported")}),zl(vt(t),"messaging").getImmediate()}async function H9(t,e){return t=vt(t),i2(t,e)}function W9(t,e){return t=vt(t),G9(t,e)}B9();const K9={apiKey:"AIzaSyAjpS8IWMJmlEHw6_7VRHATbLWJeHzbCYU",authDomain:"fisicalplanner.firebaseapp.com",databaseURL:"https://fisicalplanner-default-rtdb.firebaseio.com",projectId:"fisicalplanner",storageBucket:"fisicalplanner.firebasestorage.app",messagingSenderId:"439728765666",appId:"1:439728765666:web:884c65f808b9337a31bcbb",measurementId:"G-8G6JJXX00Z"},rE=NM(K9),Ne=U5(rE,{ignoreUndefinedProperties:!0}),Xa=_6(rE);let Lh=null;try{Lh=q9(rE)}catch{console.log("Firebase Messaging not supported in this environment")}const Bt=F5,J9=V5,pn=UD,o2=tq,_s=nq,Cs=rq,yl=sq,wg=iq,iE=oq,fs=aq,hs=Y5,Y9=X5,Da=Q5,X9=rH,Q9=iH,Z9=aH,BI=lH,eW=({onLoginSuccess:t,onNavigateRegister:e})=>{const[n,r]=$.useState(""),[i,o]=$.useState(""),[s,a]=$.useState(!1),[l,u]=$.useState(""),c=async d=>{d.preventDefault(),a(!0),u("");try{const g=(await Q9(Xa,n,i)).user,y=pn(Ne,"users",g.uid),w=await o2(y);if(w.exists){const v={uid:g.uid,...w.data()};t(v)}else u("Perfil de usurio no encontrado no banco de dados."),await Xa.signOut()}catch(h){h.code==="auth/user-not-found"||h.code==="auth/wrong-password"||h.code==="auth/invalid-credential"?u("E-mail ou senha invlidos."):u("Ocorreu um erro. Tente novamente."),console.error(h)}finally{a(!1)}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[radial-gradient(circle_at_top_right,rgba(0,255,136,0.1),transparent_40%)]",children:_.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Fit",_.jsx("span",{className:"text-emerald-400",children:"Life"})]}),_.jsx("p",{className:"text-zinc-500 text-sm mt-2",children:"Sua evoluo comea no login."})]}),_.jsxs("form",{onSubmit:c,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"E-mail"}),_.jsx("input",{type:"email",required:!0,className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all",placeholder:"seu@email.com",value:n,onChange:d=>r(d.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Senha"}),_.jsx("input",{type:"password",required:!0,className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all",placeholder:"",value:i,onChange:d=>o(d.target.value)})]}),l&&_.jsx("div",{className:"text-red-400 text-sm text-center",children:l}),_.jsx("button",{type:"submit",disabled:s,className:"w-full bg-emerald-500 hover:bg-emerald-400 text-black font-bold py-3 rounded-lg transition-transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"AUTENTICANDO...":"ACESSAR SISTEMA"})]}),_.jsx("div",{className:"mt-6 text-center text-sm",children:_.jsx("button",{onClick:e,className:"text-zinc-500 hover:text-emerald-400 transition-colors",children:"No tem conta? Criar agora"})})]})})},tW=({onNavigateLogin:t})=>{const[e,n]=$.useState(""),[r,i]=$.useState(""),[o,s]=$.useState(""),[a,l]=$.useState(!1),[u,c]=$.useState(""),[d,h]=$.useState(!1),g=async y=>{if(y.preventDefault(),l(!0),c(""),o.length<6){c("A senha deve ter pelo menos 6 caracteres."),l(!1);return}try{const v=(await X9(Xa,r,o)).user;await Cs(pn(Ne,"users",v.uid),{uid:v.uid,name:e,email:r,workoutType:"iniciante",avatar:`https://ui-avatars.com/api/?name=${e.replace(" ","+")}&background=random`,createdAt:new Date().toISOString()},{}),h(!0),setTimeout(t,2e3)}catch(w){w.code==="auth/email-already-in-use"?c("Este e-mail j est cadastrado."):c("Ocorreu um erro ao criar a conta."),console.error(w)}finally{l(!1)}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[radial-gradient(circle_at_top_right,rgba(0,255,136,0.1),transparent_40%)]",children:_.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Criar ",_.jsx("span",{className:"text-emerald-400",children:"Conta"})]}),_.jsx("p",{className:"text-zinc-500 text-sm mt-2",children:"Comece sua transformao hoje."})]}),d?_.jsx("div",{className:"text-center text-emerald-400 font-semibold animate-pulse",children:"Conta criada com sucesso! Redirecionando..."}):_.jsxs("form",{onSubmit:g,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Nome Completo"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all",placeholder:"Ex: Ana Silva",value:e,onChange:y=>n(y.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"E-mail"}),_.jsx("input",{type:"email",required:!0,className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all",placeholder:"seu@email.com",value:r,onChange:y=>i(y.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Senha"}),_.jsx("input",{type:"password",required:!0,className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all",placeholder:"Mnimo 6 caracteres",value:o,onChange:y=>s(y.target.value)})]}),u&&_.jsx("div",{className:"text-red-400 text-sm text-center",children:u}),_.jsx("button",{type:"submit",disabled:a,className:"w-full bg-emerald-500 hover:bg-emerald-400 text-black font-bold py-3 rounded-lg transition-transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"CRIANDO...":"CRIAR CONTA"})]}),_.jsx("div",{className:"mt-6 text-center text-sm",children:_.jsx("button",{onClick:t,className:"text-zinc-500 hover:text-emerald-400 transition-colors",children:"J tem conta? Fazer Login"})})]})})},G=(t,e,n="",r="strength",i)=>({id:t.toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/_{2,}/g,"_"),name:t,muscleGroup:e,type:r,instructions:n}),nW=[G("Supino Reto com Barra","Peitoral","O clssico construtor de massa para o peitoral maior como um todo."),G("Supino Inclinado com Barra","Peitoral","Foca na poro clavicular (parte superior do peitoral). ngulos ideais variam entre 15 a 30."),G("Supino Declinado com Barra","Peitoral","Enfatiza a poro inferior (esternocostal) e o trceps."),G("Supino Guilhotina (Neck Press)","Peitoral","A barra desce em direo ao pescoo com cotovelos abertos para isolar o peitoral. Requer cuidado e cargas leves."),G("Supino Pegada Inversa","Peitoral","Excelente para a parte superior do peitoral, aliviando a tenso nos ombros."),G("Supino Reto com Halteres","Peitoral","Permite uma convergncia no topo, contraindo mais o miolo do peito e maior amplitude."),G("Supino Inclinado com Halteres","Peitoral","Foco superior com maior alongamento que a barra."),G("Supino Declinado com Halteres","Peitoral","Foco inferior com maior liberdade de movimento."),G("Supino Neutro (Pegada Martelo)","Peitoral",'Foca na parte interna ("miolo") e reduz estresse no ombro.'),G("Crucifixo Reto (Fly)","Peitoral","Isolamento total, foco no alongamento das fibras."),G("Crucifixo Inclinado","Peitoral","Isolamento da parte superior com foco no alongamento."),G("Pullover com Halter","Peitoral","Trabalha a caixa torcica e a poro inferior do peitoral (tambm atinge o dorsal)."),G("Svend Press","Peitoral","Apertar um halter ou anilha contra o outro em frente ao peito, mantendo tenso isomtrica constante."),G("Crossover Polia Alta","Peitoral","Movimento de cima para baixo. Foca na parte inferior e no contorno do peitoral."),G("Crossover Polia Mdia (Fly em P)","Peitoral","Foco na parte esternal (geral) do peitoral."),G("Crossover Polia Baixa","Peitoral","Movimento de baixo para cima. Foco intenso na parte superior (clavicular)."),G("Crucifixo no Banco (com Cabos)","Peitoral","Oferece tenso contnua que os halteres perdem no topo do movimento."),G("Press com Cabos (Cable Press)","Peitoral","Simula um supino, mas feito em p ou sentado na polia, exigindo estabilizao do core."),G("Supino Vertical (Mquina Sentada)","Peitoral","timo para iniciantes ou para dropsets no final do treino."),G("Peck Deck (Voador)","Peitoral","Isolador clssico. Mantm os braos flexionados para isolar o peitoral."),G("Supino Articulado (Hammer Strength)","Peitoral","Mquinas que simulam o movimento de peso livre mas com trajetria fixa."),G("Chest Press Convergente","Peitoral","Mquinas onde as manoplas se aproximam no final do movimento, aumentando a contrao central."),G("Flexo de Brao","Peitoral","O bsico eficiente com peso do corpo."),G("Flexo Inclinada","Peitoral","Mos em superfcie elevada. Foca na parte inferior (mais fcil)."),G("Flexo Declinada","Peitoral","Ps elevados. Foca na parte superior (mais difcil)."),G("Flexo Diamante","Peitoral","Mos juntas. Foca no trceps e na parte central interna do peitoral."),G("Flexo Aberta","Peitoral","Tira o foco do trceps e coloca mais no peitoral externo."),G("Flexo Archer","Peitoral","Desce o corpo para um lado enquanto estica o outro brao."),G("Dips (Mergulho nas Paralelas)","Peitoral","Incline o tronco para frente para focar na parte inferior e externa do peitoral."),G("Agachamento Livre (Back Squat)","Pernas","O rei dos exerccios. Trabalha a perna inteira com nfase no quadrceps."),G("Agachamento Frontal","Pernas","Barra apoiada nos ombros  frente. Isola mais o quadrceps e exige postura."),G("Agachamento Hack","Pernas","Feito na mquina inclinada. Excelente para focar no quadrceps com segurana nas costas."),G("Leg Press 45","Pernas","Permite muita carga. Ps mais baixos focam quadrceps; ps mais altos focam glteo/posterior."),G("Agachamento Blgaro","Pernas","Unilateral, p de trs apoiado. Construtor brutal de massa e equilbrio."),G("Afundo (Lunge)","Pernas","Passada estacionria."),G("Avano (Walking Lunge)","Pernas","Passada caminhando (dinmica)."),G("Cadeira Extensora","Pernas","O principal exerccio isolador. Fundamental para detalhes e cortes na coxa."),G("Sissy Squat","Pernas","Projeta os joelhos para frente e tronco para trs. Foco extremo no reto femoral."),G("Agachamento Goblet","Pernas","Segurando halter na frente do peito. timo para postura e profundidade."),G("Step-Up (Subida no Banco)","Pernas","Foca muito no quadrceps da perna que est subindo."),G("Mesa Flexora","Pernas","Trabalha o posterior em uma posio alongada no quadril."),G("Cadeira Flexora","Pernas","Gera maior hipertrofia por manter o msculo sob maior tenso alongada."),G("Flexo Nrdica","Pernas","Exerccio com peso do corpo travando calcanhares. Eficiente para fora excntrica."),G("Flexo em P Unilateral","Pernas","timo para corrigir assimetrias."),G("Stiff","Pernas","Pernas semiflexionadas, coluna reta. Foco total no alongamento do posterior."),G("RDL (Romanian Deadlift)","Pernas","Similar ao Stiff, mas com um pouco mais de flexo de joelho, permitindo mais carga."),G("Good Morning","Pernas","Barra nas costas, flexionando o tronco  frente. Exige muito da lombar e posteriores."),G("Elevao Plvica (Hip Thrust)","Pernas","O melhor exerccio isolado para glteo mximo."),G("Agachamento Sum","Pernas","Ps afastados, pontas para fora. Enfatiza glteos e adutores."),G("Levantamento Terra Clssico","Pernas","Exerccio de fora total, com grande ativao de glteo e costas."),G("Cadeira Abdutora","Pernas","Foca no glteo mdio (lateral), essencial para estabilidade."),G("Glteo na Polia (Coice)","Pernas","Extenso de quadril com cabo. Excelente para finalizar o treino."),G("Aduo de Coxa (Cadeira Adutora)","Pernas","Foca na parte interna da coxa (adutores)."),G("Panturrilha em P","Pernas","Foca no Gastrocnmio (poro maior/externa). Joelhos esticados."),G("Panturrilha no Leg Press","Pernas","Variao com joelhos esticados para Gastrocnmio."),G("Burrinho (Donkey Calf Raise)","Pernas","Tronco inclinado  frente, foco no Gastrocnmio."),G("Panturrilha Sentado","Pernas","Foca no Sleo (poro profunda/lateral). Joelhos flexionados."),G("Elevao de Ponta de P","Pernas","Para Tibial Anterior (frente da canela)."),G("Supino Fechado","Trceps","O melhor construtor de massa para o trceps. Mos na largura dos ombros."),G("Mergulho nas Paralelas (Dips) - Trceps","Trceps","Tronco reto foca totalmente no trceps."),G("Mergulho no Banco","Trceps","timo para finalizar o treino. Cuidado com os ombros."),G("Trceps Testa","Trceps","Com barra W ou halteres. Trabalha muito a cabea longa e medial."),G("Trceps Francs","Trceps","nico movimento que alonga totalmente a cabea longa do trceps."),G("Trceps Pulley/Corda","Trceps","Foca na cabea lateral. A corda permite maior contrao."),G("Trceps Coice","Trceps","Excelente para pico de contrao. Mantenha o cotovelo alto e imvel."),G("Trceps Testa na Polia Alta","Trceps","Trazendo a barra da polia alta por cima da cabea com tenso constante."),G("Rosca Direta","Bceps","O clssico. Barra reta ou W."),G("Rosca Alternada com Halteres","Bceps","Permite girar o punho (supinao) no topo, ativando mais fibras."),G("Rosca Inclinada","Bceps","Brao para trs do tronco, alongando a cabea longa desde a origem."),G("Rosca Bayesian","Bceps","Na polia, de costas para a mquina. Tenso mxima no alongamento."),G("Rosca Scott","Bceps","Braos  frente. Foca na parte de baixo e cabea curta."),G("Rosca Concentrada","Bceps","Isolamento mximo para o pico do bceps."),G("Rosca Spider","Bceps","Peito apoiado no banco inclinado, braos verticais. Isola completamente."),G("Rosca 21","Bceps","7 repeties inferiores, 7 superiores e 7 completas."),G("Rosca Martelo","Bceps","Pegada neutra. Trabalha braquial (largura) e antebrao."),G("Rosca Martelo na Corda","Bceps","Variao com tenso contnua."),G("Rosca Zottman","Bceps","Sobe supinada, desce pronada. Trabalha bceps e antebrao."),G("Rosca Inversa","Antebrao","Palmas para baixo. Foca nos extensores e braquiorradial."),G("Rosca de Punho","Antebrao","Palmas para cima. Foca nos flexores (parte interna)."),G("Rosca de Punho Inversa","Antebrao","Palmas para baixo. Foca nos extensores (parte externa)."),G("Farmer's Walk (Caminhada do Fazendeiro)","Antebrao","Segurar halteres pesados e caminhar. Constri trapzio e antebraos."),G("Pendurar na Barra (Dead Hang)","Antebrao","Segurar o peso do corpo na barra fixa pelo mximo de tempo."),G("Desenvolvimento Militar","Ombros","Em p com barra. Teste de fora, exige core e glteos."),G("Desenvolvimento com Halteres","Ombros","Permite movimento mais natural e corrige desequilbrios."),G("Desenvolvimento Arnold","Ombros","Gira as palmas ao subir. Atinge as trs cabeas do deltoide."),G("Desenvolvimento Mquina","Ombros","Excelente para dropsets e segurana."),G("Desenvolvimento Nuca","Ombros","Cuidado: Requer tima mobilidade. Foca na poro lateral."),G("Push Press","Ombros","Usa impulso das pernas para cargas supramximas na negativa."),G("Elevao Lateral com Halteres","Ombros",'Jogue o peso "para longe". Foca na largura.'),G("Elevao Lateral na Polia","Ombros","Mantm tenso constante desde o incio."),G("Elevao Lateral Inclinada","Ombros","Inclinando o corpo para o lado para aumentar a amplitude."),G("Elevao Lateral Sentado","Ombros","Elimina o balano do corpo."),G("Remada Alta","Ombros","Pegada aberta foca no deltoide lateral."),G("Mquina de Elevao Lateral","Ombros","Tenso no topo sem depender da pegada."),G("Crucifixo Inverso","Ombros",'Com halteres. Essencial para postura e o aspecto "3D" do ombro.'),G("Crucifixo Inverso na Mquina","Ombros","Peck Deck Invertido. Isola a parte de trs sem cansar a lombar."),G("Face Pull","Ombros","Puxe a corda em direo  testa. Obrigatrio para sade do ombro."),G("Crucifixo Inverso no Cabo","Ombros","Em X. Tenso brutal no pico de contrao."),G("Skiier","Ombros","No cabo alto, puxando para baixo e para trs."),G("Elevao Frontal com Halteres","Ombros","Pode ser alternada ou simultnea."),G("Elevao Frontal com Barra","Ombros","Permite mais carga."),G("Elevao Frontal com Anilha","Ombros",'Variao isomtrica "Bus Driver" no topo.'),G("Elevao Frontal na Polia","Ombros","Garante tenso contnua."),G("Encolhimento com Barra","Ombros","Pela frente ou por trs. Cargas altas funcionam bem."),G("Encolhimento com Halteres","Ombros","Permite pegada neutra e maior amplitude."),G("Encolhimento no Smith","Ombros","Foco na contrao sem se preocupar com equilbrio."),G("Barra Fixa","Costas","O exerccio mais eficiente. Pegada pronada e aberta."),G("Puxada Alta (Lat Pulldown)","Costas","Verso na mquina da barra fixa."),G("Puxada Alta Supinada","Costas","Envolve bceps, excelente para parte inferior do dorsal."),G("Puxada Alta Neutra (Tringulo)","Costas","Permite mais carga e foca fibras baixas."),G("Puxada Unilateral no Cabo (Ilaca)","Costas",'Puxa de cima ao quadril. Melhor para isolar a "asa".'),G("Remada Curvada","Costas","Construtor de massa bruta. Tronco inclinado."),G("Remada Cavalinho","Costas","Permite muita carga com segurana."),G("Remada Unilateral (Serrote)","Costas","Corrige assimetrias e permite maior amplitude."),G("Remada Baixa (Tringulo)","Costas","Foca no miolo das costas e dorsal baixo."),G("Remada Baixa (Barra Aberta)","Costas","Foca na parte alta e romboides."),G("Remada Mquina","Costas","tima para dropsets e falha com segurana."),G("Pullover na Polia","Costas","Braos esticados. Mantm tenso constante no dorsal."),G("Pullover com Halter (Banco)","Costas","Alonga a caixa torcica e trabalha dorsal em extenso mxima."),G("Depresso Sagital","Costas","Focado na contrao final perto do quadril."),G("Levantamento Terra (Deadlift)","Costas","Exerccio completo. Fora principal na cadeia posterior."),G("Meio-Terra (Rack Pull)","Costas","Saindo do joelho. Foca brutalmente na espessura das costas."),G("Hiperextenso Lombar","Costas","Banco Romano. Foca nos eretores da espinha."),G("Superman","Costas","Deitado no cho, elevando membros. Fortalecimento sem carga."),G("Inclinao Lateral (Pescoo)","Mobilidade","Puxe suavemente a cabea tentando encostar a orelha no ombro. Empurre o ombro oposto para baixo.","mobilidade"),G("Cheiro no Sovaco","Mobilidade","Gire a cabea 45 graus e puxe para baixo. Sente atrs do pescoo at a escpula.","mobilidade"),G("Peitoral no Batente","Mobilidade","Apoie antebrao no batente (90 graus) e gire o tronco para o lado oposto.","mobilidade"),G("Mos Entrelaadas Atrs","Mobilidade","Entrelace dedos atrs, estique cotovelos e suba os braos sem curvar o tronco.","mobilidade"),G("Posio da Criana","Mobilidade","Ajoelhado, estique braos  frente e quadril para trs. Alivia lombar e dorsal.","mobilidade"),G("Gato e Vaca","Mobilidade","Em 4 apoios, alterne entre arquear as costas (olhar p/ cima) e arredondar (olhar p/ umbigo).","mobilidade"),G("Dorsal Lateral (Pilar)","Mobilidade","Segure num pilar, cruze a perna de fora por trs e incline o corpo para o lado.","mobilidade"),G("Ilio-Psoas","Mobilidade","Posio de proposta. Contraia o glteo de trs e empurre o quadril levemente  frente.","mobilidade"),G("Posterior de Coxa Sentado","Mobilidade","Tente encostar o umbigo na coxa, mantendo a coluna reta (dobradia de quadril).","mobilidade"),G("Glteo (Figura 4)","Mobilidade","Deitado, cruze tornozelo sobre joelho oposto e puxe a coxa em direo ao peito.","mobilidade"),G("Quadrceps Em P","Mobilidade","Segure o p atrs. Mantenha joelhos colados e contraia o abdmen.","mobilidade"),G("Panturrilha na Parede","Mobilidade","Perna de trs esticada, calcanhar no cho. Empurre a parede.","mobilidade")],rW=[{id:"progressao_intensidade_variavel",name:"Sistema Progresso e Intensidade Varivel",description:"Este sistema utiliza uma metodologia baseada em Progresso de Carga e tabelas de Intensidade Varivel para cada exerccio. O objetivo  atingir a falha dentro de um intervalo de repeties (mnimo e mximo). Quando atingir o teto mximo de repeties, aumenta-se a carga e volta-se ao mnimo de repeties.",details:[{title:"Intensidade 1 (Exploso)",description:"Foco em fora mxima com execuo explosiva na fase positiva do movimento.",properties:{Repeties:"5 a 7 (com 1-2 reps na reserva)",Cadncia:"3s negativa, exploso na positiva",Descanso:"2 a 4 minutos"}},{title:"Intensidade 2 (Alongamento)",description:"Maximiza a tenso sob alongamento para hipertrofia.",properties:{Repeties:"8 a 12 (at a falha total)",Cadncia:"3s negativa, 1s isometria na fase alongada, 2s positiva controlada",Descanso:"2 minutos"}},{title:"Intensidade 3 (Pump)",description:'Busca o mximo de estresse metablico e "pump" muscular.',properties:{Repeties:"15 a 20 (at a falha total)",Cadncia:'Contnua (2s negativa / 2s positiva), "apertando" o msculo',Descanso:"1 minuto e 30 segundos"}},{title:"Protocolo de Deload",description:"Reduzir os pesos para cerca de 60% nas sries vlidas para recuperao.",properties:{"Frequncia (Feminino)":"A cada 4-6 semanas","Frequncia (Upper/Lower)":"A cada 6-8 semanas"}}]},{id:"treino_abcd_tecnicas_avancadas",name:"Sistema Treino ABCD (Tcnicas Avanadas)",description:"Este protocolo foca em variar os estmulos atravs de tcnicas especficas aplicadas a exerccios selecionados para quebrar plats de treino.",details:[{title:'Tcnica "SLOW"',description:"Consiste em 4 repeties com 5 segundos de fase concntrica (subida), 4 repeties com 5 segundos de fase excntrica (descida), e 4 repeties em velocidade normal."},{title:'Tcnica "BI-SET" (Super Srie)',description:"Realizar dois exerccios, geralmente para o mesmo grupo muscular ou msculos antagonistas, seguidos sem descanso entre eles."},{title:'Tcnica "EXAUSTO"',description:"Levar o msculo at a falha concntrica total em todas as sries de um determinado exerccio."},{title:'Tcnica "REST PAUSE"',description:"Aps atingir a falha, fazer um descanso curto (10-15 segundos) e continuar a srie com a mesma carga. Repetir o processo at conseguir fazer apenas 1 repetio."}]},{id:"sistema_funcional",name:"Sistema Funcional (50 Treinos Prontos)",description:"Este protocolo segue uma estrutura de circuito funcional, focada em no repetir treinos e alta intensidade metablica para condicionamento geral.",details:[{title:"Estrutura Padro",description:"Sempre inicia com uma fase de Aquecimento, incluindo Mobilidade e Estabilidade articular."},{title:"Blocos de Exerccios",description:"O treino  dividido em exerccios contnuos ou em Blocos (ex: Bloco 1, Bloco 2) para organizar o fluxo da sesso."},{title:"Protocolos de Tempo/Intervalo",description:"A maioria dos treinos  baseada em tempo de execuo fixo (ex: 3x50s, 4x40s) em vez de contagem de repeties. Os intervalos variam de 40s a 1 minuto, aplicados ao final da srie ou do exerccio."}]},{id:"mobilidade_e_estabilidade",name:"Sistema Mobilidade e Estabilidade (Treinador Elite)",description:'Protocolo corretivo focado na funo articular especfica para alvio de dores e melhora da performance, baseado na lgica "Joint-by-Joint".',details:[{title:'Lgica Articular ("Joint-by-Joint")',description:"O corpo  uma pilha de articulaes com necessidades alternadas de mobilidade e estabilidade. O problema em uma articulao geralmente  causado por disfuno na articulao acima ou abaixo."},{title:"Dores na Lombar",description:"Foco em Estabilidade Lombar + Mobilidade de Quadril e Torcica."},{title:"Dores nos Joelhos",description:"Foco em Estabilidade de Joelho + Mobilidade de Tornozelo e Fortalecimento do Arco Plantar."},{title:"Dores nos Ombros",description:"Foco em Mobilidade de Ombro + Estabilidade Escapular e Mobilidade Torcica."}]}],iW=[{type:"Caminhada Rpida",warmup:"5min Alongamento dinmico",main:"30-40min Caminhada Ritmo Acelerado",cooldown:"5min Relaxamento",zone:"Z1-Z2"},{type:"CA-CO (Caminhada-Corrida)",warmup:"5min Caminhada",main:"1min Trote + 2min Caminhada (Repetir 8-10x)",cooldown:"5min Caminhada",zone:"Z2"},{type:"Trote Contnuo",warmup:"5min Caminhada",main:"20min Trote Leve constante",cooldown:"5min Caminhada",zone:"Z2"},{type:"Rodagem (Easy Run)",warmup:"10min Trote leve",main:"40-50min Ritmo estvel e confortvel",cooldown:"5min Caminhada",zone:"Z2-Z3"},{type:"Fartlek",warmup:"10min Trote",main:"1min Forte / 1min Leve (Repetir 10x)",cooldown:"10min Trote leve",zone:"Z3-Z5"},{type:"Progressivo",warmup:"10min Trote",main:"5km Leve + 3km Moderado + 2km Forte",cooldown:"5min Caminhada",zone:"Z2 a Z4"},{type:"Tempo Run",warmup:"15min Trote + Educativos",main:"20-30min no Limiar (Confortavelmente difcil)",cooldown:"10min Trote",zone:"Z4"},{type:"Tiros Curtos",warmup:"20min Trote + 4x Aceleraes",main:"10x 400m Forte (Intervalo 1min parado)",cooldown:"10min Trote",zone:"Z5"},{type:"Tiros Longos",warmup:"15min Trote",main:"4x 1000m Forte (Intervalo 2min trote)",cooldown:"10min Trote",zone:"Z4-Z5"},{type:"Longo",warmup:"10min Trote leve",main:"Distncia longa progressiva (Ritmo de conversa)",cooldown:"Alongamento",zone:"Z2"},{type:"Regenerativo",warmup:"N/A",main:"20-30min Trote extremamente leve",cooldown:"Alongamento",zone:"Z1"}],oW={id:"meia_maratona_iniciante_12_semanas",name:"Meia Maratona (Iniciante - 12 Semanas)",weeks:[{id:"w1",weekLabel:"Semana 1",days:{tuesday:{type:"Tiros Curtos",warmup:"15min Trote",main:"5x 400m Z4 (Intervalo: 400m trote)",cooldown:"5min Trote",zone:"Z4"},thursday:{type:"Rodagem",warmup:"5min Caminhada",main:"4km Rodagem Leve",cooldown:"5min Caminhada",zone:"Z2"},saturday:{type:"Longo",warmup:"5min Caminhada",main:"8km Longo confortvel",cooldown:"Alongamento",zone:"Z2"}}},{id:"w2",weekLabel:"Semana 2",days:{tuesday:{type:"Tiros Curtos",warmup:"15min Trote",main:"6x 400m Z4 (Intervalo: 400m trote)",cooldown:"5min Trote",zone:"Z4"},thursday:{type:"Rodagem",warmup:"5min Caminhada",main:"4km Rodagem Leve",cooldown:"5min Caminhada",zone:"Z2"},saturday:{type:"Longo",warmup:"5min Caminhada",main:"10km Longo confortvel",cooldown:"Alongamento",zone:"Z2"}}},{id:"w3",weekLabel:"Semana 3",days:{tuesday:{type:"Tiros Longos",warmup:"15min Trote",main:"4x 800m Z4 (Intervalo: 400m trote)",cooldown:"5min Trote",zone:"Z4"},thursday:{type:"Rodagem",warmup:"5min Caminhada",main:"5km Rodagem Leve",cooldown:"5min Caminhada",zone:"Z2"},saturday:{type:"Longo",warmup:"5min Caminhada",main:"12km Longo confortvel",cooldown:"Alongamento",zone:"Z2"}}}]},w_=[oW];var sW={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aW,lW;function uW(){return{geminiUrl:aW,vertexUrl:lW}}function cW(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=uW();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hi{}function se(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];p(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>f(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function dW(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}b_(t,i,o,0,s)}}function b_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])b_(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&b_(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fW(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function hW(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],mW(s)),e}function pW(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const s=f(t,["response"]);return s!=null&&p(e,["response"],gW(s)),e}function mW(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>yW(s))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function gW(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>vW(s))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function yW(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],TW(n)),e}function vW(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],SW(n)),e}function _W(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function wW(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function bW(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const s=f(t,["response"]);return s!=null&&p(e,["response"],xW(s)),e}function xW(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function s2(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const s=f(t,["response"]);return s!=null&&p(e,["response"],EW(s)),e}function EW(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function TW(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],oE(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function SW(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],oE(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zI||(zI={}));var GI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(GI||(GI={}));var qI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qI||(qI={}));var On;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(On||(On={}));var HI;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(HI||(HI={}));var WI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(WI||(WI={}));var KI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(KI||(KI={}));var JI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(JI||(JI={}));var YI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(YI||(YI={}));var XI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XI||(XI={}));var QI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(QI||(QI={}));var ZI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(ZI||(ZI={}));var eC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(eC||(eC={}));var tC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tC||(tC={}));var nC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nC||(nC={}));var rC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(rC||(rC={}));var iC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iC||(iC={}));var oC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oC||(oC={}));var sC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(sC||(sC={}));var aC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(aC||(aC={}));var lC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lC||(lC={}));var Sp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Sp||(Sp={}));var uC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uC||(uC={}));var cC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(cC||(cC={}));var dC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dC||(dC={}));var x_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(x_||(x_={}));var fC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fC||(fC={}));var hC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(hC||(hC={}));var E_;(function(t){t.COLLECTION="COLLECTION"})(E_||(E_={}));var pC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pC||(pC={}));var mC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mC||(mC={}));var gC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gC||(gC={}));var yC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yC||(yC={}));var vC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vC||(vC={}));var _C;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_C||(_C={}));var wC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wC||(wC={}));var bC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bC||(bC={}));var xC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xC||(xC={}));var EC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(EC||(EC={}));var TC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(TC||(TC={}));var SC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(SC||(SC={}));var AC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(AC||(AC={}));var IC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(IC||(IC={}));var CC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(CC||(CC={}));var PC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(PC||(PC={}));var RC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(RC||(RC={}));var NC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(NC||(NC={}));var OC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(OC||(OC={}));var kC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(kC||(kC={}));var MC;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(MC||(MC={}));var DC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(DC||(DC={}));var LC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(LC||(LC={}));var $C;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})($C||($C={}));var FC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(FC||(FC={}));var VC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(VC||(VC={}));var UC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(UC||(UC={}));var La;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(La||(La={}));class T_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Mu{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class jC{}class BC{}class AW{}class IW{}class CW{}class PW{}class zC{}class GC{}class qC{}class RW{}class Ap{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ap;let i;const o=e;return n?i=pW(o):i=hW(o),Object.assign(r,i),r}}class HC{}class WC{}class KC{}class JC{}class NW{}class OW{}class kW{}class sE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sE,o=bW(e);return Object.assign(r,o),r}}class MW{}class DW{}class LW{}class $W{}class YC{}class FW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class VW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class aE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new aE,o=s2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function a2(t,e){const n=Fe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function l2(t){return Array.isArray(t)?t.map(e=>Ip(e)):[Ip(t)]}function Ip(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function u2(t){const e=Ip(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function c2(t){const e=Ip(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function d2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>XC(e)):[XC(t)]}function S_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function QC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ZC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function mn(t){if(t==null)throw new Error("ContentUnion is required");return S_(t)?t:{role:"user",parts:d2(t)}}function lE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=mn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=mn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>mn(n)):[mn(e)]}function hr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(QC(t)||ZC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mn(t)]}const e=[],n=[],r=S_(t[0]);for(const i of t){const o=S_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(QC(i)||ZC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:d2(n)}),e}function UW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(On).includes(n[0].toUpperCase())?n[0].toUpperCase():On.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(On).includes(r.toUpperCase())?r.toUpperCase():On.TYPE_UNSPECIFIED})}}function Qa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&UW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(On).includes(a.toUpperCase())?a.toUpperCase():On.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Qa(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Qa(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=Qa(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function uE(t){return Qa(t)}function cE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Qa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Qa(e.response));return t}function Yl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function jW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Wi(t,e){if(typeof e!="string")throw new Error("name must be a string");return jW(t,e,"cachedContents")}function f2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Go(t){return oE(t)}function BW(t){return t!=null&&typeof t=="object"&&"name"in t}function zW(t){return t!=null&&typeof t=="object"&&"video"in t}function GW(t){return t!=null&&typeof t=="object"&&"uri"in t}function h2(t){var e;let n;if(BW(t)&&(n=t.name),!(GW(t)&&(n=t.uri,n===void 0))&&!(zW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function p2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function m2(t){for(const e of["models","tunedModels","publisherModels"])if(qW(t,e))return t[e];return[]}function qW(t,e){return t!==null&&typeof t=="object"&&e in t}function HW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function WW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=HW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function g2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function KW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function y2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function v2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JW(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>P8(s))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["inlinedEmbedContentResponses"],o)}return e}function YW(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function XW(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $h(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],v2(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const s=f(t,["metadata","endTime"]);s!=null&&p(e,["endTime"],s);const a=f(t,["metadata","updateTime"]);a!=null&&p(e,["updateTime"],a);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],JW(y2(u))),e}function A_(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],v2(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const a=f(t,["startTime"]);a!=null&&p(e,["startTime"],a);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],QW(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],YW(y2(h)));const g=f(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function QW(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function ZW(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>C8(t,s))),p(n,["requests","requests"],o)}return n}function e8(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function t8(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function n8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Xl(t,r)),n}function r8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Xl(t,r)),n}function i8(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],o8(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function o8(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function _2(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>L8(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function s8(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function a8(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],XW(KW(i))),n}function eP(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Fe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],ZW(t,g2(t,i)));const o=f(e,["config"]);return o!=null&&s8(o,n),n}function l8(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],Fe(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],e8(g2(t,i)));const o=f(e,["config"]);return o!=null&&a8(o,n),n}function u8(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function c8(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Fe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],y8(t,i));const o=f(e,["config"]);return o!=null&&u8(o,n),n}function d8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Xl(t,r)),n}function f8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Xl(t,r)),n}function h8(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function p8(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function m8(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=lE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],g8(i,n)),dW(n,{"requests[].*":"requests[].request.*"})),n}function g8(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function y8(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],m8(t,i)),n}function v8(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function _8(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function w8(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function b8(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],_2(mn(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&p(r,["topP"],s);const a=f(e,["topK"]);a!=null&&p(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&p(r,["responseMimeType"],v);const b=f(e,["responseSchema"]);b!=null&&p(r,["responseSchema"],uE(b));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(j=>$8(j))),p(n,["safetySettings"],D)}const P=f(e,["tools"]);if(n!==void 0&&P!=null){let D=Yl(P);Array.isArray(D)&&(D=D.map(j=>V8(Jl(j)))),p(n,["tools"],D)}const E=f(e,["toolConfig"]);if(n!==void 0&&E!=null&&p(n,["toolConfig"],F8(E)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=f(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Wi(t,C));const T=f(e,["responseModalities"]);T!=null&&p(r,["responseModalities"],T);const I=f(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const R=f(e,["speechConfig"]);if(R!=null&&p(r,["speechConfig"],cE(R)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=f(e,["thinkingConfig"]);O!=null&&p(r,["thinkingConfig"],O);const k=f(e,["imageConfig"]);k!=null&&p(r,["imageConfig"],I8(k));const M=f(e,["enableEnhancedCivicAnswers"]);if(M!=null&&p(r,["enableEnhancedCivicAnswers"],M),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function x8(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>i8(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function E8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Xl(t,r)),n}function T8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Xl(t,r)),n}function S8(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function A8(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function I8(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function C8(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],Fe(t,r));const i=f(e,["contents"]);if(i!=null){let a=hr(i);Array.isArray(a)&&(a=a.map(l=>_2(l))),p(n,["request","contents"],a)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const s=f(e,["config"]);return s!=null&&p(n,["request","generationConfig"],b8(t,s,f(n,["request"],{}))),n}function P8(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],x8(n));const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["error"]);return i!=null&&p(e,["error"],i),e}function R8(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function N8(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function O8(t){const e={},n=f(t,["config"]);return n!=null&&R8(n,e),e}function k8(t){const e={},n=f(t,["config"]);return n!=null&&N8(n,e),e}function M8(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$h(s))),p(e,["batchJobs"],o)}return e}function D8(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>A_(s))),p(e,["batchJobs"],o)}return e}function L8(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],v8(o));const s=f(t,["functionCall"]);s!=null&&p(e,["functionCall"],_8(s));const a=f(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],t8(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function $8(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function F8(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],w8(r)),e}function V8(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],S8(s));const a=f(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],A8(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vi||(Vi={}));class ta{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U8 extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ta(Vi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=eP(this.apiClient,e),r=n._url,i=se("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=l8(this.apiClient,e);return a=se("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>A_(c))}else{const u=eP(this.apiClient,e);return a=se("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>$h(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=c8(this.apiClient,e);return o=se("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>$h(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=T8(this.apiClient,e);return a=se("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>A_(c))}else{const u=E8(this.apiClient,e);return a=se("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>$h(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=r8(this.apiClient,e);s=se("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=n8(this.apiClient,e);s=se("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=k8(e);return a=se("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=D8(c),h=new YC;return Object.assign(h,d),h})}else{const u=O8(e);return a=se("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=M8(c),h=new YC;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=f8(this.apiClient,e);return a=se("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>p8(c))}else{const u=d8(this.apiClient,e);return a=se("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>h8(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j8(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function tP(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cK(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function B8(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let c=hr(s);Array.isArray(c)&&(c=c.map(d=>tP(d))),p(e,["contents"],c)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],tP(mn(a)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>fK(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],dK(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function z8(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let d=hr(s);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],mn(a));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>hK(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function G8(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],a2(t,r));const i=f(e,["config"]);return i!=null&&B8(i,n),n}function q8(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],a2(t,r));const i=f(e,["config"]);return i!=null&&z8(i,n),n}function H8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Wi(t,r)),n}function W8(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Wi(t,r)),n}function K8(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function J8(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Y8(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function X8(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Q8(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Z8(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&p(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&p(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eK(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Wi(t,r)),n}function tK(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Wi(t,r)),n}function nK(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function rK(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function iK(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function oK(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function sK(t){const e={},n=f(t,["config"]);return n!=null&&iK(n,e),e}function aK(t){const e={},n=f(t,["config"]);return n!=null&&oK(n,e),e}function lK(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function uK(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function cK(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Y8(o));const s=f(t,["functionCall"]);s!=null&&p(e,["functionCall"],X8(s));const a=f(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],j8(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function dK(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],Q8(r)),e}function fK(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],nK(s));const a=f(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],rK(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function hK(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Z8(h))),p(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function pK(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function mK(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function gK(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Wi(t,r));const i=f(e,["config"]);return i!=null&&pK(i,n),n}function yK(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Wi(t,r));const i=f(e,["config"]);return i!=null&&mK(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vK extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ta(Vi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=q8(this.apiClient,e);return a=se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=G8(this.apiClient,e);return a=se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tK(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=eK(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=W8(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=J8(c),h=new KC;return Object.assign(h,d),h})}else{const u=H8(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=K8(c),h=new KC;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yK(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=gK(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=aK(e);return a=se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=uK(c),h=new JC;return Object.assign(h,d),h})}else{const u=sK(e);return a=se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=lK(c),h=new JC;return Object.assign(h,d),h})}}}function Cp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function we(t){return this instanceof we?(this.v=t,this):new we(t)}function Or(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,d)}}function a(g,y){r[g]&&(i[g]=function(w){return new Promise(function(v,b){o.push([g,w,v,b])>1||l(g,w)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(w){h(o[0][3],w)}}function u(g){g.value instanceof we?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function kr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nP=="function"?nP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _K(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:w2(n)}function w2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rP(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!w2(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class bK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new xK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),wK(o)}async sendMessage(e){var n;await this.sendPromise;const r=mn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=mn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?rP(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Or(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,h=kr(e),g;g=yield we(h.next()),i=g.done,!i;d=!0){a=g.value,d=!1;const y=a;if(_K(y)){const w=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield we(y)}}catch(y){o={error:y}}finally{try{!d&&!i&&(s=h.return)&&(yield we(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...rP(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class td extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,td.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EK(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function TK(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function SK(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],h2(n)),e}function AK(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function IK(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],h2(n)),e}function CK(t){const e={},n=f(t,["uris"]);return n!=null&&p(e,["uris"],n),e}function PK(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function RK(t){const e={},n=f(t,["config"]);return n!=null&&PK(n,e),e}function NK(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["files"],o)}return e}function OK(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kK extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ta(Vi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RK(e);return o=se("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=NK(l),c=new MW;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=EK(e);return o=se("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=TK(l),c=new DW;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=IK(e);return o=se("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=SK(e);return o=se("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=AK(l),c=new LW;return Object.assign(c,u),c})}}async registerFilesInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CK(e);return o=se("files:register",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=OK(l),c=new $W;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fh(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function MK(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>YK(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function DK(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function LK(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $K(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&p(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&p(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function FK(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&p(e,["routingConfig"],v);const b=f(t,["seed"]);b!=null&&p(e,["seed"],b);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const S=f(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const P=f(t,["temperature"]);P!=null&&p(e,["temperature"],P);const E=f(t,["thinkingConfig"]);E!=null&&p(e,["thinkingConfig"],E);const C=f(t,["topK"]);C!=null&&p(e,["topK"],C);const T=f(t,["topP"]);if(T!=null&&p(e,["topP"],T),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function VK(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function UK(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function jK(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],dE(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],MK(mn(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let C=Yl(w);Array.isArray(C)&&(C=C.map(T=>QK(Jl(T)))),p(e,["setup","tools"],C)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],XK(v));const b=f(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","inputAudioTranscription"],b);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const P=f(t,["contextWindowCompression"]);e!==void 0&&P!=null&&p(e,["setup","contextWindowCompression"],P);const E=f(t,["proactivity"]);if(e!==void 0&&E!=null&&p(e,["setup","proactivity"],E),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function BK(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],FK(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],dE(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],mn(y));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let T=Yl(w);Array.isArray(T)&&(T=T.map(I=>ZK(Jl(I)))),p(e,["setup","tools"],T)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],v);const b=f(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","inputAudioTranscription"],b);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const P=f(t,["contextWindowCompression"]);e!==void 0&&P!=null&&p(e,["setup","contextWindowCompression"],P);const E=f(t,["proactivity"]);e!==void 0&&E!=null&&p(e,["setup","proactivity"],E);const C=f(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&p(e,["setup","explicitVadSignal"],C),n}function zK(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Fe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],jK(i,n)),n}function GK(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Fe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],BK(i,n)),n}function qK(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function HK(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function WK(t){const e={},n=f(t,["media"]);if(n!=null){let u=l2(n);Array.isArray(u)&&(u=u.map(c=>Fh(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],Fh(c2(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],Fh(u2(o)));const s=f(t,["text"]);s!=null&&p(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function KK(t){const e={},n=f(t,["media"]);if(n!=null){let u=l2(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],c2(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],u2(o));const s=f(t,["text"]);s!=null&&p(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function JK(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const s=f(t,["usageMetadata"]);s!=null&&p(e,["usageMetadata"],e7(s));const a=f(t,["goAway"]);a!=null&&p(e,["goAway"],a);const l=f(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);u!=null&&p(e,["voiceActivityDetectionSignal"],u);const c=f(t,["voiceActivity"]);return c!=null&&p(e,["voiceActivity"],t7(c)),e}function YK(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],DK(o));const s=f(t,["functionCall"]);s!=null&&p(e,["functionCall"],LK(s));const a=f(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Fh(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function XK(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QK(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],VK(s));const a=f(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],UK(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function ZK(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>$K(h))),p(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function e7(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const s=f(t,["thoughtsTokenCount"]);s!=null&&p(e,["thoughtsTokenCount"],s);const a=f(t,["totalTokenCount"]);a!=null&&p(e,["totalTokenCount"],a);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}function t7(t){const e={},n=f(t,["type"]);return n!=null&&p(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n7(t,e){const n={},r=f(t,["data"]);if(r!=null&&p(n,["data"],r),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function r7(t,e){const n={},r=f(t,["content"]);r!=null&&p(n,["content"],r);const i=f(t,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],i7(i));const o=f(t,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const s=f(t,["finishReason"]);s!=null&&p(n,["finishReason"],s);const a=f(t,["avgLogprobs"]);a!=null&&p(n,["avgLogprobs"],a);const l=f(t,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=f(t,["index"]);u!=null&&p(n,["index"],u);const c=f(t,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const d=f(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),p(n,["safetyRatings"],g)}const h=f(t,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function i7(t,e){const n={},r=f(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function o7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let s=hr(o);Array.isArray(s)&&(s=s.map(a=>a)),p(r,["contents"],s)}return r}function s7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(n,["tokensInfo"],o)}return n}function a7(t,e){const n={},r=f(t,["values"]);r!=null&&p(n,["values"],r);const i=f(t,["statistics"]);return i!=null&&p(n,["statistics"],l7(i)),n}function l7(t,e){const n={},r=f(t,["truncated"]);r!=null&&p(n,["truncated"],r);const i=f(t,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function bg(t,e){const n={},r=f(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>yJ(s))),p(n,["parts"],o)}const i=f(t,["role"]);return i!=null&&p(n,["role"],i),n}function u7(t,e){const n={},r=f(t,["controlType"]);r!=null&&p(n,["controlType"],r);const i=f(t,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function c7(t,e){const n={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function d7(t,e,n){const r={},i=f(t,["systemInstruction"]);e!==void 0&&i!=null&&p(e,["systemInstruction"],mn(i));const o=f(t,["tools"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>T2(l))),p(e,["tools"],a)}const s=f(t,["generationConfig"]);return e!==void 0&&s!=null&&p(e,["generationConfig"],nJ(s)),r}function f7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let a=hr(o);Array.isArray(a)&&(a=a.map(l=>bg(l))),p(r,["contents"],a)}const s=f(e,["config"]);return s!=null&&c7(s),r}function h7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let a=hr(o);Array.isArray(a)&&(a=a.map(l=>l)),p(r,["contents"],a)}const s=f(e,["config"]);return s!=null&&d7(s,r),r}function p7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=f(t,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function m7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function g7(t,e,n){const r={},i=f(e,["model"]);return i!=null&&p(r,["_url","name"],Fe(t,i)),r}function y7(t,e,n){const r={},i=f(e,["model"]);return i!=null&&p(r,["_url","name"],Fe(t,i)),r}function v7(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function _7(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function w7(t,e,n){const r={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const l=f(t,["guidanceScale"]);e!==void 0&&l!=null&&p(e,["parameters","guidanceScale"],l);const u=f(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const h=f(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const g=f(t,["includeRaiReason"]);e!==void 0&&g!=null&&p(e,["parameters","includeRaiReason"],g);const y=f(t,["language"]);e!==void 0&&y!=null&&p(e,["parameters","language"],y);const w=f(t,["outputMimeType"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","mimeType"],w);const v=f(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","compressionQuality"],v);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const x=f(t,["labels"]);e!==void 0&&x!=null&&p(e,["labels"],x);const S=f(t,["editMode"]);e!==void 0&&S!=null&&p(e,["parameters","editMode"],S);const P=f(t,["baseSteps"]);return e!==void 0&&P!=null&&p(e,["parameters","editConfig","baseSteps"],P),r}function b7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const s=f(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>EJ(u))),p(r,["instances[0]","referenceImages"],l)}const a=f(e,["config"]);return a!=null&&w7(a,r),r}function x7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xg(s))),p(n,["generatedImages"],o)}return n}function E7(t,e,n){const r={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["requests[]","taskType"],i);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=f(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function T7(t,e,n){const r={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["instances[]","task_type"],i);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const s=f(t,["outputDimensionality"]);e!==void 0&&s!=null&&p(e,["parameters","outputDimensionality"],s);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const l=f(t,["autoTruncate"]);return e!==void 0&&l!=null&&p(e,["parameters","autoTruncate"],l),r}function S7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let l=lE(t,o);Array.isArray(l)&&(l=l.map(u=>u)),p(r,["requests[]","content"],l)}const s=f(e,["config"]);s!=null&&E7(s,r);const a=f(e,["model"]);return a!==void 0&&p(r,["requests[]","model"],Fe(t,a)),r}function A7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let a=lE(t,o);Array.isArray(a)&&(a=a.map(l=>l)),p(r,["instances[]","content"],a)}const s=f(e,["config"]);return s!=null&&T7(s,r),r}function I7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),p(n,["embeddings"],s)}const o=f(t,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function C7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a7(a))),p(n,["embeddings"],s)}const o=f(t,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function P7(t,e){const n={},r=f(t,["endpoint"]);r!=null&&p(n,["name"],r);const i=f(t,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function R7(t,e){const n={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=f(t,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function N7(t,e){const n={},r=f(t,["id"]);r!=null&&p(n,["id"],r);const i=f(t,["args"]);i!=null&&p(n,["args"],i);const o=f(t,["name"]);if(o!=null&&p(n,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function O7(t,e){const n={},r=f(t,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=f(t,["mode"]);if(i!=null&&p(n,["mode"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function k7(t,e){const n={},r=f(t,["description"]);r!=null&&p(n,["description"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["parameters"]);o!=null&&p(n,["parameters"],o);const s=f(t,["parametersJsonSchema"]);s!=null&&p(n,["parametersJsonSchema"],s);const a=f(t,["response"]);a!=null&&p(n,["response"],a);const l=f(t,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function M7(t,e,n,r){const i={},o=f(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],bg(mn(o)));const s=f(e,["temperature"]);s!=null&&p(i,["temperature"],s);const a=f(e,["topP"]);a!=null&&p(i,["topP"],a);const l=f(e,["topK"]);l!=null&&p(i,["topK"],l);const u=f(e,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(e,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(e,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(e,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const g=f(e,["logprobs"]);g!=null&&p(i,["logprobs"],g);const y=f(e,["presencePenalty"]);y!=null&&p(i,["presencePenalty"],y);const w=f(e,["frequencyPenalty"]);w!=null&&p(i,["frequencyPenalty"],w);const v=f(e,["seed"]);v!=null&&p(i,["seed"],v);const b=f(e,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const x=f(e,["responseSchema"]);x!=null&&p(i,["responseSchema"],uE(x));const S=f(e,["responseJsonSchema"]);if(S!=null&&p(i,["responseJsonSchema"],S),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(n!==void 0&&P!=null){let j=P;Array.isArray(j)&&(j=j.map(z=>TJ(z))),p(n,["safetySettings"],j)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let j=Yl(E);Array.isArray(j)&&(j=j.map(z=>NJ(Jl(z)))),p(n,["tools"],j)}const C=f(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],RJ(C)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(e,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],Wi(t,T));const I=f(e,["responseModalities"]);I!=null&&p(i,["responseModalities"],I);const R=f(e,["mediaResolution"]);R!=null&&p(i,["mediaResolution"],R);const O=f(e,["speechConfig"]);if(O!=null&&p(i,["speechConfig"],cE(O)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=f(e,["thinkingConfig"]);k!=null&&p(i,["thinkingConfig"],k);const M=f(e,["imageConfig"]);M!=null&&p(i,["imageConfig"],aJ(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&p(i,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function D7(t,e,n,r){const i={},o=f(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],mn(o));const s=f(e,["temperature"]);s!=null&&p(i,["temperature"],s);const a=f(e,["topP"]);a!=null&&p(i,["topP"],a);const l=f(e,["topK"]);l!=null&&p(i,["topK"],l);const u=f(e,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(e,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(e,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(e,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const g=f(e,["logprobs"]);g!=null&&p(i,["logprobs"],g);const y=f(e,["presencePenalty"]);y!=null&&p(i,["presencePenalty"],y);const w=f(e,["frequencyPenalty"]);w!=null&&p(i,["frequencyPenalty"],w);const v=f(e,["seed"]);v!=null&&p(i,["seed"],v);const b=f(e,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const x=f(e,["responseSchema"]);x!=null&&p(i,["responseSchema"],uE(x));const S=f(e,["responseJsonSchema"]);S!=null&&p(i,["responseJsonSchema"],S);const P=f(e,["routingConfig"]);P!=null&&p(i,["routingConfig"],P);const E=f(e,["modelSelectionConfig"]);E!=null&&p(i,["modelConfig"],E);const C=f(e,["safetySettings"]);if(n!==void 0&&C!=null){let U=C;Array.isArray(U)&&(U=U.map(W=>W)),p(n,["safetySettings"],U)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let U=Yl(T);Array.isArray(U)&&(U=U.map(W=>T2(Jl(W)))),p(n,["tools"],U)}const I=f(e,["toolConfig"]);n!==void 0&&I!=null&&p(n,["toolConfig"],I);const R=f(e,["labels"]);n!==void 0&&R!=null&&p(n,["labels"],R);const O=f(e,["cachedContent"]);n!==void 0&&O!=null&&p(n,["cachedContent"],Wi(t,O));const k=f(e,["responseModalities"]);k!=null&&p(i,["responseModalities"],k);const M=f(e,["mediaResolution"]);M!=null&&p(i,["mediaResolution"],M);const D=f(e,["speechConfig"]);D!=null&&p(i,["speechConfig"],cE(D));const j=f(e,["audioTimestamp"]);j!=null&&p(i,["audioTimestamp"],j);const z=f(e,["thinkingConfig"]);z!=null&&p(i,["thinkingConfig"],z);const K=f(e,["imageConfig"]);if(K!=null&&p(i,["imageConfig"],lJ(K)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const X=f(e,["modelArmorConfig"]);return n!==void 0&&X!=null&&p(n,["modelArmorConfig"],X),i}function iP(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let a=hr(o);Array.isArray(a)&&(a=a.map(l=>bg(l))),p(r,["contents"],a)}const s=f(e,["config"]);return s!=null&&p(r,["generationConfig"],M7(t,s,r)),r}function oP(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["contents"]);if(o!=null){let a=hr(o);Array.isArray(a)&&(a=a.map(l=>l)),p(r,["contents"],a)}const s=f(e,["config"]);return s!=null&&p(r,["generationConfig"],D7(t,s,r)),r}function sP(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>r7(c))),p(n,["candidates"],u)}const o=f(t,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const s=f(t,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const a=f(t,["responseId"]);a!=null&&p(n,["responseId"],a);const l=f(t,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function aP(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d)),p(n,["candidates"],c)}const o=f(t,["createTime"]);o!=null&&p(n,["createTime"],o);const s=f(t,["modelVersion"]);s!=null&&p(n,["modelVersion"],s);const a=f(t,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const l=f(t,["responseId"]);l!=null&&p(n,["responseId"],l);const u=f(t,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function L7(t,e,n){const r={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=f(t,["guidanceScale"]);if(e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&p(e,["parameters","includeSafetyAttributes"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&p(e,["parameters","includeRaiReason"],c);const d=f(t,["language"]);e!==void 0&&d!=null&&p(e,["parameters","language"],d);const h=f(t,["outputMimeType"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","mimeType"],h);const g=f(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&p(e,["parameters","outputOptions","compressionQuality"],g),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=f(t,["imageSize"]);if(e!==void 0&&y!=null&&p(e,["parameters","sampleImageSize"],y),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function $7(t,e,n){const r={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const l=f(t,["guidanceScale"]);e!==void 0&&l!=null&&p(e,["parameters","guidanceScale"],l);const u=f(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const h=f(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const g=f(t,["includeRaiReason"]);e!==void 0&&g!=null&&p(e,["parameters","includeRaiReason"],g);const y=f(t,["language"]);e!==void 0&&y!=null&&p(e,["parameters","language"],y);const w=f(t,["outputMimeType"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","mimeType"],w);const v=f(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","compressionQuality"],v);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const x=f(t,["labels"]);e!==void 0&&x!=null&&p(e,["labels"],x);const S=f(t,["imageSize"]);e!==void 0&&S!=null&&p(e,["parameters","sampleImageSize"],S);const P=f(t,["enhancePrompt"]);return e!==void 0&&P!=null&&p(e,["parameters","enhancePrompt"],P),r}function F7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const s=f(e,["config"]);return s!=null&&L7(s,r),r}function V7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const s=f(e,["config"]);return s!=null&&$7(s,r),r}function U7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Q7(a))),p(n,["generatedImages"],s)}const o=f(t,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],x2(o)),n}function j7(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xg(a))),p(n,["generatedImages"],s)}const o=f(t,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],E2(o)),n}function B7(t,e,n){const r={},i=f(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=f(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const l=f(t,["personGeneration"]);if(e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=f(t,["negativePrompt"]);e!==void 0&&u!=null&&p(e,["parameters","negativePrompt"],u);const c=f(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&p(e,["parameters","enhancePrompt"],c),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=f(t,["lastFrame"]);e!==void 0&&d!=null&&p(e,["instances[0]","lastFrame"],Eg(d));const h=f(t,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>GJ(y))),p(e,["instances[0]","referenceImages"],g)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function z7(t,e,n){const r={},i=f(t,["numberOfVideos"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=f(t,["fps"]);e!==void 0&&s!=null&&p(e,["parameters","fps"],s);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&p(e,["parameters","resolution"],c);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const h=f(t,["pubsubTopic"]);e!==void 0&&h!=null&&p(e,["parameters","pubsubTopic"],h);const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","negativePrompt"],g);const y=f(t,["enhancePrompt"]);e!==void 0&&y!=null&&p(e,["parameters","enhancePrompt"],y);const w=f(t,["generateAudio"]);e!==void 0&&w!=null&&p(e,["parameters","generateAudio"],w);const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&p(e,["instances[0]","lastFrame"],Vr(v));const b=f(t,["referenceImages"]);if(e!==void 0&&b!=null){let P=b;Array.isArray(P)&&(P=P.map(E=>qJ(E))),p(e,["instances[0]","referenceImages"],P)}const x=f(t,["mask"]);e!==void 0&&x!=null&&p(e,["instances[0]","mask"],zJ(x));const S=f(t,["compressionQuality"]);return e!==void 0&&S!=null&&p(e,["parameters","compressionQuality"],S),r}function G7(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["name"],r);const i=f(t,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(t,["done"]);o!=null&&p(n,["done"],o);const s=f(t,["error"]);s!=null&&p(n,["error"],s);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(n,["response"],K7(a)),n}function q7(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["name"],r);const i=f(t,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(t,["done"]);o!=null&&p(n,["done"],o);const s=f(t,["error"]);s!=null&&p(n,["error"],s);const a=f(t,["response"]);return a!=null&&p(n,["response"],J7(a)),n}function H7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const s=f(e,["image"]);s!=null&&p(r,["instances[0]","image"],Eg(s));const a=f(e,["video"]);a!=null&&p(r,["instances[0]","video"],S2(a));const l=f(e,["source"]);l!=null&&Y7(l,r);const u=f(e,["config"]);return u!=null&&B7(u,r),r}function W7(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const s=f(e,["image"]);s!=null&&p(r,["instances[0]","image"],Vr(s));const a=f(e,["video"]);a!=null&&p(r,["instances[0]","video"],A2(a));const l=f(e,["source"]);l!=null&&X7(l,r);const u=f(e,["config"]);return u!=null&&z7(u,r),r}function K7(t,e){const n={},r=f(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>eJ(a))),p(n,["generatedVideos"],s)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function J7(t,e){const n={},r=f(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>tJ(a))),p(n,["generatedVideos"],s)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function Y7(t,e,n){const r={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Eg(o));const s=f(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],S2(s)),r}function X7(t,e,n){const r={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Vr(o));const s=f(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],A2(s)),r}function Q7(t,e){const n={},r=f(t,["_self"]);r!=null&&p(n,["image"],uJ(r));const i=f(t,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(t,["_self"]);return o!=null&&p(n,["safetyAttributes"],x2(o)),n}function xg(t,e){const n={},r=f(t,["_self"]);r!=null&&p(n,["image"],b2(r));const i=f(t,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(t,["_self"]);o!=null&&p(n,["safetyAttributes"],E2(o));const s=f(t,["prompt"]);return s!=null&&p(n,["enhancedPrompt"],s),n}function Z7(t,e){const n={},r=f(t,["_self"]);r!=null&&p(n,["mask"],b2(r));const i=f(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(n,["labels"],o)}return n}function eJ(t,e){const n={},r=f(t,["video"]);return r!=null&&p(n,["video"],jJ(r)),n}function tJ(t,e){const n={},r=f(t,["_self"]);return r!=null&&p(n,["video"],BJ(r)),n}function nJ(t,e){const n={},r=f(t,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=f(t,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=f(t,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const s=f(t,["candidateCount"]);s!=null&&p(n,["candidateCount"],s);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(n,["enableAffectiveDialog"],a);const l=f(t,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=f(t,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const d=f(t,["mediaResolution"]);d!=null&&p(n,["mediaResolution"],d);const h=f(t,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const g=f(t,["responseLogprobs"]);g!=null&&p(n,["responseLogprobs"],g);const y=f(t,["responseMimeType"]);y!=null&&p(n,["responseMimeType"],y);const w=f(t,["responseModalities"]);w!=null&&p(n,["responseModalities"],w);const v=f(t,["responseSchema"]);v!=null&&p(n,["responseSchema"],v);const b=f(t,["routingConfig"]);b!=null&&p(n,["routingConfig"],b);const x=f(t,["seed"]);x!=null&&p(n,["seed"],x);const S=f(t,["speechConfig"]);S!=null&&p(n,["speechConfig"],S);const P=f(t,["stopSequences"]);P!=null&&p(n,["stopSequences"],P);const E=f(t,["temperature"]);E!=null&&p(n,["temperature"],E);const C=f(t,["thinkingConfig"]);C!=null&&p(n,["thinkingConfig"],C);const T=f(t,["topK"]);T!=null&&p(n,["topK"],T);const I=f(t,["topP"]);if(I!=null&&p(n,["topP"],I),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function rJ(t,e,n){const r={},i=f(e,["model"]);return i!=null&&p(r,["_url","name"],Fe(t,i)),r}function iJ(t,e,n){const r={},i=f(e,["model"]);return i!=null&&p(r,["_url","name"],Fe(t,i)),r}function oJ(t,e){const n={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(t,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function sJ(t,e){const n={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(t,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function aJ(t,e){const n={},r=f(t,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(t,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function lJ(t,e){const n={},r=f(t,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(t,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=f(t,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const s=f(t,["outputMimeType"]);s!=null&&p(n,["imageOutputOptions","mimeType"],s);const a=f(t,["outputCompressionQuality"]);return a!=null&&p(n,["imageOutputOptions","compressionQuality"],a),n}function uJ(t,e){const n={},r=f(t,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],Go(r));const i=f(t,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function b2(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],Go(i));const o=f(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function Eg(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=f(t,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],Go(r));const i=f(t,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function Vr(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(t,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Go(i));const o=f(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function cJ(t,e,n,r){const i={},o=f(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=f(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const l=f(e,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],p2(t,l)),i}function dJ(t,e,n,r){const i={},o=f(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=f(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const l=f(e,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],p2(t,l)),i}function fJ(t,e,n){const r={},i=f(e,["config"]);return i!=null&&cJ(t,i,r),r}function hJ(t,e,n){const r={},i=f(e,["config"]);return i!=null&&dJ(t,i,r),r}function pJ(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["_self"]);if(o!=null){let s=m2(o);Array.isArray(s)&&(s=s.map(a=>I_(a))),p(n,["models"],s)}return n}function mJ(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["_self"]);if(o!=null){let s=m2(o);Array.isArray(s)&&(s=s.map(a=>C_(a))),p(n,["models"],s)}return n}function gJ(t,e){const n={},r=f(t,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=f(t,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=f(t,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function I_(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["name"],r);const i=f(t,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(t,["description"]);o!=null&&p(n,["description"],o);const s=f(t,["version"]);s!=null&&p(n,["version"],s);const a=f(t,["_self"]);a!=null&&p(n,["tunedModelInfo"],OJ(a));const l=f(t,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=f(t,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=f(t,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const d=f(t,["temperature"]);d!=null&&p(n,["temperature"],d);const h=f(t,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const g=f(t,["topP"]);g!=null&&p(n,["topP"],g);const y=f(t,["topK"]);y!=null&&p(n,["topK"],y);const w=f(t,["thinking"]);return w!=null&&p(n,["thinking"],w),n}function C_(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["name"],r);const i=f(t,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(t,["description"]);o!=null&&p(n,["description"],o);const s=f(t,["versionId"]);s!=null&&p(n,["version"],s);const a=f(t,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>P7(g))),p(n,["endpoints"],h)}const l=f(t,["labels"]);l!=null&&p(n,["labels"],l);const u=f(t,["_self"]);u!=null&&p(n,["tunedModelInfo"],kJ(u));const c=f(t,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const d=f(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),p(n,["checkpoints"],h)}return n}function yJ(t,e){const n={},r=f(t,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=f(t,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=f(t,["executableCode"]);o!=null&&p(n,["executableCode"],o);const s=f(t,["fileData"]);s!=null&&p(n,["fileData"],R7(s));const a=f(t,["functionCall"]);a!=null&&p(n,["functionCall"],N7(a));const l=f(t,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=f(t,["inlineData"]);u!=null&&p(n,["inlineData"],n7(u));const c=f(t,["text"]);c!=null&&p(n,["text"],c);const d=f(t,["thought"]);d!=null&&p(n,["thought"],d);const h=f(t,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const g=f(t,["videoMetadata"]);return g!=null&&p(n,["videoMetadata"],g),n}function vJ(t,e){const n={},r=f(t,["productImage"]);return r!=null&&p(n,["image"],Vr(r)),n}function _J(t,e,n){const r={},i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=f(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const l=f(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&p(e,["parameters","safetySetting"],l);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u);const c=f(t,["addWatermark"]);e!==void 0&&c!=null&&p(e,["parameters","addWatermark"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const y=f(t,["labels"]);return e!==void 0&&y!=null&&p(e,["labels"],y),r}function wJ(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["source"]);o!=null&&xJ(o,r);const s=f(e,["config"]);return s!=null&&_J(s,r),r}function bJ(t,e){const n={},r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>xg(o))),p(n,["generatedImages"],i)}return n}function xJ(t,e,n){const r={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],Vr(o));const s=f(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>vJ(l))),p(e,["instances[0]","productImages"],a)}return r}function EJ(t,e){const n={},r=f(t,["referenceImage"]);r!=null&&p(n,["referenceImage"],Vr(r));const i=f(t,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=f(t,["referenceType"]);o!=null&&p(n,["referenceType"],o);const s=f(t,["maskImageConfig"]);s!=null&&p(n,["maskImageConfig"],gJ(s));const a=f(t,["controlImageConfig"]);a!=null&&p(n,["controlImageConfig"],u7(a));const l=f(t,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=f(t,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function x2(t,e){const n={},r=f(t,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(t,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(t,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function E2(t,e){const n={},r=f(t,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(t,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(t,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function TJ(t,e){const n={},r=f(t,["category"]);if(r!=null&&p(n,["category"],r),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(t,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function SJ(t,e){const n={},r=f(t,["image"]);return r!=null&&p(n,["image"],Vr(r)),n}function AJ(t,e,n){const r={},i=f(t,["mode"]);e!==void 0&&i!=null&&p(e,["parameters","mode"],i);const o=f(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const s=f(t,["confidenceThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","confidenceThreshold"],s);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const l=f(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&p(e,["parameters","binaryColorThreshold"],l);const u=f(t,["labels"]);return e!==void 0&&u!=null&&p(e,["labels"],u),r}function IJ(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["source"]);o!=null&&PJ(o,r);const s=f(e,["config"]);return s!=null&&AJ(s,r),r}function CJ(t,e){const n={},r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Z7(o))),p(n,["generatedMasks"],i)}return n}function PJ(t,e,n){const r={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Vr(o));const s=f(t,["scribbleImage"]);return e!==void 0&&s!=null&&p(e,["instances[0]","scribble"],SJ(s)),r}function RJ(t,e){const n={},r=f(t,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=f(t,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],O7(i)),n}function NJ(t,e){const n={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=f(t,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=f(t,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),p(n,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&p(n,["googleMaps"],oJ(a));const l=f(t,["googleSearch"]);l!=null&&p(n,["googleSearch"],sJ(l));const u=f(t,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function T2(t,e){const n={},r=f(t,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=f(t,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=f(t,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(n,["enterpriseWebSearch"],s);const a=f(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>k7(g))),p(n,["functionDeclarations"],h)}const l=f(t,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=f(t,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const d=f(t,["urlContext"]);return d!=null&&p(n,["urlContext"],d),n}function OJ(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(t,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function kJ(t,e){const n={},r=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(t,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function MJ(t,e,n){const r={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=f(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),r}function DJ(t,e,n){const r={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=f(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),r}function LJ(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","name"],Fe(t,i));const o=f(e,["config"]);return o!=null&&MJ(o,r),r}function $J(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["config"]);return o!=null&&DJ(o,r),r}function FJ(t,e,n){const r={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const l=f(t,["outputMimeType"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","mimeType"],l);const u=f(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&p(e,["parameters","outputOptions","compressionQuality"],u);const c=f(t,["enhanceInputImage"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=f(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=f(t,["labels"]);e!==void 0&&h!=null&&p(e,["labels"],h);const g=f(t,["numberOfImages"]);e!==void 0&&g!=null&&p(e,["parameters","sampleCount"],g);const y=f(t,["mode"]);return e!==void 0&&y!=null&&p(e,["parameters","mode"],y),r}function VJ(t,e,n){const r={},i=f(e,["model"]);i!=null&&p(r,["_url","model"],Fe(t,i));const o=f(e,["image"]);o!=null&&p(r,["instances[0]","image"],Vr(o));const s=f(e,["upscaleFactor"]);s!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],s);const a=f(e,["config"]);return a!=null&&FJ(a,r),r}function UJ(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xg(s))),p(n,["generatedImages"],o)}return n}function jJ(t,e){const n={},r=f(t,["uri"]);r!=null&&p(n,["uri"],r);const i=f(t,["encodedVideo"]);i!=null&&p(n,["videoBytes"],Go(i));const o=f(t,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function BJ(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],Go(i));const o=f(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function zJ(t,e){const n={},r=f(t,["image"]);r!=null&&p(n,["_self"],Vr(r));const i=f(t,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function GJ(t,e){const n={},r=f(t,["image"]);r!=null&&p(n,["image"],Eg(r));const i=f(t,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function qJ(t,e){const n={},r=f(t,["image"]);r!=null&&p(n,["image"],Vr(r));const i=f(t,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function S2(t,e){const n={},r=f(t,["uri"]);r!=null&&p(n,["uri"],r);const i=f(t,["videoBytes"]);i!=null&&p(n,["encodedVideo"],Go(i));const o=f(t,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function A2(t,e){const n={},r=f(t,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=f(t,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Go(i));const o=f(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HJ(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function WJ(t){const e={},n=f(t,["config"]);return n!=null&&HJ(n,e),e}function KJ(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function JJ(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&KJ(r,e),e}function YJ(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function XJ(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function QJ(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const s=f(t,["response"]);return s!=null&&p(e,["response"],eY(s)),e}function ZJ(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&XJ(i,e),e}function eY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function tY(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function nY(t){const e={},n=f(t,["config"]);return n!=null&&tY(n,e),e}function rY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["fileSearchStores"],o)}return e}function I2(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),p(e,["customMetadata"],a)}const s=f(t,["chunkingConfig"]);return e!==void 0&&s!=null&&p(e,["chunkingConfig"],s),n}function iY(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&I2(r,e),e}function oY(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sY="Content-Type",aY="X-Server-Timeout",lY="User-Agent",P_="x-goog-api-client",uY="1.40.0",cY=`google-genai-sdk/${uY}`,dY="v1beta1",fY="v1beta";class hY{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dY}else{if(!this.clientOptions.apiKey)throw new td({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:fY,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===E_.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&pY(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await lP(i),new T_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await lP(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Or(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield we(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const y=JSON.parse(d);if("error"in y){const w=JSON.parse(JSON.stringify(y.error)),v=w.status,b=w.code,x=`got status: ${v}. ${JSON.stringify(y)}`;if(b>=400&&b<600)throw new td({message:x,status:b})}}catch(y){if(y.name==="ApiError")throw y}s+=d;let h=-1,g=0;for(;;){h=-1,g=0;for(const v of l){const b=s.indexOf(v);b!==-1&&(h===-1||b<h)&&(h=b,g=v.length)}if(h===-1)break;const y=s.substring(0,h);s=s.substring(h+g);const w=y.trim();if(w.startsWith(a)){const v=w.substring(a.length).trim();try{const b=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield we(new T_(b))}catch(b){throw new Error(`exception parsing stream chunk ${v}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=cY+" "+this.clientOptions.userAgentExtra;return e[lY]=n,e[P_]=n,e[sY]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(aY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=se("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&I2(r,d);const h=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function lP(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new td({message:i,status:n}):new Error(i)}}function pY(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mY="mcp_used/unknown";let gY=!1;function C2(t){for(const e of t)if(yY(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gY}function P2(t){var e;const n=(e=t[P_])!==null&&e!==void 0?e:"";t[P_]=(n+` ${mY}`).trimStart()}function yY(t){return t!==null&&typeof t=="object"&&t instanceof fE}function vY(t){return Or(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield we(n.listTools({cursor:i}));for(const a of s.tools)yield yield we(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class fE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new fE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,kr(vY(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),WW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _Y(t,e,n){const r=new VW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class wY{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=EY(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,h=function(){u({})},g=this.apiClient,y={onopen:h,onmessage:S=>{_Y(g,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},w=this.webSocketFactory.create(l,xY(s),y);w.connect(),await c;const x={setup:{model:Fe(this.apiClient,e.model)}};return w.send(JSON.stringify(x)),new bY(w,this.apiClient)}}class bY{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=HK(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=qK(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(La.PLAY)}pause(){this.sendPlaybackControl(La.PAUSE)}stop(){this.sendPlaybackControl(La.STOP)}resetContext(){this.sendPlaybackControl(La.RESET_CONTEXT)}close(){this.conn.close()}}function xY(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function EY(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TY="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SY(t,e,n){const r=new FW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=JK(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class AY{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new wY(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&C2(e.config.tools)&&P2(d);const h=RY(d);if(this.apiClient.isVertexAI()){const R=this.apiClient.getProject(),O=this.apiClient.getLocation(),k=this.apiClient.getApiKey(),M=!!R&&!!O||!!k;this.apiClient.getCustomBaseUrl()&&!M?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const R=this.apiClient.getApiKey();let O="BidiGenerateContent",k="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",k="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${O}?${k}=${R}`}let g=()=>{};const y=new Promise(R=>{g=R}),w=e.callbacks,v=function(){var R;(R=w==null?void 0:w.onopen)===null||R===void 0||R.call(w),g({})},b=this.apiClient,x={onopen:v,onmessage:R=>{SY(b,w.onmessage,R)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(R){}},S=this.webSocketFactory.create(c,PY(h),x);S.connect(),await y;let P=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const R=this.apiClient.getProject(),O=this.apiClient.getLocation();R&&O&&(P=`projects/${R}/locations/${O}/`+P)}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sp.AUDIO]}:e.config.responseModalities=[Sp.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],T=[];for(const R of C)if(this.isCallableTool(R)){const O=R;T.push(await O.tool())}else T.push(R);T.length>0&&(e.config.tools=T);const I={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=GK(this.apiClient,I):E=zK(this.apiClient,I),delete E.config,S.send(JSON.stringify(E)),new CY(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const IY={turnComplete:!0};class CY{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=hr(n.turns),e.isVertexAI()||(r=r.map(i=>bg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(TY)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},IY),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:KK(e)}:n={realtimeInput:WK(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PY(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function RY(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uP=10;function cP(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Za(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Za(t){return"callTool"in t&&typeof t.callTool=="function"}function NY(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Za(i)))!==null&&r!==void 0?r:!1}function dP(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Za(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function fP(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OY extends Hi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!NY(n)||cP(n.config))return await this.generateContentInternal(l);const u=dP(n);if(u.length>0){const w=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=hr(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:uP;let y=0;for(;y<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,v=[];for(const b of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Za(b)){const S=await b.callTool(c.functionCalls);v.push(...S)}y++,d={role:"user",parts:v},l.contents=hr(l.contents),l.contents.push(w),l.contents.push(d),fP(l.config)&&(h.push(w),h.push(d))}return fP(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),cP(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=dP(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ta(Vi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Za(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&C2(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),P2(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Za(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:uP;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Or(this,arguments,function*(){for(var h,g,y,w,v,b;a<o;){s&&(a++,s=!1);const E=yield we(u.processParamsMaybeAddMcpUsage(d)),C=yield we(u.generateContentStreamInternal(E)),T=[],I=[];try{for(var x=!0,S=(g=void 0,kr(C)),P;P=yield we(S.next()),h=P.done,!h;x=!0){w=P.value,x=!1;const R=w;if(yield yield we(R),R.candidates&&(!((v=R.candidates[0])===null||v===void 0)&&v.content)){I.push(R.candidates[0].content);for(const O of(b=R.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(a<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(O.functionCall.name)){const k=yield we(c.get(O.functionCall.name).callTool([O.functionCall]));T.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(R){g={error:R}}finally{try{!x&&!h&&(y=S.return)&&(yield we(y.call(S)))}finally{if(g)throw g.error}}if(T.length>0){s=!0;const R=new Mu;R.candidates=[{content:{role:"user",parts:T}}],yield yield we(R);const O=[];O.push(...I),O.push({role:"user",parts:T});const k=hr(d.contents).concat(O);d.contents=k}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=oP(this.apiClient,e);return a=se("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=aP(c),h=new Mu;return Object.assign(h,d),h})}else{const u=iP(this.apiClient,e);return a=se("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=sP(c),h=new Mu;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=oP(this.apiClient,e);return a=se("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Or(this,arguments,function*(){var h,g,y,w;try{for(var v=!0,b=kr(d),x;x=yield we(b.next()),h=x.done,!h;v=!0){w=x.value,v=!1;const S=w,P=aP(yield we(S.json()),e);P.sdkHttpResponse={headers:S.headers};const E=new Mu;Object.assign(E,P),yield yield we(E)}}catch(S){g={error:S}}finally{try{!v&&!h&&(y=b.return)&&(yield we(y.call(b)))}finally{if(g)throw g.error}}})})}else{const u=iP(this.apiClient,e);return a=se("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return Or(this,arguments,function*(){var h,g,y,w;try{for(var v=!0,b=kr(d),x;x=yield we(b.next()),h=x.done,!h;v=!0){w=x.value,v=!1;const S=w,P=sP(yield we(S.json()),e);P.sdkHttpResponse={headers:S.headers};const E=new Mu;Object.assign(E,P),yield yield we(E)}}catch(S){g={error:S}}finally{try{!v&&!h&&(y=b.return)&&(yield we(y.call(b)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=A7(this.apiClient,e);return a=se("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=C7(c),h=new jC;return Object.assign(h,d),h})}else{const u=S7(this.apiClient,e);return a=se("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=I7(c),h=new jC;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=V7(this.apiClient,e);return a=se("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=j7(c),h=new BC;return Object.assign(h,d),h})}else{const u=F7(this.apiClient,e);return a=se("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=U7(c),h=new BC;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=b7(this.apiClient,e);return o=se("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=x7(l),c=new AW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=VJ(this.apiClient,e);return o=se("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=UJ(l),c=new IW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=wJ(this.apiClient,e);return o=se("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=bJ(l),c=new CW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=IJ(this.apiClient,e);return o=se("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=CJ(l),c=new PW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iJ(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>C_(c))}else{const u=rJ(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>I_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hJ(this.apiClient,e);return a=se("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=mJ(c),h=new zC;return Object.assign(h,d),h})}else{const u=fJ(this.apiClient,e);return a=se("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=pJ(c),h=new zC;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$J(this.apiClient,e);return a=se("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>C_(c))}else{const u=LJ(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>I_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=y7(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=_7(c),h=new GC;return Object.assign(h,d),h})}else{const u=g7(this.apiClient,e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=v7(c),h=new GC;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=h7(this.apiClient,e);return a=se("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=m7(c),h=new qC;return Object.assign(h,d),h})}else{const u=f7(this.apiClient,e);return a=se("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=p7(c),h=new qC;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=o7(this.apiClient,e);return o=se("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=s7(l),c=new RW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=W7(this.apiClient,e);return a=se("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=q7(c),h=new Ap;return Object.assign(h,d),h})}else{const u=H7(this.apiClient,e);return a=se("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=G7(c),h=new Ap;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kY extends Hi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wW(e);return a=se("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=_W(e);return a=se("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=fW(e);return o=se("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MY(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function DY(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>GY(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function LY(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const s=f(e,["uses"]);n!==void 0&&s!=null&&p(n,["uses"],s);const a=f(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&p(n,["bidiGenerateContentSetup"],zY(t,a));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function $Y(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],LY(t,r,n)),n}function FY(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function VY(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UY(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function jY(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function BY(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],dE(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],DY(mn(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let C=Yl(w);Array.isArray(C)&&(C=C.map(T=>HY(Jl(T)))),p(e,["setup","tools"],C)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],qY(v));const b=f(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","inputAudioTranscription"],b);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const P=f(t,["contextWindowCompression"]);e!==void 0&&P!=null&&p(e,["setup","contextWindowCompression"],P);const E=f(t,["proactivity"]);if(e!==void 0&&E!=null&&p(e,["setup","proactivity"],E),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function zY(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Fe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],BY(i,n)),n}function GY(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],FY(o));const s=f(t,["functionCall"]);s!=null&&p(e,["functionCall"],VY(s));const a=f(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],MY(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function qY(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HY(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],UY(s));const a=f(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],jY(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WY(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function KY(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=WY(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class JY extends Hi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=$Y(this.apiClient,e);o=se("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=KY(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YY(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function XY(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&YY(r,e),e}function QY(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function ZY(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function eX(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&ZY(r,e),e}function tX(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nX extends Hi{constructor(e){super(),this.apiClient=e,this.list=async n=>new ta(Vi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=QY(e);return o=se("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=XY(e);i=se("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eX(e);return o=se("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=tX(l),c=new NW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rX extends Hi{constructor(e,n=new nX(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ta(Vi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=WJ(e);return o=se("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=YJ(e);return o=se("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=JJ(e);i=se("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nY(e);return o=se("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=rY(l),c=new OW;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=iY(e);return o=se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=oY(l),c=new kW;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ZJ(e);return o=se("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=QJ(l),c=new sE;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return R2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const iX=()=>R2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const N_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr extends Error{}class Sn extends yr{constructor(e,n,r,i){super(`${Sn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Tg({message:r,cause:N_(n)});const o=n;return e===400?new O2(e,o,r,i):e===401?new k2(e,o,r,i):e===403?new M2(e,o,r,i):e===404?new D2(e,o,r,i):e===409?new L2(e,o,r,i):e===422?new $2(e,o,r,i):e===429?new F2(e,o,r,i):e>=500?new V2(e,o,r,i):new Sn(e,o,r,i)}}class O_ extends Sn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Tg extends Sn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class N2 extends Tg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class O2 extends Sn{}class k2 extends Sn{}class M2 extends Sn{}class D2 extends Sn{}class L2 extends Sn{}class $2 extends Sn{}class F2 extends Sn{}class V2 extends Sn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oX=/^[a-z][a-z0-9+.-]*:/i,sX=t=>oX.test(t);let k_=t=>(k_=Array.isArray,k_(t));const aX=k_;let lX=aX;const hP=lX;function uX(t){if(!t)return!0;for(const e in t)return!1;return!0}function cX(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const dX=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yr(`${t} must be an integer`);if(e<0)throw new yr(`${t} must be a positive integer`);return e},fX=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hX=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ba="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pX(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const mX=()=>{var t,e,n,r,i;const o=pX();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":mP(Deno.build.os),"X-Stainless-Arch":pP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":mP((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":pP((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=gX();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gX(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const pP=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mP=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Jf;const yX=()=>Jf??(Jf=mX());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vX(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function U2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function _X(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return U2({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function j2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wX(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bX=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function _v(t,e,n){return B2(),new File(t,e??"unknown_file",n)}function xX(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const EX=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",TX=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&z2(t),SX=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function AX(t,e,n){if(B2(),t=await t,TX(t))return t instanceof File?t:_v([await t.arrayBuffer()],t.name);if(SX(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),_v(await M_(i),e,n)}const r=await M_(t);if(e||(e=xX(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return _v(r,e,n)}async function M_(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(z2(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(EX(t))try{for(var a=!0,l=kr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await M_(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${IX(t)}`)}return s}function IX(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G2{constructor(e){this._client=e}}G2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const gP=Object.freeze(Object.create(null)),CX=(t=q2)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,h)=>{var g,y,w;/[?#]/.test(d)&&(i=!0);const v=r[h];let b=(i?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((w=Object.getPrototypeOf((y=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:gP))!==null&&y!==void 0?y:gP))===null||w===void 0?void 0:w.toString))&&(b=v+"",o.push({start:c.length+d.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":b)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,g)=>{const y=" ".repeat(g.start-c),w="^".repeat(g.length);return c=g.start+g.length,h+y+w},"");throw new yr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${d}`)}return s},Yf=CX(q2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H2 extends G2{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Cp(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new yr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new yr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Yf`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Yf`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Yf`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Cp(o,["api_version"]);return this._client.get(Yf`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}H2._key=Object.freeze(["interactions"]);class W2 extends H2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PX(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Xf;function hE(t){let e;return(Xf??(e=new globalThis.TextEncoder,Xf=e.encode.bind(e)))(t)}let Qf;function yP(t){let e;return(Qf??(e=new globalThis.TextDecoder,Qf=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sg{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?hE(e):e;this.buffer=PX([this.buffer,n]);const r=[];let i;for(;(i=RX(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(yP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=yP(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Sg.NEWLINE_CHARS=new Set([`
`,"\r"]);Sg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function RX(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function NX(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pp={off:0,error:200,warn:300,info:400,debug:500},vP=(t,e,n)=>{if(t){if(cX(Pp,t))return t;bn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Pp))}`)}};function rc(){}function Zf(t,e,n){return!e||Pp[t]>Pp[n]?rc:e[t].bind(e)}const OX={error:rc,warn:rc,info:rc,debug:rc};let _P=new WeakMap;function bn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return OX;const i=_P.get(n);if(i&&i[0]===r)return i[1];const o={error:Zf("error",n,r),warn:Zf("warn",n,r),info:Zf("info",n,r),debug:Zf("debug",n,r)};return _P.set(n,[r,o]),o}const ls=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $a{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?bn(r):console;function s(){return Or(this,arguments,function*(){var l,u,c,d;if(i)throw new yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,y=kr(kX(e,n)),w;w=yield we(y.next()),l=w.done,!l;g=!0){d=w.value,g=!1;const v=d;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield we(JSON.parse(v.data))}catch(b){throw o.error("Could not parse message into JSON:",v.data),o.error("From chunk:",v.raw),b}}}catch(v){u={error:v}}finally{try{!g&&!l&&(c=y.return)&&(yield we(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(R_(v))return yield we(void 0);throw v}finally{h||n.abort()}})}return new $a(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Or(this,arguments,function*(){var l,u,c,d;const h=new Sg,g=j2(e);try{for(var y=!0,w=kr(g),v;v=yield we(w.next()),l=v.done,!l;y=!0){d=v.value,y=!1;const b=d;for(const x of h.decode(b))yield yield we(x)}}catch(b){u={error:b}}finally{try{!y&&!l&&(c=w.return)&&(yield we(c.call(w)))}finally{if(u)throw u.error}}for(const b of h.flush())yield yield we(b)})}function s(){return Or(this,arguments,function*(){var l,u,c,d;if(i)throw new yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,y=kr(o()),w;w=yield we(y.next()),l=w.done,!l;g=!0){d=w.value,g=!1;const v=d;h||v&&(yield yield we(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!g&&!l&&(c=y.return)&&(yield we(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(R_(v))return yield we(void 0);throw v}finally{h||n.abort()}})}return new $a(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new $a(()=>i(e),this.controller,this.client),new $a(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return U2({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=hE(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function kX(t,e){return Or(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yr("Attempted to iterate over a response with no body");const a=new DX,l=new Sg,u=j2(t.body);try{for(var c=!0,d=kr(MX(u)),h;h=yield we(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const g=s;for(const y of l.decode(g)){const w=a.decode(y);w&&(yield yield we(w))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(o=d.return)&&(yield we(o.call(d)))}finally{if(i)throw i.error}}for(const g of l.flush()){const y=a.decode(g);y&&(yield yield we(y))}})}function MX(t){return Or(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=kr(t),u;u=yield we(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?hE(c):c;let h=new Uint8Array(s.length+d.length);h.set(s),h.set(d,s.length),s=h;let g;for(;(g=NX(s))!==-1;)yield yield we(s.slice(0,g)),s=s.slice(g)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield we(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield we(s))})}class DX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=LX(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function LX(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $X(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return bn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):$a.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return bn(t).debug(`[${r}] response parsed`,ls({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pE extends Promise{constructor(e,n,r=$X){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new pE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K2=Symbol("brand.privateNullableHeaders");function*FX(t){if(!t)return;if(K2 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hP(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=hP(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Du=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of FX(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[K2]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=sW)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var J2;class Ag{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=wv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=wv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=Cp(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Ag.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(s=(o=vP(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:vP(wv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:y,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:vX(),this.encoder=bX,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Du([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Du([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Du([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new yr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ba}`}defaultIdempotencyKey(){return`stainless-node-retry-${iX()}`}makeStatusError(e,n,r,i){return Sn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=sX(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return uX(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new pE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(bn(this).debug(`[${h}] sending request`,ls({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new O_;const w=new AbortController,v=await this.fetchWithTimeout(c,u,d,w).catch(N_),b=Date.now();if(v instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new O_;const P=R_(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return bn(this).info(`[${h}] connection ${P?"timed out":"failed"} - ${S}`),bn(this).debug(`[${h}] connection ${P?"timed out":"failed"} (${S})`,ls({retryOfRequestLogID:r,url:c,durationMs:b-y,message:v.message})),this.retryRequest(a,n,r??h);throw bn(this).info(`[${h}] connection ${P?"timed out":"failed"} - error; no more retries left`),bn(this).debug(`[${h}] connection ${P?"timed out":"failed"} (error; no more retries left)`,ls({retryOfRequestLogID:r,url:c,durationMs:b-y,message:v.message})),P?new N2:new Tg({cause:v})}const x=`[${h}${g}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${b-y}ms`;if(!v.ok){const S=await this.shouldRetry(v);if(n&&S){const R=`retrying, ${n} attempts remaining`;return await wX(v.body),bn(this).info(`${x} - ${R}`),bn(this).debug(`[${h}] response error (${R})`,ls({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:b-y})),this.retryRequest(a,n,r??h,v.headers)}const P=S?"error; no more retries left":"error; not retryable";bn(this).info(`${x} - ${P}`);const E=await v.text().catch(R=>N_(R).message),C=fX(E),T=C?void 0:E;throw bn(this).debug(`[${h}] response error (${P})`,ls({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:T,durationMs:Date.now()-y})),this.makeStatusError(v.status,C,T,v.headers)}return bn(this).info(x),bn(this).debug(`[${h}] response start`,ls({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:b-y})),{response:v,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Cp(o,["signal","method"]),u=i.abort.bind(i);s&&s.addEventListener("abort",u,{once:!0});const c=setTimeout(u,r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await hX(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&dX("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:s}),y=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:y},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Du([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),yX()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Du([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:_X(e)}:this.encoder({body:e,headers:r})}}Ag.DEFAULT_TIMEOUT=6e4;class Gt extends Ag{constructor(){super(...arguments),this.interactions=new W2(this)}}J2=Gt;Gt.GeminiNextGenAPIClient=J2;Gt.GeminiNextGenAPIClientError=yr;Gt.APIError=Sn;Gt.APIConnectionError=Tg;Gt.APIConnectionTimeoutError=N2;Gt.APIUserAbortError=O_;Gt.NotFoundError=D2;Gt.ConflictError=L2;Gt.RateLimitError=F2;Gt.BadRequestError=O2;Gt.AuthenticationError=k2;Gt.InternalServerError=V2;Gt.PermissionDeniedError=M2;Gt.UnprocessableEntityError=$2;Gt.toFile=AX;Gt.Interactions=W2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VX(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function UX(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function jX(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function BX(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function zX(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const s=f(t,["learningRateMultiplier"]);if(s!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const a=f(t,["batchSize"]);e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","batchSize"],a);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function GX(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const E=f(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec"],bv(E))}else if(i==="PREFERENCE_TUNING"){const E=f(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec"],bv(E))}else if(i==="DISTILLATION"){const E=f(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["distillationSpec"],bv(E))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const s=f(t,["description"]);e!==void 0&&s!=null&&p(e,["description"],s);let a=f(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=f(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(a==="PREFERENCE_TUNING"){const E=f(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}else if(a==="DISTILLATION"){const E=f(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["distillationSpec","hyperParameters","epochCount"],E)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const E=f(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(l==="PREFERENCE_TUNING"){const E=f(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}else if(l==="DISTILLATION"){const E=f(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["distillationSpec","hyperParameters","learningRateMultiplier"],E)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const E=f(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(u==="PREFERENCE_TUNING"){const E=f(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}else if(u==="DISTILLATION"){const E=f(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["distillationSpec","exportLastCheckpointOnly"],E)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const E=f(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(c==="PREFERENCE_TUNING"){const E=f(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}else if(c==="DISTILLATION"){const E=f(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["distillationSpec","hyperParameters","adapterSize"],E)}let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=f(t,["tuningMode"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","tuningMode"],E)}const h=f(t,["customBaseModel"]);e!==void 0&&h!=null&&p(e,["customBaseModel"],h);let g=f(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=f(t,["batchSize"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","batchSize"],E)}let y=f(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=f(t,["learningRate"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRate"],E)}const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const v=f(t,["beta"]);e!==void 0&&v!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],v);const b=f(t,["baseTeacherModel"]);e!==void 0&&b!=null&&p(e,["distillationSpec","baseTeacherModel"],b);const x=f(t,["tunedTeacherModelSource"]);e!==void 0&&x!=null&&p(e,["distillationSpec","tunedTeacherModelSource"],x);const S=f(t,["sftLossWeightMultiplier"]);e!==void 0&&S!=null&&p(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],S);const P=f(t,["outputUri"]);return e!==void 0&&P!=null&&p(e,["outputUri"],P),r}function qX(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&nQ(o);const s=f(t,["config"]);return s!=null&&zX(s,n),n}function HX(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&rQ(o,n,e);const s=f(t,["config"]);return s!=null&&GX(s,n,e),n}function WX(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function KX(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function JX(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function YX(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function XX(t,e){const n={},r=f(t,["config"]);return r!=null&&JX(r,n),n}function QX(t,e){const n={},r=f(t,["config"]);return r!=null&&YX(r,n),n}function ZX(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Y2(a))),p(n,["tuningJobs"],s)}return n}function eQ(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>D_(a))),p(n,["tuningJobs"],s)}return n}function tQ(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function nQ(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function rQ(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["distillationSpec","promptDatasetUri"],s)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(o==="DISTILLATION"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["distillationSpec","promptDatasetUri"],s)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Y2(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],f2(o));const s=f(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=f(t,["tuningTask","startTime"]);a!=null&&p(n,["startTime"],a);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],tQ(h)),n}function D_(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],f2(o));const s=f(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=f(t,["startTime"]);a!=null&&p(n,["startTime"],a);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const y=f(t,["preTunedModel"]);y!=null&&p(n,["preTunedModel"],y);const w=f(t,["supervisedTuningSpec"]);w!=null&&p(n,["supervisedTuningSpec"],w);const v=f(t,["preferenceOptimizationSpec"]);v!=null&&p(n,["preferenceOptimizationSpec"],v);const b=f(t,["distillationSpec"]);b!=null&&p(n,["distillationSpec"],b);const x=f(t,["tuningDataStats"]);x!=null&&p(n,["tuningDataStats"],x);const S=f(t,["encryptionSpec"]);S!=null&&p(n,["encryptionSpec"],S);const P=f(t,["partnerModelTuningSpec"]);P!=null&&p(n,["partnerModelTuningSpec"],P);const E=f(t,["customBaseModel"]);E!=null&&p(n,["customBaseModel"],E);const C=f(t,["experiment"]);C!=null&&p(n,["experiment"],C);const T=f(t,["labels"]);T!=null&&p(n,["labels"],T);const I=f(t,["outputUri"]);I!=null&&p(n,["outputUri"],I);const R=f(t,["pipelineJob"]);R!=null&&p(n,["pipelineJob"],R);const O=f(t,["serviceAccount"]);O!=null&&p(n,["serviceAccount"],O);const k=f(t,["tunedModelDisplayName"]);k!=null&&p(n,["tunedModelDisplayName"],k);const M=f(t,["veoTuningSpec"]);return M!=null&&p(n,["veoTuningSpec"],M),n}function iQ(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const s=f(t,["done"]);s!=null&&p(n,["done"],s);const a=f(t,["error"]);return a!=null&&p(n,["error"],a),n}function bv(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oQ extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ta(Vi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:x_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KX(e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>D_(c))}else{const u=WX(e);return a=se("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Y2(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=QX(e);return a=se("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=eQ(c),h=new HC;return Object.assign(h,d),h})}else{const u=XX(e);return a=se("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=ZX(c),h=new HC;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UX(e);return a=se("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=BX(c),h=new WC;return Object.assign(h,d),h})}else{const u=VX(e);return a=se("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=jX(c),h=new WC;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=HX(e,e);return o=se("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>D_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qX(e);return o=se("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>iQ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sQ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const aQ=1024*1024*8,lQ=3,uQ=1e3,cQ=2,Rp="x-goog-upload-status";async function dQ(t,e,n){var r;const i=await X2(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Rp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function fQ(t,e,n){var r;const i=await X2(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Rp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=s2(o),a=new aE;return Object.assign(a,s),a}async function X2(t,e,n){var r,i;let o=0,s=0,a=new T_(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(aQ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,h=uQ;for(;d<lQ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Rp]));)d++,await pQ(h),h=h*cQ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Rp])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function hQ(t){return{size:t.size,type:t.type}}function pQ(t){return new Promise(e=>setTimeout(e,t))}class mQ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dQ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hQ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gQ{create(e,n,r){return new yQ(e,n,r)}}class yQ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wP="x-goog-api-key";class vQ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(wP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _Q="gl-node/";class L_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=cW(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new vQ(this.apiKey);this.apiClient=new hY({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:_Q+"web",uploader:new mQ,downloader:new sQ}),this.models=new OY(this.apiClient),this.live=new AY(this.apiClient,i,new gQ),this.batches=new U8(this.apiClient),this.chats=new bK(this.models,this.apiClient),this.caches=new vK(this.apiClient),this.files=new kK(this.apiClient),this.operations=new kY(this.apiClient),this.authTokens=new JY(this.apiClient),this.tunings=new oQ(this.apiClient),this.fileSearchStores=new rX(this.apiClient)}}var $_={};const wQ={id:"protocol_abcd_hypertrophy",name:"Protocolo ABCD (Hipertrofia Clssica)",exercises:[{type:"header",id:"h_a",label:"Treino A (Peito e Costas)"},{type:"exercise",id:"p_abcd_1",exercise:"Supino Reto com Barra",target:"Peitoral",displayString:"4 x 8-12"},{type:"exercise",id:"p_abcd_2",exercise:"Barra Fixa",target:"Costas",displayString:"4 x Falha"},{type:"exercise",id:"p_abcd_3",exercise:"Supino Inclinado com Halteres",target:"Peitoral",displayString:"3 x 10-12"},{type:"exercise",id:"p_abcd_4",exercise:"Crucifixo Declinado",target:"Peitoral",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_5",exercise:"Pull Over com Halter",target:"Peitoral",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_6",exercise:"Remada Cavalinho",target:"Costas",displayString:"4 x 10"},{type:"exercise",id:"p_abcd_7",exercise:"Remada Curvada com Barra",target:"Costas",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_8",exercise:"Remada Unilateral (Serrote)",target:"Costas",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_9",exercise:"Pull Down",target:"Costas",displayString:"3 x 15"},{type:"header",id:"h_b",label:"Treino B (Bceps e Trceps)"},{type:"exercise",id:"p_abcd_10",exercise:"Rosca Direta com Barra",target:"Bceps",displayString:"4 x 10"},{type:"exercise",id:"p_abcd_11",exercise:"Trceps Testa com Barra",target:"Trceps",displayString:"4 x 10"},{type:"exercise",id:"p_abcd_12",exercise:"Rosca Alternada com Halteres",target:"Bceps",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_13",exercise:"Trceps Corda",target:"Trceps",displayString:"3 x 15"},{type:"exercise",id:"p_abcd_14",exercise:"Rosca Martelo",target:"Bceps",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_15",exercise:"Trceps Francs Unilateral",target:"Trceps",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_16",exercise:"Rosca 21",target:"Bceps",displayString:"2 Sries"},{type:"header",id:"h_c",label:"Treino C (Ombro, Trapzio, Abd)"},{type:"exercise",id:"p_abcd_17",exercise:"Desenvolvimento com Halteres",target:"Ombros",displayString:"4 x 10"},{type:"exercise",id:"p_abcd_18",exercise:"Elevao Lateral com Halteres",target:"Ombros",displayString:"4 x 12-15"},{type:"exercise",id:"p_abcd_19",exercise:"Elevao Frontal com Halteres",target:"Ombros",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_20",exercise:"Desenvolvimento Arnold",target:"Ombros",displayString:"3 x 10"},{type:"exercise",id:"p_abcd_21",exercise:"Encolhimento com Halteres",target:"Ombros",displayString:"4 x 15"},{type:"exercise",id:"p_abcd_22",exercise:"Remada Alta",target:"Ombros",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_23",exercise:"Abdominal Canivete",target:"Abdmen",displayString:"4 x 20"},{type:"exercise",id:"p_abcd_24",exercise:"Prancha Frontal",target:"Abdmen",displayString:"3 x Falha"},{type:"header",id:"h_d",label:"Treino D (Pernas Completas)"},{type:"exercise",id:"p_abcd_25",exercise:"Leg Press 45",target:"Pernas",displayString:"4 x 12"},{type:"exercise",id:"p_abcd_26",exercise:"Agachamento Livre com Barra",target:"Pernas",displayString:"4 x 10"},{type:"exercise",id:"p_abcd_27",exercise:"Cadeira Extensora",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"p_abcd_28",exercise:"Mesa Flexora",target:"Pernas",displayString:"4 x 12"},{type:"exercise",id:"p_abcd_29",exercise:"Avano (Passada)",target:"Pernas",displayString:"3 x 20 passos"},{type:"exercise",id:"p_abcd_30",exercise:"Stiff no Smith",target:"Pernas",displayString:"3 x 12"},{type:"exercise",id:"p_abcd_31",exercise:"Cadeira Adutora",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"p_abcd_32",exercise:"Panturrilha em P",target:"Pernas",displayString:"4 x 20"},{type:"exercise",id:"p_abcd_33",exercise:"Elevao de Gmeos (Sentado)",target:"Pernas",displayString:"4 x 15"}]},bQ={id:"protocol_upper_lower",name:"Protocolo Upper / Lower (Fora e Base)",exercises:[{type:"header",id:"h_ul_1",label:"Upper A (Fora/Base)"},{type:"exercise",id:"ul_1",exercise:"Remada Curvada com Barra",target:"Costas",displayString:"4 x 6-8",notes:"Pegada Pronada"},{type:"exercise",id:"ul_2",exercise:"Remada Cavalinho Mquina",target:"Costas",displayString:"3 x 10"},{type:"exercise",id:"ul_3",exercise:"Supino Reto com Barra",target:"Peitoral",displayString:"4 x 6-8"},{type:"exercise",id:"ul_4",exercise:"Crucifixo Inclinado com Halteres",target:"Peitoral",displayString:"3 x 10"},{type:"exercise",id:"ul_5",exercise:"Desenvolvimento no Smith",target:"Ombros",displayString:"3 x 8-10"},{type:"exercise",id:"ul_6",exercise:"Elevao Lateral com Halteres",target:"Ombros",displayString:"3 x 12",notes:"Bi-set com Desenvolvimento"},{type:"exercise",id:"ul_7",exercise:"Remada Alta com Barra",target:"Ombros",displayString:"3 x 12"},{type:"header",id:"h_ul_2",label:"Lower A (Quadrceps/Geral)"},{type:"exercise",id:"ul_8",exercise:"Hack Machine",target:"Pernas",displayString:"4 x 8-10"},{type:"exercise",id:"ul_9",exercise:"Cadeira Extensora",target:"Pernas",displayString:"3 x 12-15"},{type:"exercise",id:"ul_10",exercise:"Mesa Flexora",target:"Pernas",displayString:"4 x 12"},{type:"exercise",id:"ul_11",exercise:"Stiff com Barra",target:"Pernas",displayString:"3 x 10"},{type:"exercise",id:"ul_12",exercise:"Panturrilha Sentado",target:"Pernas",displayString:"4 x 15"},{type:"exercise",id:"ul_13",exercise:"Rosca Direta com Barra",target:"Bceps",displayString:"3 x 10"},{type:"exercise",id:"ul_14",exercise:"Trceps Corda",target:"Trceps",displayString:"3 x 10"},{type:"header",id:"h_ul_3",label:"Upper B (Hipertrofia/Mquinas)"},{type:"exercise",id:"ul_15",exercise:"Remada Articulada (Pegada Neutra)",target:"Costas",displayString:"4 x 10"},{type:"exercise",id:"ul_16",exercise:"Pulldown Unilateral",target:"Costas",displayString:"3 x 12"},{type:"exercise",id:"ul_17",exercise:"Supino Inclinado Hammer",target:"Peitoral",displayString:"4 x 10"},{type:"exercise",id:"ul_18",exercise:"Crucifixo na Mquina (Peck Deck)",target:"Peitoral",displayString:"3 x 15"},{type:"exercise",id:"ul_19",exercise:"Encolhimento no Smith",target:"Ombros",displayString:"4 x 15"},{type:"exercise",id:"ul_20",exercise:"Crucifixo Inverso com Halteres",target:"Costas",displayString:"3 x 15"},{type:"header",id:"h_ul_4",label:"Lower B (Posterior/Glteo)"},{type:"exercise",id:"ul_21",exercise:"Levantamento Terra Convencional",target:"Pernas",displayString:"3 x 6-8"},{type:"exercise",id:"ul_22",exercise:"Cadeira Flexora",target:"Pernas",displayString:"4 x 12"},{type:"exercise",id:"ul_23",exercise:"Cadeira Extensora",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"ul_24",exercise:"Leg Press 45",target:"Pernas",displayString:"4 x 10"},{type:"exercise",id:"ul_25",exercise:"Panturrilha Sentado",target:"Pernas",displayString:"4 x 15"},{type:"exercise",id:"ul_26",exercise:"Rosca Alternada com Halteres",target:"Bceps",displayString:"3 x 12"},{type:"exercise",id:"ul_27",exercise:"Trceps Testa com Halteres",target:"Trceps",displayString:"3 x 12"}]},xQ={id:"protocol_female_glute",name:"Protocolo Feminino (Foco Glteos 3x)",exercises:[{type:"header",id:"h_f_1",label:"Segunda (Quadrceps e Glteos)"},{type:"exercise",id:"f_1",exercise:"Hack Machine",target:"Pernas",displayString:"4 x 10"},{type:"exercise",id:"f_2",exercise:"Cadeira Extensora",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"f_3",exercise:"Afundo no Smith",target:"Pernas",displayString:"3 x 12 (cada)"},{type:"exercise",id:"f_4",exercise:"Elevao Plvica com Barra",target:"Pernas",displayString:"4 x 10-12",notes:"Pico de contrao 2s"},{type:"exercise",id:"f_5",exercise:"Glteo Coice na Polia",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"f_6",exercise:"Cadeira Abdutora",target:"Pernas",displayString:"3 x 20"},{type:"exercise",id:"f_7",exercise:"Panturrilha Sentado",target:"Pernas",displayString:"4 x 15"},{type:"header",id:"h_f_2",label:"Tera (Dorsais e Panturrilhas)"},{type:"exercise",id:"f_8",exercise:"Puxada Aberta Pronada",target:"Costas",displayString:"4 x 12"},{type:"exercise",id:"f_9",exercise:"Remada Unilateral (Serrote)",target:"Costas",displayString:"3 x 12"},{type:"exercise",id:"f_10",exercise:"Remada Articulada (Pegada Pronada)",target:"Costas",displayString:"3 x 12"},{type:"exercise",id:"f_11",exercise:"Encolhimento com Halteres",target:"Ombros",displayString:"3 x 15"},{type:"exercise",id:"f_12",exercise:"Rosca Direta com Barra",target:"Bceps",displayString:"3 x 12"},{type:"exercise",id:"f_13",exercise:"Rosca Alternada com Halteres",target:"Bceps",displayString:"3 x 12"},{type:"header",id:"h_f_3",label:"Quarta (Glteos e Posteriores)"},{type:"exercise",id:"f_14",exercise:"Stiff com Barra",target:"Pernas",displayString:"4 x 10"},{type:"exercise",id:"f_15",exercise:"Mesa Flexora",target:"Pernas",displayString:"4 x 12"},{type:"exercise",id:"f_16",exercise:"Cadeira Flexora",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"f_17",exercise:"Elevao Plvica na Mquina",target:"Pernas",displayString:"4 x 12"},{type:"exercise",id:"f_18",exercise:"Extenso de Quadril",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"f_19",exercise:"Abduo de Quadril na Polia",target:"Pernas",displayString:"3 x 15"},{type:"header",id:"h_f_4",label:"Quinta (Ombros e Braos)"},{type:"exercise",id:"f_20",exercise:"Desenvolvimento com Halteres",target:"Ombros",displayString:"4 x 10"},{type:"exercise",id:"f_21",exercise:"Elevao Lateral com Halteres",target:"Ombros",displayString:"4 x 12"},{type:"exercise",id:"f_22",exercise:"Supino Reto na Mquina",target:"Peitoral",displayString:"3 x 12"},{type:"exercise",id:"f_23",exercise:"Trceps Corda",target:"Trceps",displayString:"3 x 12"},{type:"exercise",id:"f_24",exercise:"Trceps Testa com Halteres",target:"Trceps",displayString:"3 x 12"},{type:"exercise",id:"f_25",exercise:"Rosca Direta na Polia",target:"Bceps",displayString:"3 x 12"},{type:"header",id:"h_f_5",label:"Sbado (Inferiores Completo)"},{type:"exercise",id:"f_26",exercise:"Levantamento Terra Sum",target:"Pernas",displayString:"4 x 8"},{type:"exercise",id:"f_27",exercise:"Glteo Coice na Polia",target:"Pernas",displayString:"3 x 12"},{type:"exercise",id:"f_28",exercise:"Agachamento Blgaro",target:"Pernas",displayString:"3 x 10 (cada)"},{type:"exercise",id:"f_29",exercise:"Cadeira Extensora",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"f_30",exercise:"Mesa Flexora",target:"Pernas",displayString:"3 x 12"},{type:"exercise",id:"f_31",exercise:"Cadeira Flexora",target:"Pernas",displayString:"3 x 15"}]},EQ={id:"protocol_functional",name:"Treino Funcional Metablico (50 Treinos)",exercises:[{type:"header",id:"h_fun_1",label:"Cardio e Agilidade"},{type:"exercise",id:"fun_1",exercise:"Corrida Suicdio",target:"Cardio",displayString:"3 x 1 min"},{type:"exercise",id:"fun_2",exercise:"Deslocamento Lateral",target:"Cardio",displayString:"3 x 45s"},{type:"exercise",id:"fun_3",exercise:"Escalada (Mountain Climber)",target:"Cardio",displayString:"3 x 40s"},{type:"exercise",id:"fun_4",exercise:"Polichinelo Frontal",target:"Cardio",displayString:"3 x 1 min"},{type:"exercise",id:"fun_5",exercise:"Zigue-Zague entre Cones",target:"Cardio",displayString:"3 voltas"},{type:"exercise",id:"fun_6",exercise:"Corda Naval",target:"Cardio",displayString:"3 x 30s"},{type:"exercise",id:"fun_7",exercise:"Skipping Alto",target:"Cardio",displayString:"3 x 30s"},{type:"header",id:"h_fun_2",label:"Pliometria e Potncia"},{type:"exercise",id:"fun_8",exercise:"Salto Vertical caindo no Step",target:"Cardio",displayString:"3 x 10"},{type:"exercise",id:"fun_9",exercise:"Burpee",target:"Cardio",displayString:"3 x 10"},{type:"exercise",id:"fun_10",exercise:"Agachamento com Salto (Jump Squat)",target:"Pernas",displayString:"3 x 15"},{type:"exercise",id:"fun_11",exercise:"Tiro Exploso (Sprint curto)",target:"Cardio",displayString:"5 x 20m"},{type:"exercise",id:"fun_12",exercise:"Sobe/Desce no Step (Rpido)",target:"Cardio",displayString:"3 x 1 min"},{type:"header",id:"h_fun_3",label:"Fora Funcional e Core"},{type:"exercise",id:"fun_13",exercise:"Flexo de Brao",target:"Peitoral",displayString:"3 x Falha"},{type:"exercise",id:"fun_14",exercise:"Prancha Frontal",target:"Abdmen",displayString:"3 x 45s"},{type:"exercise",id:"fun_15",exercise:"Prancha Lateral",target:"Abdmen",displayString:"3 x 30s (lado)"},{type:"exercise",id:"fun_16",exercise:"Abdominal Remador",target:"Abdmen",displayString:"3 x 20"},{type:"exercise",id:"fun_17",exercise:"Abdominal Infra (Solo)",target:"Abdmen",displayString:"3 x 15"},{type:"exercise",id:"fun_18",exercise:"Meio Burpee (Sprawl)",target:"Cardio",displayString:"3 x 12"}]},TQ={id:"protocol_mobility",name:"Protocolo Mobilidade e Estabilidade (Joint-by-Joint)",exercises:[{type:"header",id:"h_mob_1",label:"Lombar e Core"},{type:"exercise",id:"mob_1",exercise:"Ponte Isomtrica + Anti-rotao",target:"Abdmen",displayString:"3 x 30s"},{type:"exercise",id:"mob_2",exercise:"Prancha Frontal",target:"Abdmen",displayString:"3 x 45s"},{type:"exercise",id:"mob_3",exercise:"Anti-rotao Ajoelhado (Pallof Press)",target:"Abdmen",displayString:"3 x 12 (lado)"},{type:"exercise",id:"mob_4",exercise:"Prancha Lateral",target:"Abdmen",displayString:"3 x 30s"},{type:"header",id:"h_mob_2",label:"Quadril"},{type:"exercise",id:"mob_5",exercise:"Banco com Rotao",target:"Mobilidade",displayString:"2 x 10"},{type:"exercise",id:"mob_6",exercise:"Glteo Deitado (Piriforme)",target:"Mobilidade",displayString:"30s cada"},{type:"exercise",id:"mob_7",exercise:"Quadril Cho (Posio 90/90)",target:"Mobilidade",displayString:"1 min trocando"},{type:"exercise",id:"mob_8",exercise:"Anti e Retroverso Plvica com Super Band",target:"Mobilidade",displayString:"2 x 15"},{type:"header",id:"h_mob_3",label:"Joelhos e Ps"},{type:"exercise",id:"mob_9",exercise:"P Garra (Short Foot)",target:"Mobilidade",displayString:"3 x 10s isometria"},{type:"exercise",id:"mob_10",exercise:"Agachamento Isomtrico com Duas Borrachas",target:"Pernas",displayString:"3 x 30s"},{type:"exercise",id:"mob_11",exercise:"Aviozinho Alternando (Stiff Unilateral s/ peso)",target:"Pernas",displayString:"2 x 10 (lado)"},{type:"exercise",id:"mob_12",exercise:"Abduo com Mini Band (P na parede)",target:"Pernas",displayString:"2 x 15"},{type:"header",id:"h_mob_4",label:"Ombros e Torcica"},{type:"exercise",id:"mob_13",exercise:"Apoio Escapular (Push-up Plus)",target:"Peitoral",displayString:"2 x 15"},{type:"exercise",id:"mob_14",exercise:"Rotao Interna em Decbito Lateral (Sleeper Stretch)",target:"Mobilidade",displayString:"30s cada"},{type:"exercise",id:"mob_15",exercise:"Gato-Camelo",target:"Mobilidade",displayString:"10 reps"},{type:"exercise",id:"mob_16",exercise:"Mobilidade Torcica (Livro Aberto)",target:"Mobilidade",displayString:"10 reps cada"}]},SQ={id:"preset_strength_runners",name:"Fortalecimento para Corredores",exercises:[{type:"header",id:"h_run_1",label:"Aquecimento / Mobilidade"},{type:"exercise",id:"run_1",exercise:"Mobilidade de Tornozelo",target:"Mobilidade",displayString:"2 x 10 cada"},{type:"exercise",id:"run_2",exercise:"Ponte Unilateral",target:"Pernas",displayString:"3 x 12 cada"},{type:"exercise",id:"run_3",exercise:"Ostra (Clam Shell)",target:"Pernas",displayString:"3 x 15 cada"},{type:"header",id:"h_run_2",label:"Fora Principal"},{type:"exercise",id:"run_4",exercise:"Agachamento Unilateral (Blgaro)",target:"Pernas",displayString:"3 x 10 cada"},{type:"exercise",id:"run_5",exercise:"Stiff Unilateral",target:"Pernas",displayString:"3 x 10 cada"},{type:"exercise",id:"run_6",exercise:"Panturrilha Unilateral em P",target:"Pernas",displayString:"3 x 15 cada"},{type:"exercise",id:"run_7",exercise:"Prancha Frontal",target:"Abdmen",displayString:"3 x 45s"}]},bP=[SQ,wQ,bQ,xQ,EQ,TQ];function AQ({user:t,onLogout:e}){var E;const[n,r]=$.useState("overview"),[i,o]=$.useState([]),[s,a]=$.useState([]),[l,u]=$.useState([]),[c,d]=$.useState(!0),[h,g]=$.useState(null),[y,w]=$.useState(!0),[v,b]=$.useState(null);$.useEffect(()=>{d(!0);let C=!0;const T=hs(Bt(Ne,"users"),Y9("workoutType","not-in",["admin","trainer"])),I=fs(T,O=>{if(!C)return;const k=[];O.forEach(M=>{k.push({uid:M.id,...M.data()})}),o(k)},O=>console.error("Error fetching students:",O));return(async()=>{try{const O=Bt(Ne,"exercises"),M=(await _s(hs(O,Da("name","asc")))).docs.map(K=>K.data()),D=Bt(Ne,"trainingTechniques"),z=(await _s(hs(D,Da("name","asc")))).docs.map(K=>K.data());C&&(a(M),u(z))}catch(O){console.error("Error fetching data:",O)}finally{C&&d(!1)}})(),()=>{C=!1,I()}},[]),$.useEffect(()=>{if(h){const C=setTimeout(()=>g(null),3e3);return()=>clearTimeout(C)}},[h]);const x=async C=>{try{if(C==="exercises"){const T=await _s(hs(Bt(Ne,"exercises"),Da("name","asc")));a(T.docs.map(I=>I.data())),g("Lista de exerccios atualizada.")}else if(C==="techniques"){const T=await _s(hs(Bt(Ne,"trainingTechniques"),Da("name","asc")));u(T.docs.map(I=>I.data())),g("Lista de tcnicas atualizada.")}}catch(T){console.error(`Error refetching ${C}:`,T),g(`Erro ao atualizar lista de ${C}.`)}},S=(C,T,I)=>{b({studentId:C,workoutId:T,items:I}),r("workouts")},P={bg:y?"bg-zinc-950":"bg-gray-50",text:y?"text-white":"text-zinc-900",textSec:y?"text-zinc-400":"text-zinc-500",border:y?"border-zinc-800":"border-gray-200",sidebar:y?"bg-zinc-900 border-r border-zinc-800":"bg-white border-r border-gray-200"};return _.jsxs("div",{className:`flex flex-col md:flex-row min-h-screen transition-colors duration-300 ${P.bg} ${P.text}`,children:[h&&_.jsxs("div",{className:"fixed top-6 right-6 z-[100] bg-zinc-800 border border-emerald-500/50 rounded-lg shadow-2xl p-4 max-w-sm animate-slide-up flex gap-3 items-center",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center justify-center shrink-0",children:_.jsx("i",{className:"ph-fill ph-check-circle text-xl"})}),_.jsx("p",{className:"text-white text-sm font-medium",children:h})]}),_.jsxs("aside",{className:`w-full md:w-64 ${P.sidebar} p-6 flex flex-col`,children:[_.jsx("div",{className:"mb-8",children:_.jsxs("h2",{className:"text-2xl font-bold",children:["Fit",_.jsx("span",{className:"text-emerald-500",children:"Manager"})]})}),_.jsxs("nav",{className:"flex-1 space-y-2",children:[_.jsx(rs,{darkMode:y,icon:"squares-four",label:"Viso Geral",active:n==="overview",onClick:()=>r("overview")}),_.jsx(rs,{darkMode:y,icon:"user-gear",label:"Gerenciar Alunos",active:n==="manage",onClick:()=>r("manage")}),_.jsx(rs,{darkMode:y,icon:"barbell",label:"Criar Treinos",active:n==="workouts",onClick:()=>r("workouts")}),_.jsx(rs,{darkMode:y,icon:"person-simple-run",label:"Planos de Corrida",active:n==="running",onClick:()=>r("running")}),_.jsx(rs,{darkMode:y,icon:"ruler",label:"Avaliao Fsica",active:n==="assessment",onClick:()=>r("assessment")}),_.jsx(rs,{darkMode:y,icon:"atom",label:"Tcnicas de Treino",active:n==="techniques",onClick:()=>r("techniques")}),_.jsx(rs,{darkMode:y,icon:"gear",label:"Configuraes",active:n==="settings",onClick:()=>r("settings")})]}),_.jsxs("div",{className:`mt-auto pt-6 border-t ${P.border}`,children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("img",{src:t.avatar,className:"w-10 h-10 rounded-full border border-emerald-500",alt:"Admin"}),_.jsxs("div",{className:"text-sm",children:[_.jsx("div",{className:"font-semibold",children:((E=t.name)==null?void 0:E.split(" ")[0])||t.email}),_.jsx("div",{className:`${P.textSec} text-xs capitalize`,children:t.workoutType})]})]}),_.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-red-400 hover:text-red-300 transition-colors w-full p-2 rounded-lg hover:bg-red-400/10",children:[_.jsx("i",{className:"ph ph-sign-out text-lg"})," Sair"]})]})]}),_.jsxs("main",{className:"flex-1 p-6 md:p-10 overflow-y-auto",children:[_.jsx("header",{className:"flex justify-between items-center mb-8",children:_.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:[n==="overview"&&"Painel de Controle",n==="manage"&&"Gerenciamento de Alunos",n==="workouts"&&"Construtor de Treinos",n==="running"&&"Construtor de Planilhas de Corrida",n==="assessment"&&"Avaliao Fsica",n==="techniques"&&"Metodologias de Treino",n==="settings"&&"Configuraes do Sistema"]})}),c?_.jsx("div",{className:"text-emerald-500",children:"Carregando dados..."}):_.jsxs(_.Fragment,{children:[n==="overview"&&_.jsx(IQ,{user:t,students:i,darkMode:y}),n==="manage"&&_.jsx(NQ,{students:i,setNotification:g,onEditWorkout:S,darkMode:y}),n==="workouts"&&_.jsx(RQ,{students:i,allExercises:s,adminUid:t.uid,setNotification:g,onRefreshExercises:()=>x("exercises"),workoutToEdit:v,clearWorkoutToEdit:()=>b(null),darkMode:y}),n==="running"&&_.jsx(kQ,{students:i,setNotification:g,darkMode:y}),n==="assessment"&&_.jsx(OQ,{students:i,setNotification:g,darkMode:y}),n==="techniques"&&_.jsx(PQ,{techniques:l,darkMode:y}),n==="settings"&&_.jsx(CQ,{user:t,darkMode:y,setDarkMode:w,setNotification:g,onDataUpdated:x})]})]})]})}const rs=({icon:t,label:e,active:n,onClick:r,darkMode:i})=>_.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${n?"bg-emerald-500/10 text-emerald-500":`${i?"text-zinc-400 hover:bg-zinc-800 hover:text-white":"text-zinc-500 hover:bg-gray-100 hover:text-zinc-900"}`}`,children:[_.jsx("i",{className:`ph ph-${t} text-xl`}),_.jsx("span",{className:"font-medium",children:e})]}),IQ=({user:t,students:e,darkMode:n})=>{const[r,i]=$.useState(0);$.useEffect(()=>{(async()=>{try{const l=await _s(J9(Ne,"history"));i(l.size)}catch(l){console.error("Error fetching stats:",l)}})()},[]);const o=n?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm",s=n?"text-zinc-400":"text-zinc-500";return _.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsx(xv,{icon:"users",label:"Total de Alunos",value:e.length,darkMode:n}),_.jsx(xv,{icon:"barbell",label:"Alunos Ativos",value:e.filter(a=>a.workoutType!=="iniciante"||a.hasCompletedAnamnesis).length,darkMode:n}),_.jsx(xv,{icon:"chart-line",label:"Treinos Realizados",value:r,darkMode:n})]}),_.jsxs("div",{className:`${o} border rounded-xl overflow-hidden`,children:[_.jsx("div",{className:`p-6 border-b ${n?"border-zinc-800":"border-gray-200"}`,children:_.jsx("h3",{className:"font-bold text-lg",children:"Base de Alunos Recente"})}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:`${n?"bg-zinc-950/50":"bg-gray-50"} ${s} text-sm uppercase`,children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 font-medium",children:"Aluno"}),_.jsx("th",{className:"p-4 font-medium",children:"Email"}),_.jsx("th",{className:"p-4 font-medium",children:"Status"})]})}),_.jsx("tbody",{className:`divide-y ${n?"divide-zinc-800":"divide-gray-200"}`,children:e.slice(0,5).map(a=>_.jsxs("tr",{className:`${n?"hover:bg-zinc-800/50":"hover:bg-gray-50"} transition-colors`,children:[_.jsxs("td",{className:"p-4 flex items-center gap-3",children:[_.jsx("img",{src:a.avatar,className:"w-8 h-8 rounded-full",alt:""}),_.jsx("span",{className:"font-medium",children:a.name})]}),_.jsx("td",{className:`p-4 ${s}`,children:a.email}),_.jsx("td",{className:"p-4",children:a.hasCompletedAnamnesis?_.jsx("span",{className:"bg-emerald-500/10 text-emerald-500 text-xs px-2 py-1 rounded-full",children:"Ativo"}):_.jsx("span",{className:"bg-yellow-500/10 text-yellow-500 text-xs px-2 py-1 rounded-full",children:"Pendente"})})]},a.uid))})]})})]})]})},CQ=({user:t,darkMode:e,setDarkMode:n,setNotification:r,onDataUpdated:i})=>{const[o,s]=$.useState(!1),[a,l]=$.useState([]),[u,c]=$.useState({current:0,total:0}),[d,h]=$.useState(t.name),[g,y]=$.useState(t.avatar||""),[w,v]=$.useState(!1),b=async()=>{v(!0);try{await wg(pn(Ne,"users",t.uid),{name:d,avatar:g}),r("Perfil atualizado com sucesso!")}catch(T){console.error(T),r("Erro ao atualizar perfil.")}finally{v(!1)}},x=T=>{l(I=>[T,...I])},S=async()=>{l([]),x("--- INICIANDO DIAGNSTICO ---"),x(`Usurio Autenticado: ${t.email} (${t.uid})`);try{x("Tentando escrever documento de teste...");const T=pn(Ne,"_diagnostics","connectivity_check");await Cs(T,{timestamp:new Date().toISOString(),status:"ok"},{}),x("SUCESSO: Escrita bsica funcionou. Conexo OK."),await iE(T)}catch(T){x(`ERRO DE ESCRITA: ${T.code} - ${T.message}`);return}x("--- FIM DO DIAGNSTICO ---")},P=async T=>{x(`[UI] Acionado boto para popular ${T}...`);try{const I=T==="exercises"?nW:T==="techniques"?rW:w_,R=T==="exercises"?"exercises":T==="techniques"?"trainingTechniques":"runningPlanTemplates";s(T),c({current:0,total:I.length});let O=0;for(let k=0;k<I.length;k++){const M=I[k],D=JSON.parse(JSON.stringify(M));await Cs(pn(Ne,R,M.id),D,{}),O++,c({current:O,total:I.length}),k%10===0&&await new Promise(j=>setTimeout(j,10))}x(`CONCLUDO: ${O} salvos.`),r(`${O} de ${I.length} importados.`),i(T)}catch(I){x(`ERRO GERAL NO SEED: ${I.message}`)}finally{s(!1),c({current:0,total:0})}},E=e?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm",C=e?"bg-zinc-800 border-zinc-700 text-white":"bg-gray-100 border-gray-300 text-gray-900";return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:`${E} border rounded-xl p-6`,children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Aparncia"}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{children:"Modo Escuro"}),_.jsx("button",{onClick:()=>n(!e),className:`w-14 h-8 rounded-full p-1 transition-colors ${e?"bg-emerald-600":"bg-gray-300"}`,children:_.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform ${e?"translate-x-6":"translate-x-0"}`})})]})]}),_.jsxs("div",{className:`${E} border rounded-xl p-6`,children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Perfil do Treinador"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium opacity-70 mb-1",children:"Nome de Exibio"}),_.jsx("input",{value:d,onChange:T=>h(T.target.value),className:`w-full ${C} rounded-lg p-2 text-sm outline-none`})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium opacity-70 mb-1",children:"URL do Avatar"}),_.jsx("input",{value:g,onChange:T=>y(T.target.value),className:`w-full ${C} rounded-lg p-2 text-sm outline-none`})]}),_.jsx("button",{onClick:b,disabled:w,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg text-sm disabled:opacity-50",children:w?"Salvando...":"Atualizar Perfil"})]})]})]}),t.workoutType==="admin"&&_.jsxs("div",{className:`${E} border rounded-xl p-6 relative overflow-hidden`,children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Ferramentas de Banco de Dados"}),_.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[_.jsxs("button",{onClick:()=>P("exercises"),disabled:!!o,className:"bg-zinc-800 hover:bg-zinc-700 text-white font-medium py-3 px-5 rounded-lg border border-zinc-700 disabled:opacity-50 transition-all active:scale-95",children:[o==="exercises"?_.jsx("i",{className:"ph ph-spinner animate-spin"}):_.jsx("i",{className:"ph ph-barbell"})," Popular Exerccios"]}),_.jsxs("button",{onClick:()=>P("techniques"),disabled:!!o,className:"bg-zinc-800 hover:bg-zinc-700 text-white font-medium py-3 px-5 rounded-lg border border-zinc-700 disabled:opacity-50 transition-all active:scale-95",children:[o==="techniques"?_.jsx("i",{className:"ph ph-spinner animate-spin"}):_.jsx("i",{className:"ph ph-atom"})," Popular Tcnicas"]}),_.jsxs("button",{onClick:()=>P("runningPlans"),disabled:!!o,className:"bg-zinc-800 hover:bg-zinc-700 text-white font-medium py-3 px-5 rounded-lg border border-zinc-700 disabled:opacity-50 transition-all active:scale-95",children:[o==="runningPlans"?_.jsx("i",{className:"ph ph-spinner animate-spin"}):_.jsx("i",{className:"ph ph-person-simple-run"})," Popular Planos Corrida"]}),_.jsxs("button",{onClick:S,className:"bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-500 font-medium py-3 px-5 rounded-lg border border-yellow-600/50 flex items-center gap-2 ml-auto",children:[_.jsx("i",{className:"ph ph-warning"})," RODAR DIAGNSTICO"]})]}),_.jsxs("div",{className:"bg-black rounded-lg p-4 font-mono text-xs text-zinc-400 h-64 overflow-y-auto border border-zinc-800 shadow-inner",children:[_.jsx("div",{className:"text-zinc-500 mb-2 border-b border-zinc-800 pb-1",children:"SYSTEM LOG"}),a.length===0&&_.jsx("span",{className:"opacity-50",children:"Aguardando ao..."}),a.map((T,I)=>_.jsx("div",{className:`mb-1 ${T.includes("ERRO")?"text-red-400 font-bold":T.includes("SUCESSO")?"text-emerald-400":""}`,children:`> ${T}`},I))]}),o&&_.jsxs("div",{className:"mt-4",children:[_.jsxs("div",{className:"flex justify-between text-xs text-emerald-500 mb-1 font-bold uppercase",children:[_.jsx("span",{children:"Progresso"}),_.jsxs("span",{children:[Math.round(u.current/u.total*100),"%"]})]}),_.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-1",children:_.jsx("div",{className:"bg-emerald-500 h-1 rounded-full transition-all duration-300",style:{width:`${u.current/u.total*100}%`}})})]})]})]})},xv=({icon:t,label:e,value:n,darkMode:r})=>_.jsxs("div",{className:`${r?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm"} border p-6 rounded-xl flex items-center gap-4`,children:[_.jsx("div",{className:"w-12 h-12 bg-emerald-500/10 rounded-lg flex items-center justify-center text-emerald-500 text-2xl",children:_.jsx("i",{className:`ph ph-${t}`})}),_.jsxs("div",{children:[_.jsx("div",{className:`${r?"text-zinc-500":"text-zinc-400"} text-sm`,children:e}),_.jsx("div",{className:`text-2xl font-bold ${r?"text-white":"text-zinc-900"}`,children:n})]})]}),PQ=({techniques:t,darkMode:e})=>_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.length===0&&_.jsx("p",{className:"opacity-50 col-span-full",children:"Nenhuma tcnica de treino encontrada. V em Configuraes para popular o banco."}),t.map(n=>_.jsxs("div",{className:`${e?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm"} border rounded-xl p-6 animate-fade-in`,children:[_.jsx("h3",{className:"font-bold text-xl text-emerald-500 mb-2",children:n.name}),_.jsx("p",{className:`${e?"text-zinc-400":"text-zinc-600"} text-sm mb-4 border-b ${e?"border-zinc-800":"border-gray-100"} pb-4`,children:n.description}),_.jsx("div",{className:"space-y-4",children:n.details.map((r,i)=>_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold",children:r.title}),_.jsx("p",{className:`${e?"text-zinc-500":"text-zinc-600"} text-sm`,children:r.description}),r.properties&&_.jsx("div",{className:"mt-2 text-xs space-y-1",children:Object.entries(r.properties).map(([o,s])=>_.jsxs("div",{className:"flex",children:[_.jsxs("span",{className:`font-medium ${e?"text-zinc-400":"text-zinc-500"} w-28 shrink-0`,children:[o,":"]}),_.jsx("span",{className:e?"text-zinc-300":"text-zinc-700",children:s})]},o))})]},i))})]},n.id))]}),RQ=({students:t,allExercises:e,adminUid:n,setNotification:r,onRefreshExercises:i,workoutToEdit:o,clearWorkoutToEdit:s,darkMode:a})=>{const[l,u]=$.useState(""),[c,d]=$.useState([]),[h,g]=$.useState(""),[y,w]=$.useState([]),[v,b]=$.useState([]),[x,S]=$.useState(""),[P,E]=$.useState("Peitoral"),[C,T]=$.useState(""),[I,R]=$.useState("3"),[O,k]=$.useState("12"),[M,D]=$.useState(""),[j,z]=$.useState(""),[K,X]=$.useState(""),[U,W]=$.useState(null),[J,ie]=$.useState([]),[ee,ae]=$.useState(!1),[Se,De]=$.useState(""),[et,xt]=$.useState([]),[Pt,oe]=$.useState(!1),[me,ge]=$.useState(!1),[Q,je]=$.useState(""),[Ee,tt]=$.useState("Peitoral"),[nt,$t]=$.useState("strength"),[Zn,er]=$.useState(!1),jr=Array.from(new Set(e.map(B=>B.muscleGroup))).sort(),tr=e.filter(B=>B.muscleGroup===P),Cn=a?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm",_t=a?"bg-zinc-800 border-zinc-700 text-white":"bg-gray-100 border-gray-300 text-gray-900";$.useEffect(()=>{o&&(g(o.studentId),u(o.workoutId),d(o.items))},[o]),$.useEffect(()=>{const B=Bt(Ne,"users",n,"templates"),de=fs(B,_e=>{const He=[];_e.forEach(Ye=>He.push({id:Ye.id,...Ye.data()})),b(He)},_e=>console.error("Error fetching templates:",_e));return()=>de()},[n]),$.useEffect(()=>{if(!h){w([]);return}(async()=>{const de=Bt(Ne,"users",h,"workouts"),_e=await _s(de),He=[];_e.forEach(Ye=>He.push({id:Ye.id,items:Ye.data().items})),w(He)})()},[h]);const Xi=B=>{if(!B)return;const _e=[...bP,...v].find(He=>He.name===B);_e&&(d([..._e.exercises]),u(_e.name),S(v.some(He=>He.id===_e.id)?_e.id:""))},Xo=async()=>{var He,Ye,Pn;const B=e.find(nn=>nn.id===C);if(!B)return;let de=B.img;if(!de){W(B.id);try{const nn=new L_({apiKey:$_.API_KEY}),Qi=`Create a clean, minimalist, flat vector illustration of a fitness exercise: "${B.name}". Target muscle group: ${B.muscleGroup}. Style: technical manual drawing, white background, black lines, neutral colors for the person. No text.`,pu=await nn.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:Qi}]},config:{imageConfig:{aspectRatio:"1:1"}}});if((Pn=(Ye=(He=pu.candidates)==null?void 0:He[0])==null?void 0:Ye.content)!=null&&Pn.parts){for(const li of pu.candidates[0].content.parts)if(li.inlineData){de=`data:${li.inlineData.mimeType};base64,${li.inlineData.data}`,await wg(pn(Ne,"exercises",B.id),{img:de}),i();break}}}catch(nn){console.error("Failed to generate image:",nn),r("Erro ao gerar imagem automtica. O exerccio ser adicionado sem imagem.")}finally{W(null)}}const _e={type:"exercise",id:`${B.id}_${Date.now()}`,exercise:B.name,target:B.muscleGroup,displayString:`${I} x ${O}`,notes:j,img:de,timerValue:M?parseInt(M):void 0};d([...c,_e]),z(""),D("")},Ft=B=>{J.includes(B)?ie(de=>de.filter(_e=>_e!==B)):ie(de=>[...de,B])},Et=B=>{const de=J.length;if(de===0)return;const He=["Agrupar","Bi-set","Tri-set","Giant-set"].includes(B)||de>1?`group_${Date.now()}`:void 0;let Ye=B;B==="Agrupar"&&(de===2?Ye="Bi-set":de===3?Ye="Tri-set":de>3&&(Ye="Giant-set"));const Pn=c.map(nn=>nn.type==="exercise"&&J.includes(nn.id)?{...nn,supersetGroup:He||nn.supersetGroup,technique:Ye}:nn);d(Pn),ie([]),r(`Tcnica "${Ye}" aplicada!`)},sa=()=>{const B=c.map(de=>{if(de.type==="exercise"&&J.includes(de.id)){const{supersetGroup:_e,technique:He,...Ye}=de;return Ye}return de});d(B),ie([]),r("Itens desagrupados.")},cf=async()=>{oe(!0),xt([]);try{const B=new L_({apiKey:$_.API_KEY}),de=Se?`com foco em: ${Se}`:"com foco em hipertrofia ou condicionamento geral",_e=`Sugira 5 exerccios para o grupo muscular "${P}" ${de}. Para cada exerccio, recomende sries (sets) e repeties (reps) e uma breve razo (reason) para a escolha. Retorne em JSON.`,He=await B.models.generateContent({model:"gemini-3-flash-preview",contents:_e,config:{responseMimeType:"application/json",responseSchema:{type:On.ARRAY,items:{type:On.OBJECT,properties:{name:{type:On.STRING},sets:{type:On.STRING},reps:{type:On.STRING},reason:{type:On.STRING}},required:["name","sets","reps"]}}}});He.text&&xt(JSON.parse(He.text))}catch(B){console.error(B),r("Erro ao gerar sugestes.")}finally{oe(!1)}},df=async B=>{let de=e.find(Ye=>Ye.name.toLowerCase()===B.name.toLowerCase());const He={type:"exercise",id:`${(de==null?void 0:de.id)||B.name.toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"")}_${Date.now()}`,exercise:B.name,target:P,displayString:`${B.sets} x ${B.reps}`,notes:B.reason,img:de==null?void 0:de.img};d([...c,He]),r("Sugesto adicionada!")},my=async()=>{if(!(!Q||!Ee)){er(!0);try{const B=Q.toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"");await Cs(pn(Ne,"exercises",B),{id:B,name:Q,muscleGroup:Ee,type:nt},{}),r(`Exerccio "${Q}" criado!`),je(""),ge(!1),i()}catch(B){console.error(B),alert(`Erro: ${B.message}`)}finally{er(!1)}}},Qo=()=>{K&&(d([...c,{type:"header",id:`h_${Date.now()}`,label:K}]),X(""))},fu=B=>{const de=[...c];de.splice(B,1),d(de)},Zo=(B,de)=>{const _e=[...c];de==="up"&&B>0?[_e[B],_e[B-1]]=[_e[B-1],_e[B]]:de==="down"&&B<_e.length-1&&([_e[B],_e[B+1]]=[_e[B+1],_e[B]]),d(_e)},aa=async B=>{if(!l||c.length===0){r("Defina um nome e adicione exerccios.");return}const de={name:l,exercises:c};try{if(B==="update"&&x)await Cs(pn(Ne,"users",n,"templates",x),de,{}),r("Modelo atualizado com sucesso!");else{const _e=await yl(Bt(Ne,"users",n,"templates"),de);S(_e.id),r("Novo modelo criado com sucesso!")}}catch(_e){console.error(_e),r("Erro ao salvar modelo.")}},gy=async()=>{x&&(await iE(pn(Ne,"users",n,"templates",x)),r("Modelo excludo."),u(""),d([]),S(""))},yy=async()=>{if(!(!h||!l||c.length===0))try{await Cs(pn(Ne,"users",h,"workouts",l),{items:c},{}),await yl(Bt(Ne,"users",h,"notifications"),{title:"Treino Atualizado ",body:`Treino "${l}" atualizado.`,timestamp:Date.now()}),r("Treino salvo!"),w(B=>[...B.filter(de=>de.id!==l),{id:l,items:c}]),o&&s()}catch(B){console.error(B),r("Erro ao salvar.")}},hu=y.some(B=>B.id===l);return _.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-140px)]",children:[me&&_.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:`${Cn} border rounded-xl p-6 w-full max-w-sm`,children:[_.jsx("h3",{className:"text-lg font-bold mb-4",children:"Novo Exerccio"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("input",{value:Q,onChange:B=>je(B.target.value),className:`w-full ${_t} rounded-lg p-2 text-sm`,placeholder:"Nome"}),_.jsx("input",{value:Ee,onChange:B=>tt(B.target.value),className:`w-full ${_t} rounded-lg p-2 text-sm`,placeholder:"Grupo Muscular"}),_.jsxs("select",{value:nt,onChange:B=>$t(B.target.value),className:`w-full ${_t} rounded-lg p-2 text-sm`,children:[_.jsx("option",{value:"strength",children:"Musculao"}),_.jsx("option",{value:"cardio",children:"Cardio"}),_.jsx("option",{value:"mobilidade",children:"Mobilidade"})]}),_.jsxs("div",{className:"flex gap-2 pt-2",children:[_.jsx("button",{onClick:()=>ge(!1),className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white font-bold py-2 rounded-lg text-sm",children:"Cancelar"}),_.jsx("button",{onClick:my,disabled:!Q||!Ee||Zn,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg text-sm disabled:opacity-50",children:"Salvar"})]})]})]})}),ee&&_.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 animate-fade-in",children:_.jsxs("div",{className:`${Cn} border rounded-xl p-6 w-full max-w-lg max-h-[80vh] flex flex-col`,children:[_.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-zinc-800 pb-2",children:[_.jsxs("h3",{className:"text-lg font-bold text-emerald-500 flex items-center gap-2",children:[_.jsx("i",{className:"ph-fill ph-magic-wand"})," Assistente IA"]}),_.jsx("button",{onClick:()=>ae(!1),className:"text-zinc-400 hover:text-white",children:_.jsx("i",{className:"ph ph-x text-lg"})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[_.jsxs("div",{className:"bg-emerald-500/10 p-3 rounded-lg border border-emerald-500/20 text-sm",children:[_.jsxs("p",{className:"font-bold text-emerald-400 mb-1",children:["Gerando sugestes para: ",P]}),_.jsx("input",{value:Se,onChange:B=>De(B.target.value),placeholder:"Foco (ex: Hipertrofia)",className:`w-full ${_t} mt-2 rounded-lg p-2 text-sm`}),_.jsx("button",{onClick:cf,disabled:Pt,className:"w-full mt-2 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg text-sm disabled:opacity-50 flex items-center justify-center gap-2",children:Pt?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"ph ph-spinner animate-spin"})," Pensando..."]}):"Gerar Sugestes"})]}),_.jsx("div",{className:"space-y-2",children:et.map((B,de)=>_.jsxs("div",{className:`p-3 border rounded-lg ${a?"bg-zinc-950 border-zinc-800":"bg-gray-50 border-gray-200"} flex justify-between items-start gap-3`,children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-emerald-400",children:B.name}),_.jsxs("div",{className:"text-xs text-white mt-1",children:[B.sets," x ",B.reps]}),_.jsxs("div",{className:"text-xs text-zinc-500 mt-1 italic",children:['"',B.reason,'"']})]}),_.jsx("button",{onClick:()=>df(B),className:"bg-zinc-800 hover:bg-emerald-500 hover:text-black text-white p-2 rounded-lg text-xs font-bold shrink-0",children:"Adicionar"})]},de))})]})]})}),_.jsxs("div",{className:`lg:col-span-1 ${Cn} border rounded-xl p-4 flex flex-col gap-4 overflow-y-auto`,children:[_.jsxs("div",{className:`font-bold border-b ${a?"border-zinc-800":"border-gray-200"} pb-2 flex justify-between`,children:[_.jsx("h3",{children:"1. Configurao"}),o&&_.jsx("button",{onClick:s,className:"text-xs text-red-500 hover:underline",children:"Cancelar Edio"})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("select",{value:h,onChange:B=>g(B.target.value),disabled:!!o,className:`w-full ${_t} rounded-lg p-2 text-sm`,children:[_.jsx("option",{value:"",children:"Selecione um aluno..."}),t.map(B=>_.jsx("option",{value:B.uid,children:B.name},B.uid))]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{onChange:B=>Xi(B.target.value),className:`flex-1 ${_t} rounded-lg p-2 text-sm`,children:[_.jsx("option",{value:"",children:"Carregar Modelo..."}),_.jsx("optgroup",{label:"Padro",children:bP.map(B=>_.jsx("option",{value:B.name,children:B.name},B.id))}),_.jsx("optgroup",{label:"Meus",children:v.map(B=>_.jsx("option",{value:B.name,children:B.name},B.id))})]}),x&&_.jsx("button",{onClick:gy,className:"bg-red-500/10 text-red-400 p-2 rounded-lg",children:_.jsx("i",{className:"ph ph-trash"})})]}),_.jsx("input",{value:l,onChange:B=>u(B.target.value),placeholder:"Nome do Treino (ex: Treino A)",className:`w-full ${_t} rounded-lg p-2 text-sm`})]}),_.jsxs("div",{className:`flex items-center justify-between border-b ${a?"border-zinc-800":"border-gray-200"} pb-2 pt-2`,children:[_.jsx("h3",{className:"font-bold",children:"2. Adicionar Itens"}),_.jsxs("button",{onClick:()=>ge(!0),className:"text-xs text-emerald-500 hover:text-emerald-600 flex items-center gap-1 font-bold",children:[_.jsx("i",{className:"ph ph-plus-circle"})," Novo Exerccio"]})]}),_.jsxs("div",{className:`flex gap-2 items-center ${a?"bg-zinc-950/50":"bg-gray-50"} p-3 rounded-lg border border-dashed ${a?"border-zinc-800":"border-gray-300"}`,children:[_.jsx("input",{value:K,onChange:B=>X(B.target.value),placeholder:"Ttulo de Bloco (ex: Aquecimento)",className:"flex-1 bg-transparent text-sm outline-none"}),_.jsx("button",{onClick:Qo,disabled:!K,className:"text-emerald-500 text-sm font-bold disabled:opacity-50",children:"ADD"})]}),_.jsxs("div",{className:`space-y-3 ${a?"bg-zinc-950/50":"bg-gray-50"} p-3 rounded-lg border ${a?"border-zinc-800":"border-gray-200"}`,children:[_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("div",{className:"w-1/3 relative",children:_.jsx("select",{value:P,onChange:B=>E(B.target.value),className:`w-full ${_t} rounded-lg p-2 text-xs`,children:jr.map(B=>_.jsx("option",{value:B,children:B},B))})}),_.jsxs("button",{onClick:()=>ae(!0),className:"bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 p-2 rounded-lg text-xs font-bold whitespace-nowrap transition-colors flex items-center gap-1",children:[_.jsx("i",{className:"ph-fill ph-magic-wand"})," IA"]}),_.jsxs("select",{value:C,onChange:B=>T(B.target.value),className:`flex-1 ${_t} rounded-lg p-2 text-xs`,children:[_.jsx("option",{value:"",children:"Selecione..."}),tr.map(B=>_.jsx("option",{value:B.id,children:B.name},B.id))]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx("input",{value:I,onChange:B=>R(B.target.value),placeholder:"Sries",className:`${_t} rounded-lg p-2 text-xs`}),_.jsx("input",{value:O,onChange:B=>k(B.target.value),placeholder:"Reps / Tempo",className:`${_t} rounded-lg p-2 text-xs`})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("input",{type:"number",step:"15",value:M,onChange:B=>D(B.target.value),placeholder:"Tempo (s)",className:`w-full ${_t} rounded-lg p-2 text-xs`})}),_.jsx("textarea",{value:j,onChange:B=>z(B.target.value),placeholder:"Observaes (opcional)",rows:2,className:`w-full ${_t} rounded-lg p-2 text-xs resize-none`}),_.jsx("button",{onClick:Xo,disabled:!C||!!U,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg text-sm transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:U?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"ph ph-spinner animate-spin"})," Gerando..."]}):"Adicionar Exerccio"})]}),_.jsxs("div",{className:"mt-auto space-y-2 pt-4 border-t border-zinc-800",children:[x&&_.jsx("button",{onClick:()=>aa("update"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-3 rounded-lg font-bold text-sm transition-colors",children:"Atualizar Modelo Existente"}),_.jsx("button",{onClick:()=>aa("create"),className:`w-full ${a?"bg-zinc-800 hover:bg-zinc-700":"bg-gray-200 hover:bg-gray-300 text-gray-900"} text-white py-3 rounded-lg font-bold text-sm transition-colors disabled:opacity-50`,children:x?"Salvar como Novo Modelo":"Salvar como Modelo"}),_.jsx("button",{onClick:yy,disabled:!h||!l||c.length===0,className:"w-full bg-emerald-500 hover:bg-emerald-500 text-white py-3 rounded-lg font-bold text-sm transition-colors disabled:opacity-50",children:hu?"Atualizar Treino":"Enviar para Aluno"})]})]}),_.jsxs("div",{className:`lg:col-span-2 ${Cn} border rounded-xl p-6 overflow-y-auto relative`,children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-xl font-bold",children:l||"Novo Treino"}),_.jsxs("span",{className:`${a?"text-zinc-500":"text-zinc-400"} text-sm`,children:[c.length," itens"]})]}),J.length>0&&_.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-zinc-800 border border-zinc-700 shadow-2xl rounded-full px-6 py-3 flex items-center gap-4 z-50 animate-slide-up",children:[_.jsxs("span",{className:"text-sm font-bold text-white whitespace-nowrap",children:[J.length," selecionados"]}),_.jsx("div",{className:"h-6 w-px bg-zinc-600"}),_.jsxs("button",{onClick:()=>Et("Agrupar"),className:"text-emerald-400 hover:text-white text-xs font-bold flex flex-col items-center gap-1",children:[_.jsx("i",{className:"ph-fill ph-link text-lg"})," Agrupar"]}),_.jsxs("button",{onClick:()=>Et("Drop-set"),className:"text-purple-400 hover:text-white text-xs font-bold flex flex-col items-center gap-1",children:[_.jsx("i",{className:"ph-fill ph-trend-down text-lg"})," Drop-set"]}),_.jsxs("button",{onClick:()=>Et("Rest-pause"),className:"text-blue-400 hover:text-white text-xs font-bold flex flex-col items-center gap-1",children:[_.jsx("i",{className:"ph-fill ph-timer text-lg"})," Rest-P"]}),_.jsxs("button",{onClick:()=>Et("Slow"),className:"text-yellow-400 hover:text-white text-xs font-bold flex flex-col items-center gap-1",children:[_.jsx("i",{className:"ph-fill ph-tortoise text-lg"})," Slow"]}),_.jsx("div",{className:"h-6 w-px bg-zinc-600"}),_.jsxs("button",{onClick:sa,className:"text-red-400 hover:text-white text-xs font-bold flex flex-col items-center gap-1",children:[_.jsx("i",{className:"ph-fill ph-link-break text-lg"})," Desagrupar"]})]}),c.length===0?_.jsxs("div",{className:`h-64 flex flex-col items-center justify-center ${a?"text-zinc-600":"text-zinc-400"} border-2 border-dashed ${a?"border-zinc-800":"border-gray-200"} rounded-xl`,children:[_.jsx("i",{className:"ph ph-barbell text-4xl mb-2"}),_.jsx("p",{children:"Adicione exerccios para comear"})]}):_.jsx("div",{className:"space-y-3 pb-20",children:c.map((B,de)=>{const _e=B.type==="header",He=J.includes(B.id),Ye=!_e&&B.supersetGroup,Pn=de>0&&c[de-1].type==="exercise"&&c[de-1].supersetGroup,nn=Ye&&Ye!==Pn,Qi=!!Ye;return _.jsxs("div",{className:"group relative animate-fade-in flex gap-2",children:[!_e&&_.jsx("div",{className:"flex items-center",children:_.jsx("input",{type:"checkbox",checked:He,onChange:()=>Ft(B.id),className:"w-5 h-5 rounded border-zinc-600 bg-zinc-800 text-emerald-500 focus:ring-emerald-500 cursor-pointer"})}),_.jsx("div",{className:"flex-1",children:_e?_.jsxs("div",{className:`${a?"bg-zinc-950 border-zinc-800":"bg-gray-50 border-gray-200"} border-b p-3 mt-4 flex justify-between items-center`,children:[_.jsx("h3",{className:"font-bold text-emerald-500",children:B.label}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>Zo(de,"up"),disabled:de===0,className:"text-zinc-500 hover:text-white disabled:opacity-30",children:_.jsx("i",{className:"ph ph-caret-up"})}),_.jsx("button",{onClick:()=>Zo(de,"down"),disabled:de===c.length-1,className:"text-zinc-500 hover:text-white disabled:opacity-30",children:_.jsx("i",{className:"ph ph-caret-down"})}),_.jsx("button",{onClick:()=>fu(de),className:"text-zinc-500 hover:text-red-500 ml-2",children:_.jsx("i",{className:"ph ph-trash"})})]})]}):_.jsxs("div",{className:`relative ${a?"bg-zinc-800/50 border-zinc-800 hover:border-zinc-700":"bg-gray-50 border-gray-200 hover:border-emerald-200"} border p-3 rounded-lg flex justify-between items-center transition-all ${He?"ring-2 ring-emerald-500/50 bg-emerald-900/10":""} ${Qi?"border-l-4 border-l-indigo-500 rounded-l-sm":""}`,children:[nn&&B.technique&&_.jsx("div",{className:"absolute -top-3 left-0 bg-indigo-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-t-md rounded-br-md shadow-sm z-10 uppercase tracking-wider",children:B.technique}),_.jsxs("div",{className:"flex items-center gap-3",children:[B.img&&_.jsx("img",{src:B.img,className:"w-10 h-10 rounded bg-black object-cover border border-zinc-700",alt:""}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold",children:B.exercise}),_.jsx("div",{className:"text-sm text-emerald-500",children:B.displayString}),_.jsxs("div",{className:"flex gap-2 mt-1 flex-wrap",children:[B.notes&&_.jsx("div",{className:`text-xs ${a?"text-zinc-500":"text-zinc-400"}`,children:B.notes}),B.timerValue&&_.jsxs("div",{className:"text-xs bg-emerald-500/10 text-emerald-400 px-1.5 rounded border border-emerald-500/20",children:[_.jsx("i",{className:"ph-fill ph-timer"})," ",B.timerValue,"s"]}),!B.supersetGroup&&B.technique&&_.jsx("div",{className:"text-[10px] bg-purple-500/20 text-purple-300 px-1.5 rounded border border-purple-500/30 uppercase",children:B.technique})]})]})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsxs("div",{className:"flex flex-col mr-2",children:[_.jsx("button",{onClick:()=>Zo(de,"up"),disabled:de===0,className:"text-zinc-500 hover:text-white disabled:opacity-30",children:_.jsx("i",{className:"ph ph-caret-up"})}),_.jsx("button",{onClick:()=>Zo(de,"down"),disabled:de===c.length-1,className:"text-zinc-500 hover:text-white disabled:opacity-30",children:_.jsx("i",{className:"ph ph-caret-down"})})]}),_.jsx("button",{onClick:()=>fu(de),className:"p-2 text-zinc-400 hover:text-red-500 transition-colors",children:_.jsx("i",{className:"ph ph-trash-simple text-lg"})})]})]})})]},B.id)})})]})]})},NQ=({students:t,setNotification:e,onEditWorkout:n,darkMode:r})=>{const[i,o]=$.useState(null),[s,a]=$.useState([]),[l,u]=$.useState(!1),c=async g=>{o(g),u(!0);try{const y=Bt(Ne,"users",g.uid,"workouts"),w=await _s(y);a(w.docs.map(v=>({id:v.id,...v.data()})))}catch(y){console.error(y),e("Erro ao carregar treinos.")}finally{u(!1)}},d=async g=>{if(i&&confirm(`Tem certeza que deseja excluir o treino "${g}"?`))try{await iE(pn(Ne,"users",i.uid,"workouts",g)),a(y=>y.filter(w=>w.id!==g)),e("Treino excludo.")}catch{e("Erro ao excluir.")}},h=r?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm";return _.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:`lg:col-span-1 ${h} border rounded-xl overflow-hidden flex flex-col h-[calc(100vh-140px)]`,children:[_.jsx("div",{className:"p-4 border-b border-zinc-800 font-bold",children:"Alunos"}),_.jsx("div",{className:"overflow-y-auto flex-1",children:t.map(g=>_.jsxs("button",{onClick:()=>c(g),className:`w-full p-4 flex items-center gap-3 hover:bg-zinc-800/50 transition-colors border-b border-zinc-800/50 ${(i==null?void 0:i.uid)===g.uid?"bg-emerald-500/10":""}`,children:[_.jsx("img",{src:g.avatar,className:"w-10 h-10 rounded-full bg-zinc-800",alt:""}),_.jsxs("div",{className:"text-left",children:[_.jsx("div",{className:`font-medium ${(i==null?void 0:i.uid)===g.uid?"text-emerald-400":r?"text-white":"text-zinc-900"}`,children:g.name}),_.jsx("div",{className:"text-xs text-zinc-500",children:g.email})]})]},g.uid))})]}),_.jsx("div",{className:`lg:col-span-2 ${h} border rounded-xl p-6 h-[calc(100vh-140px)] overflow-y-auto`,children:i?_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-zinc-800 pb-6",children:[_.jsx("img",{src:i.avatar,className:"w-16 h-16 rounded-full border-2 border-emerald-500",alt:""}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-bold",children:i.name}),_.jsx("p",{className:"text-zinc-500",children:i.email}),_.jsxs("div",{className:"flex gap-2 mt-2",children:[_.jsx("span",{className:"text-xs bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded border border-emerald-500/20 capitalize",children:i.workoutType||"Iniciante"}),i.hasCompletedAnamnesis&&_.jsx("span",{className:"text-xs bg-blue-500/10 text-blue-400 px-2 py-1 rounded border border-blue-500/20",children:"Anamnese OK"})]})]})]}),_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Treinos Atribudos"}),l?_.jsx("div",{className:"text-emerald-500",children:"Carregando treinos..."}):s.length===0?_.jsx("p",{className:"text-zinc-500",children:"Nenhum treino encontrado para este aluno."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(g=>{var y;return _.jsxs("div",{className:"bg-zinc-950/50 border border-zinc-800 p-4 rounded-lg hover:border-emerald-500/50 transition-colors",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h4",{className:"font-bold text-white",children:g.id}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>n(i.uid,g.id,g.items),className:"text-blue-400 hover:text-blue-300 p-1",children:_.jsx("i",{className:"ph ph-pencil-simple"})}),_.jsx("button",{onClick:()=>d(g.id),className:"text-red-400 hover:text-red-300 p-1",children:_.jsx("i",{className:"ph ph-trash"})})]})]}),_.jsxs("p",{className:"text-xs text-zinc-500",children:[((y=g.items)==null?void 0:y.length)||0," exerccios"]})]},g.id)})})]}):_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-500",children:[_.jsx("i",{className:"ph ph-user text-4xl mb-2"}),_.jsx("p",{children:"Selecione um aluno para gerenciar"})]})})]})},OQ=({students:t,setNotification:e,darkMode:n})=>{const[r,i]=$.useState(""),[o,s]=$.useState(new Date().toISOString().split("T")[0]),[a,l]=$.useState(""),[u,c]=$.useState(""),[d,h]=$.useState(""),g=async()=>{if(!r){e("Selecione um aluno.");return}try{const v={id:`av_${Date.now()}`,date:o,anthropometry:{weight:parseFloat(a),height:parseFloat(u),bmi:parseFloat(a)/(parseFloat(u)*parseFloat(u))||0}};await yl(Bt(Ne,"users",r,"assessments"),v),e("Avaliao salva com sucesso!"),l(""),c(""),h("")}catch(v){console.error(v),e("Erro ao salvar avaliao.")}},y=n?"bg-zinc-800 border-zinc-700 text-white":"bg-gray-100 border-gray-300 text-gray-900",w=n?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm";return _.jsx("div",{className:`max-w-2xl mx-auto ${w} border rounded-xl p-8`,children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Aluno"}),_.jsxs("select",{value:r,onChange:v=>i(v.target.value),className:`w-full ${y} rounded-lg p-3 outline-none`,children:[_.jsx("option",{value:"",children:"Selecione..."}),t.map(v=>_.jsx("option",{value:v.uid,children:v.name},v.uid))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Data"}),_.jsx("input",{type:"date",value:o,onChange:v=>s(v.target.value),className:`w-full ${y} rounded-lg p-3 outline-none`})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Peso (kg)"}),_.jsx("input",{type:"number",value:a,onChange:v=>l(v.target.value),className:`w-full ${y} rounded-lg p-3 outline-none`,placeholder:"0.00"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Altura (m)"}),_.jsx("input",{type:"number",value:u,onChange:v=>c(v.target.value),className:`w-full ${y} rounded-lg p-3 outline-none`,placeholder:"0.00"})]})]}),_.jsx("button",{onClick:g,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg mt-4",children:"Salvar Avaliao"})]})})},kQ=({students:t,setNotification:e,darkMode:n})=>{const[r,i]=$.useState(""),[o,s]=$.useState(""),[a,l]=$.useState(4),[u,c]=$.useState(null),[d,h]=$.useState(!1),[g,y]=$.useState(""),[w,v]=$.useState(!1),b=async()=>{if(!r||!o&&!u){e("Preencha os campos.");return}let E;u?E={...u,id:`plan_${Date.now()}`,name:o||u.name}:E={id:`plan_${Date.now()}`,name:o,weeks:Array.from({length:a}).map((C,T)=>({id:`w_${T}`,weekLabel:`Semana ${T+1}`,days:{}}))};try{await Cs(pn(Ne,"users",r,"runningPlans",E.id),E,{}),e("Plano de corrida criado!"),s(""),c(null)}catch(C){console.error(C),e("Erro ao criar plano.")}},x=async()=>{if(g){v(!0);try{const E=new L_({apiKey:$_.API_KEY}),C=`Crie uma planilha de corrida completa de 4 semanas para o objetivo: "${g}". Retorne APENAS um JSON seguindo estritamente esta estrutura: { "name": "Nome do Plano", "weeks": [ { "id": "w1", "weekLabel": "Semana 1", "days": { "monday": { "type": "Trote", "warmup": "5min", "main": "30min leve", "cooldown": "5min" }, "wednesday": ..., "saturday": ... } } ] }. Use 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday' como chaves dos dias. O objeto do dia deve ter type, warmup, main, cooldown, zone.`,T=await E.models.generateContent({model:"gemini-3-flash-preview",contents:C,config:{responseMimeType:"application/json"}});if(T.text){const I=JSON.parse(T.text);c({...I,id:"ai_generated"}),s(I.name),h(!1),e("Plano gerado com sucesso! Revise e salve.")}}catch(E){console.error(E),e("Erro ao gerar plano com IA.")}finally{v(!1)}}},S=n?"bg-zinc-800 border-zinc-700 text-white":"bg-gray-100 border-gray-300 text-gray-900",P=n?"bg-zinc-900 border-zinc-800":"bg-white border-gray-200 shadow-sm";return _.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-140px)]",children:[d&&_.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 animate-fade-in",children:_.jsxs("div",{className:`${P} border rounded-xl p-6 w-full max-w-md`,children:[_.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-emerald-500",children:[_.jsx("i",{className:"ph-fill ph-magic-wand"})," Gerador IA"]}),_.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:'Descreva o objetivo do aluno (ex: "Correr 5km em 25min", "Maratona sub 4h", "Comear a correr do zero").'}),_.jsx("textarea",{value:g,onChange:E=>y(E.target.value),className:`w-full ${S} rounded-lg p-3 text-sm h-32 resize-none mb-4`,placeholder:"Ex: Treino para meia maratona focado em velocidade..."}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>h(!1),className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white font-bold py-3 rounded-lg",children:"Cancelar"}),_.jsx("button",{onClick:x,disabled:w||!g,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg disabled:opacity-50 flex justify-center items-center gap-2",children:w?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"ph ph-spinner animate-spin"})," Gerando..."]}):"Gerar Plano"})]})]})}),_.jsxs("div",{className:`${P} border rounded-xl p-8`,children:[_.jsx("h3",{className:"text-xl font-bold mb-6",children:"Criar / Atribuir Plano"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Aluno"}),_.jsxs("select",{value:r,onChange:E=>i(E.target.value),className:`w-full ${S} rounded-lg p-3 outline-none`,children:[_.jsx("option",{value:"",children:"Selecione..."}),t.map(E=>_.jsx("option",{value:E.uid,children:E.name},E.uid))]})]}),_.jsxs("div",{className:"p-4 border border-zinc-700 rounded-xl bg-zinc-950/30",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("label",{className:"block text-sm font-medium opacity-70",children:"Usar Modelo (Opcional)"}),_.jsxs("button",{onClick:()=>h(!0),className:"text-xs bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500/20 px-2 py-1 rounded border border-emerald-500/20 flex items-center gap-1 font-bold transition-colors",children:[_.jsx("i",{className:"ph-fill ph-magic-wand"})," Gerar com IA"]})]}),_.jsxs("select",{value:u?u.id:"",onChange:E=>{const C=w_.find(T=>T.id===E.target.value);c(C||null),C&&s(C.name)},className:`w-full ${S} rounded-lg p-3 outline-none`,children:[_.jsx("option",{value:"",children:"Nenhum (Criar do zero)"}),(u==null?void 0:u.id)==="ai_generated"&&_.jsx("option",{value:"ai_generated",children:" Plano Gerado por IA"}),w_.map(E=>_.jsx("option",{value:E.id,children:E.name},E.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Nome do Plano"}),_.jsx("input",{value:o,onChange:E=>s(E.target.value),className:`w-full ${S} rounded-lg p-3 outline-none`,placeholder:"Ex: Meia Maratona"})]}),!u&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Durao (Semanas)"}),_.jsx("input",{type:"number",value:a,onChange:E=>l(Number(E.target.value)),className:`w-full ${S} rounded-lg p-3 outline-none`,min:"1",max:"24"})]}),_.jsx("button",{onClick:b,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg mt-4 shadow-lg shadow-emerald-900/20",children:u?"Atribuir Plano ao Aluno":"Criar Estrutura Vazia"})]})]}),_.jsxs("div",{className:`${P} border rounded-xl p-8 overflow-y-auto`,children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Sugestes de Treinos"}),_.jsx("p",{className:"text-sm opacity-60 mb-6",children:"Copie e cole estas estruturas ao editar os dias do plano."}),_.jsx("div",{className:"space-y-3",children:iW.map((E,C)=>_.jsxs("div",{className:`p-4 rounded-lg border ${n?"bg-zinc-950 border-zinc-800":"bg-gray-50 border-gray-200"} text-sm`,children:[_.jsxs("div",{className:"flex justify-between mb-1",children:[_.jsx("span",{className:"font-bold text-emerald-500",children:E.type}),_.jsx("span",{className:"text-xs bg-zinc-800 px-2 py-0.5 rounded text-zinc-400",children:E.zone})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-1 opacity-80",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-xs uppercase tracking-wider opacity-50",children:"Aquecimento:"})," ",E.warmup]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-xs uppercase tracking-wider opacity-50",children:"Principal:"})," ",E.main]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-xs uppercase tracking-wider opacity-50",children:"Desaquecimento:"})," ",E.cooldown]})]})]},C))})]})]})};function Q2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Q2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Q2(t))&&(r&&(r+=" "),r+=e);return r}var MQ=Array.isArray,Un=MQ,DQ=typeof Af=="object"&&Af&&Af.Object===Object&&Af,Z2=DQ,LQ=Z2,$Q=typeof self=="object"&&self&&self.Object===Object&&self,FQ=LQ||$Q||Function("return this")(),ai=FQ,VQ=ai,UQ=VQ.Symbol,tf=UQ,xP=tf,e$=Object.prototype,jQ=e$.hasOwnProperty,BQ=e$.toString,Lu=xP?xP.toStringTag:void 0;function zQ(t){var e=jQ.call(t,Lu),n=t[Lu];try{t[Lu]=void 0;var r=!0}catch{}var i=BQ.call(t);return r&&(e?t[Lu]=n:delete t[Lu]),i}var GQ=zQ,qQ=Object.prototype,HQ=qQ.toString;function WQ(t){return HQ.call(t)}var KQ=WQ,EP=tf,JQ=GQ,YQ=KQ,XQ="[object Null]",QQ="[object Undefined]",TP=EP?EP.toStringTag:void 0;function ZQ(t){return t==null?t===void 0?QQ:XQ:TP&&TP in Object(t)?JQ(t):YQ(t)}var Ki=ZQ;function eZ(t){return t!=null&&typeof t=="object"}var Ji=eZ,tZ=Ki,nZ=Ji,rZ="[object Symbol]";function iZ(t){return typeof t=="symbol"||nZ(t)&&tZ(t)==rZ}var Ql=iZ,oZ=Un,sZ=Ql,aZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lZ=/^\w*$/;function uZ(t,e){if(oZ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||sZ(t)?!0:lZ.test(t)||!aZ.test(t)||e!=null&&t in Object(e)}var mE=uZ;function cZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qo=cZ;const Zl=Je(qo);var dZ=Ki,fZ=qo,hZ="[object AsyncFunction]",pZ="[object Function]",mZ="[object GeneratorFunction]",gZ="[object Proxy]";function yZ(t){if(!fZ(t))return!1;var e=dZ(t);return e==pZ||e==mZ||e==hZ||e==gZ}var gE=yZ;const Te=Je(gE);var vZ=ai,_Z=vZ["__core-js_shared__"],wZ=_Z,Ev=wZ,SP=function(){var t=/[^.]+$/.exec(Ev&&Ev.keys&&Ev.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bZ(t){return!!SP&&SP in t}var xZ=bZ,EZ=Function.prototype,TZ=EZ.toString;function SZ(t){if(t!=null){try{return TZ.call(t)}catch{}try{return t+""}catch{}}return""}var t$=SZ,AZ=gE,IZ=xZ,CZ=qo,PZ=t$,RZ=/[\\^$.*+?()[\]{}|]/g,NZ=/^\[object .+?Constructor\]$/,OZ=Function.prototype,kZ=Object.prototype,MZ=OZ.toString,DZ=kZ.hasOwnProperty,LZ=RegExp("^"+MZ.call(DZ).replace(RZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Z(t){if(!CZ(t)||IZ(t))return!1;var e=AZ(t)?LZ:NZ;return e.test(PZ(t))}var FZ=$Z;function VZ(t,e){return t==null?void 0:t[e]}var UZ=VZ,jZ=FZ,BZ=UZ;function zZ(t,e){var n=BZ(t,e);return jZ(n)?n:void 0}var na=zZ,GZ=na,qZ=GZ(Object,"create"),Ig=qZ,AP=Ig;function HZ(){this.__data__=AP?AP(null):{},this.size=0}var WZ=HZ;function KZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JZ=KZ,YZ=Ig,XZ="__lodash_hash_undefined__",QZ=Object.prototype,ZZ=QZ.hasOwnProperty;function eee(t){var e=this.__data__;if(YZ){var n=e[t];return n===XZ?void 0:n}return ZZ.call(e,t)?e[t]:void 0}var tee=eee,nee=Ig,ree=Object.prototype,iee=ree.hasOwnProperty;function oee(t){var e=this.__data__;return nee?e[t]!==void 0:iee.call(e,t)}var see=oee,aee=Ig,lee="__lodash_hash_undefined__";function uee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=aee&&e===void 0?lee:e,this}var cee=uee,dee=WZ,fee=JZ,hee=tee,pee=see,mee=cee;function eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eu.prototype.clear=dee;eu.prototype.delete=fee;eu.prototype.get=hee;eu.prototype.has=pee;eu.prototype.set=mee;var gee=eu;function yee(){this.__data__=[],this.size=0}var vee=yee;function _ee(t,e){return t===e||t!==t&&e!==e}var yE=_ee,wee=yE;function bee(t,e){for(var n=t.length;n--;)if(wee(t[n][0],e))return n;return-1}var Cg=bee,xee=Cg,Eee=Array.prototype,Tee=Eee.splice;function See(t){var e=this.__data__,n=xee(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Tee.call(e,n,1),--this.size,!0}var Aee=See,Iee=Cg;function Cee(t){var e=this.__data__,n=Iee(e,t);return n<0?void 0:e[n][1]}var Pee=Cee,Ree=Cg;function Nee(t){return Ree(this.__data__,t)>-1}var Oee=Nee,kee=Cg;function Mee(t,e){var n=this.__data__,r=kee(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Dee=Mee,Lee=vee,$ee=Aee,Fee=Pee,Vee=Oee,Uee=Dee;function tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tu.prototype.clear=Lee;tu.prototype.delete=$ee;tu.prototype.get=Fee;tu.prototype.has=Vee;tu.prototype.set=Uee;var Pg=tu,jee=na,Bee=ai,zee=jee(Bee,"Map"),vE=zee,IP=gee,Gee=Pg,qee=vE;function Hee(){this.size=0,this.__data__={hash:new IP,map:new(qee||Gee),string:new IP}}var Wee=Hee;function Kee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Jee=Kee,Yee=Jee;function Xee(t,e){var n=t.__data__;return Yee(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Rg=Xee,Qee=Rg;function Zee(t){var e=Qee(this,t).delete(t);return this.size-=e?1:0,e}var ete=Zee,tte=Rg;function nte(t){return tte(this,t).get(t)}var rte=nte,ite=Rg;function ote(t){return ite(this,t).has(t)}var ste=ote,ate=Rg;function lte(t,e){var n=ate(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ute=lte,cte=Wee,dte=ete,fte=rte,hte=ste,pte=ute;function nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nu.prototype.clear=cte;nu.prototype.delete=dte;nu.prototype.get=fte;nu.prototype.has=hte;nu.prototype.set=pte;var _E=nu,n$=_E,mte="Expected a function";function wE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mte);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(wE.Cache||n$),n}wE.Cache=n$;var r$=wE;const gte=Je(r$);var yte=r$,vte=500;function _te(t){var e=yte(t,function(r){return n.size===vte&&n.clear(),r}),n=e.cache;return e}var wte=_te,bte=wte,xte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ete=/\\(\\)?/g,Tte=bte(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xte,function(n,r,i,o){e.push(i?o.replace(Ete,"$1"):r||n)}),e}),Ste=Tte;function Ate(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var bE=Ate,CP=tf,Ite=bE,Cte=Un,Pte=Ql,PP=CP?CP.prototype:void 0,RP=PP?PP.toString:void 0;function i$(t){if(typeof t=="string")return t;if(Cte(t))return Ite(t,i$)+"";if(Pte(t))return RP?RP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Rte=i$,Nte=Rte;function Ote(t){return t==null?"":Nte(t)}var o$=Ote,kte=Un,Mte=mE,Dte=Ste,Lte=o$;function $te(t,e){return kte(t)?t:Mte(t,e)?[t]:Dte(Lte(t))}var s$=$te,Fte=Ql;function Vte(t){if(typeof t=="string"||Fte(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ng=Vte,Ute=s$,jte=Ng;function Bte(t,e){e=Ute(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jte(e[n++])];return n&&n==r?t:void 0}var xE=Bte,zte=xE;function Gte(t,e,n){var r=t==null?void 0:zte(t,e);return r===void 0?n:r}var a$=Gte;const pr=Je(a$);function qte(t){return t==null}var Hte=qte;const Pe=Je(Hte);var Wte=Ki,Kte=Un,Jte=Ji,Yte="[object String]";function Xte(t){return typeof t=="string"||!Kte(t)&&Jte(t)&&Wte(t)==Yte}var Qte=Xte;const zs=Je(Qte);var l$={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=Symbol.for("react.element"),TE=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Zte=Symbol.for("react.server_context"),$g=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),Ug=Symbol.for("react.memo"),jg=Symbol.for("react.lazy"),ene=Symbol.for("react.offscreen"),u$;u$=Symbol.for("react.module.reference");function _r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case EE:switch(t=t.type,t){case Og:case Mg:case kg:case Fg:case Vg:return t;default:switch(t=t&&t.$$typeof,t){case Zte:case Lg:case $g:case jg:case Ug:case Dg:return t;default:return e}}case TE:return e}}}Ge.ContextConsumer=Lg;Ge.ContextProvider=Dg;Ge.Element=EE;Ge.ForwardRef=$g;Ge.Fragment=Og;Ge.Lazy=jg;Ge.Memo=Ug;Ge.Portal=TE;Ge.Profiler=Mg;Ge.StrictMode=kg;Ge.Suspense=Fg;Ge.SuspenseList=Vg;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return _r(t)===Lg};Ge.isContextProvider=function(t){return _r(t)===Dg};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===EE};Ge.isForwardRef=function(t){return _r(t)===$g};Ge.isFragment=function(t){return _r(t)===Og};Ge.isLazy=function(t){return _r(t)===jg};Ge.isMemo=function(t){return _r(t)===Ug};Ge.isPortal=function(t){return _r(t)===TE};Ge.isProfiler=function(t){return _r(t)===Mg};Ge.isStrictMode=function(t){return _r(t)===kg};Ge.isSuspense=function(t){return _r(t)===Fg};Ge.isSuspenseList=function(t){return _r(t)===Vg};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Og||t===Mg||t===kg||t===Fg||t===Vg||t===ene||typeof t=="object"&&t!==null&&(t.$$typeof===jg||t.$$typeof===Ug||t.$$typeof===Dg||t.$$typeof===Lg||t.$$typeof===$g||t.$$typeof===u$||t.getModuleId!==void 0)};Ge.typeOf=_r;l$.exports=Ge;var tne=l$.exports,nne=Ki,rne=Ji,ine="[object Number]";function one(t){return typeof t=="number"||rne(t)&&nne(t)==ine}var c$=one;const sne=Je(c$);var ane=c$;function lne(t){return ane(t)&&t!=+t}var une=lne;const ru=Je(une);var Pr=function(e){return e===0?0:e>0?1:-1},ws=function(e){return zs(e)&&e.indexOf("%")===e.length-1},ne=function(e){return sne(e)&&!ru(e)},cne=function(e){return Pe(e)},Mt=function(e){return ne(e)||zs(e)},dne=0,nf=function(e){var n=++dne;return"".concat(e||"").concat(n)},Gs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!zs(e))return r;var o;if(ws(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ru(o)&&(o=r),i&&o>n&&(o=n),o},mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},fne=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ar=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function Np(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):pr(r,e))===n})}var hne=function(e,n){return ne(e)&&ne(n)?e-n:zs(e)&&zs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function el(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function F_(t){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F_(t)}var pne=["viewBox","children"],mne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NP=["points","pathLength"],Tv={svg:pne,polygon:NP,polyline:NP},SE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Op=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Zl(r))return null;var i={};return Object.keys(r).forEach(function(o){SE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},gne=function(e,n,r){return function(i){return e(n,r,i),null}},kp=function(e,n,r){if(!Zl(e)||F_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];SE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=gne(s,n,r))}),i},yne=["children"],vne=["children"];function OP(t,e){if(t==null)return{};var n=_ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_(t){"@babel/helpers - typeof";return V_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(t)}var kP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ii=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},MP=null,Sv=null,AE=function t(e){if(e===MP&&Array.isArray(Sv))return Sv;var n=[];return $.Children.forEach(e,function(r){Pe(r)||(tne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Sv=n,MP=e,n};function Mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ii(i)}):r=[Ii(e)],AE(t).forEach(function(i){var o=pr(i,"type.displayName")||pr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Gn(t,e){var n=Mr(t,e);return n&&n[0]}var DP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},wne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bne=function(e){return e&&e.type&&zs(e.type)&&wne.indexOf(e.type)>=0},xne=function(e){return e&&V_(e)==="object"&&"clipDot"in e},Ene=function(e,n,r,i){var o,s=(o=Tv==null?void 0:Tv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Te(e)&&(i&&s.includes(n)||mne.includes(n))||r&&SE.includes(n)},Ae=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Zl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Ene((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},U_=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!LP(o,s))return!1}return!0},LP=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,o=OP(r,yne),s=n.props||{},a=s.children,l=OP(s,vne);return i&&a?el(o,l)&&U_(i,a):!i&&!a?el(o,l):!1}return!1},$P=function(e,n){var r=[],i={};return AE(e).forEach(function(o,s){if(bne(o))r.push(o);else if(o){var a=Ii(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},Tne=function(e){var n=e&&e.type;return n&&kP[n]?kP[n]:null},Sne=function(e,n){return AE(n).indexOf(e)},Ane=["children","width","height","viewBox","className","style","title","desc"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function Ine(t,e){if(t==null)return{};var n=Cne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Ine(t,Ane),c=i||{width:n,height:r,x:0,y:0},d=Me("recharts-surface",o);return F.createElement("svg",j_({},Ae(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),F.createElement("title",null,a),F.createElement("desc",null,l),e)}var Pne=["children","className"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function Rne(t,e){if(t==null)return{};var n=Nne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dt=F.forwardRef(function(t,e){var n=t.children,r=t.className,i=Rne(t,Pne),o=Me("recharts-layer",r);return F.createElement("g",z_({className:o},Ae(i,!0),{ref:e}),n)}),Ci=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function One(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var kne=One,Mne=kne;function Dne(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Mne(t,e,n)}var Lne=Dne,$ne="\\ud800-\\udfff",Fne="\\u0300-\\u036f",Vne="\\ufe20-\\ufe2f",Une="\\u20d0-\\u20ff",jne=Fne+Vne+Une,Bne="\\ufe0e\\ufe0f",zne="\\u200d",Gne=RegExp("["+zne+$ne+jne+Bne+"]");function qne(t){return Gne.test(t)}var d$=qne;function Hne(t){return t.split("")}var Wne=Hne,f$="\\ud800-\\udfff",Kne="\\u0300-\\u036f",Jne="\\ufe20-\\ufe2f",Yne="\\u20d0-\\u20ff",Xne=Kne+Jne+Yne,Qne="\\ufe0e\\ufe0f",Zne="["+f$+"]",G_="["+Xne+"]",q_="\\ud83c[\\udffb-\\udfff]",ere="(?:"+G_+"|"+q_+")",h$="[^"+f$+"]",p$="(?:\\ud83c[\\udde6-\\uddff]){2}",m$="[\\ud800-\\udbff][\\udc00-\\udfff]",tre="\\u200d",g$=ere+"?",y$="["+Qne+"]?",nre="(?:"+tre+"(?:"+[h$,p$,m$].join("|")+")"+y$+g$+")*",rre=y$+g$+nre,ire="(?:"+[h$+G_+"?",G_,p$,m$,Zne].join("|")+")",ore=RegExp(q_+"(?="+q_+")|"+ire+rre,"g");function sre(t){return t.match(ore)||[]}var are=sre,lre=Wne,ure=d$,cre=are;function dre(t){return ure(t)?cre(t):lre(t)}var fre=dre,hre=Lne,pre=d$,mre=fre,gre=o$;function yre(t){return function(e){e=gre(e);var n=pre(e)?mre(e):void 0,r=n?n[0]:e.charAt(0),i=n?hre(n,1).join(""):e.slice(1);return r[t]()+i}}var vre=yre,_re=vre,wre=_re("toUpperCase"),bre=wre;const Bg=Je(bre);function Xe(t){return function(){return t}}const v$=Math.cos,Mp=Math.sin,Ur=Math.sqrt,Dp=Math.PI,zg=2*Dp,H_=Math.PI,W_=2*H_,us=1e-6,xre=W_-us;function _$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ere(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Tre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_$:Ere(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>us)if(!(Math.abs(d*l-u*c)>us)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,y=i-a,w=l*l+u*u,v=g*g+y*y,b=Math.sqrt(w),x=Math.sqrt(h),S=o*Math.tan((H_-Math.acos((w+h-v)/(2*b*x)))/2),P=S/x,E=S/b;Math.abs(P-1)>us&&this._append`L${e+P*c},${n+P*d}`,this._append`A${o},${o},0,0,${+(d*g>c*y)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>us||Math.abs(this._y1-c)>us)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%W_+W_),h>xre?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>us&&this._append`A${r},${r},0,${+(h>=H_)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function IE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Tre(e)}function CE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function w$(t){this._context=t}w$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gg(t){return new w$(t)}function b$(t){return t[0]}function x$(t){return t[1]}function E$(t,e){var n=Xe(!0),r=null,i=Gg,o=null,s=IE(a);t=typeof t=="function"?t:t===void 0?b$:Xe(t),e=typeof e=="function"?e:e===void 0?x$:Xe(e);function a(l){var u,c=(l=CE(l)).length,d,h=!1,g;for(r==null&&(o=i(g=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Xe(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Xe(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Xe(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function eh(t,e,n){var r=null,i=Xe(!0),o=null,s=Gg,a=null,l=IE(u);t=typeof t=="function"?t:t===void 0?b$:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?x$:Xe(+n);function u(d){var h,g,y,w=(d=CE(d)).length,v,b=!1,x,S=new Array(w),P=new Array(w);for(o==null&&(a=s(x=l())),h=0;h<=w;++h){if(!(h<w&&i(v=d[h],h,d))===b)if(b=!b)g=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=g;--y)a.point(S[y],P[y]);a.lineEnd(),a.areaEnd()}b&&(S[h]=+t(v,h,d),P[h]=+e(v,h,d),a.point(r?+r(v,h,d):S[h],n?+n(v,h,d):P[h]))}if(x)return a=null,x+""||null}function c(){return E$().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Xe(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Xe(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Xe(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Xe(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Xe(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Xe(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Xe(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class T${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Sre(t){return new T$(t,!0)}function Are(t){return new T$(t,!1)}const PE={draw(t,e){const n=Ur(e/Dp);t.moveTo(n,0),t.arc(0,0,n,0,zg)}},Ire={draw(t,e){const n=Ur(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},S$=Ur(1/3),Cre=S$*2,Pre={draw(t,e){const n=Ur(e/Cre),r=n*S$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Rre={draw(t,e){const n=Ur(e),r=-n/2;t.rect(r,r,n,n)}},Nre=.8908130915292852,A$=Mp(Dp/10)/Mp(7*Dp/10),Ore=Mp(zg/10)*A$,kre=-v$(zg/10)*A$,Mre={draw(t,e){const n=Ur(e*Nre),r=Ore*n,i=kre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=zg*o/5,a=v$(s),l=Mp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Av=Ur(3),Dre={draw(t,e){const n=-Ur(e/(Av*3));t.moveTo(0,n*2),t.lineTo(-Av*n,-n),t.lineTo(Av*n,-n),t.closePath()}},nr=-.5,rr=Ur(3)/2,K_=1/Ur(12),Lre=(K_/2+1)*3,$re={draw(t,e){const n=Ur(e/Lre),r=n/2,i=n*K_,o=r,s=n*K_+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(nr*r-rr*i,rr*r+nr*i),t.lineTo(nr*o-rr*s,rr*o+nr*s),t.lineTo(nr*a-rr*l,rr*a+nr*l),t.lineTo(nr*r+rr*i,nr*i-rr*r),t.lineTo(nr*o+rr*s,nr*s-rr*o),t.lineTo(nr*a+rr*l,nr*l-rr*a),t.closePath()}};function Fre(t,e){let n=null,r=IE(i);t=typeof t=="function"?t:Xe(t||PE),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Xe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Lp(){}function $p(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function I$(t){this._context=t}I$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vre(t){return new I$(t)}function C$(t){this._context=t}C$.prototype={areaStart:Lp,areaEnd:Lp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ure(t){return new C$(t)}function P$(t){this._context=t}P$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jre(t){return new P$(t)}function R$(t){this._context=t}R$.prototype={areaStart:Lp,areaEnd:Lp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bre(t){return new R$(t)}function FP(t){return t<0?-1:1}function VP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(FP(o)+FP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function UP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Iv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Fp(t){this._context=t}Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iv(this,this._t0,UP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iv(this,UP(this,n=VP(this,t,e)),n);break;default:Iv(this,this._t0,n=VP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N$(t){this._context=new O$(t)}(N$.prototype=Object.create(Fp.prototype)).point=function(t,e){Fp.prototype.point.call(this,e,t)};function O$(t){this._context=t}O$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function zre(t){return new Fp(t)}function Gre(t){return new N$(t)}function k$(t){this._context=t}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jP(t),i=jP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function qre(t){return new k$(t)}function qg(t,e){this._context=t,this._t=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Hre(t){return new qg(t,.5)}function Wre(t){return new qg(t,0)}function Kre(t){return new qg(t,1)}function vl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function J_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Jre(t,e){return t[e]}function Yre(t){const e=[];return e.key=t,e}function Xre(){var t=Xe([]),e=J_,n=vl,r=Jre;function i(o){var s=Array.from(t.apply(this,arguments),Yre),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=CE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Xe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?J_:typeof o=="function"?o:Xe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??vl,i):n},i}function Qre(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}vl(t,e)}}function Zre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}vl(t,e)}}function eie(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,y=0;y<a;++y){var w=t[e[y]],v=w[r][1]||0,b=w[r-1][1]||0;g+=v-b}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,vl(t,e)}}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}var tie=["type","size","sizeType"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return e=rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return nd(e)=="symbol"?e:e+""}function iie(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oie(t,e){if(t==null)return{};var n=sie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var M$={symbolCircle:PE,symbolCross:Ire,symbolDiamond:Pre,symbolSquare:Rre,symbolStar:Mre,symbolTriangle:Dre,symbolWye:$re},aie=Math.PI/180,lie=function(e){var n="symbol".concat(Bg(e));return M$[n]||PE},uie=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*aie;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cie=function(e,n){M$["symbol".concat(Bg(e))]=n},RE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=oie(e,tie),u=zP(zP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var v=lie(r),b=Fre().type(v).size(uie(o,a,r));return b()},d=u.className,h=u.cx,g=u.cy,y=Ae(u,!0);return h===+h&&g===+g&&o===+o?F.createElement("path",Y_({},y,{className:Me("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};RE.registerSymbol=cie;function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function die(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){rd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function pie(t,e,n){return e&&hie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mie(t,e,n){return e=Vp(e),gie(t,D$()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function gie(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yie(t)}function yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function vie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q_(t,e)}function rd(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=_ie(t,"string");return _l(e)=="symbol"?e:e+""}function _ie(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ir=32,NE=function(t){function e(){return fie(this,e),mie(this,e,arguments)}return vie(e,t),pie(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ir/2,s=ir/6,a=ir/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ir,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ir,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ir/8,"h").concat(ir,"v").concat(ir*3/4,"h").concat(-ir,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var u=die({},r);return delete u.legendIcon,F.cloneElement(r.legendIcon,u)}return F.createElement(RE,{fill:l,cx:o,cy:o,size:ir,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ir,height:ir},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,y){var w=g.formatter||l,v=Me(rd(rd({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var b=Te(g.value)?null:g.value;Ci(!Te(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?u:g.color;return F.createElement("li",X_({className:v,style:d,key:"legend-item-".concat(y)},kp(r.props,g,y)),F.createElement(B_,{width:s,height:s,viewBox:c,style:h},r.renderIcon(g)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w?w(b,g,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);rd(NE,"displayName","Legend");rd(NE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wie=Pg;function bie(){this.__data__=new wie,this.size=0}var xie=bie;function Eie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Tie=Eie;function Sie(t){return this.__data__.get(t)}var Aie=Sie;function Iie(t){return this.__data__.has(t)}var Cie=Iie,Pie=Pg,Rie=vE,Nie=_E,Oie=200;function kie(t,e){var n=this.__data__;if(n instanceof Pie){var r=n.__data__;if(!Rie||r.length<Oie-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nie(r)}return n.set(t,e),this.size=n.size,this}var Mie=kie,Die=Pg,Lie=xie,$ie=Tie,Fie=Aie,Vie=Cie,Uie=Mie;function iu(t){var e=this.__data__=new Die(t);this.size=e.size}iu.prototype.clear=Lie;iu.prototype.delete=$ie;iu.prototype.get=Fie;iu.prototype.has=Vie;iu.prototype.set=Uie;var $$=iu,jie="__lodash_hash_undefined__";function Bie(t){return this.__data__.set(t,jie),this}var zie=Bie;function Gie(t){return this.__data__.has(t)}var qie=Gie,Hie=_E,Wie=zie,Kie=qie;function Up(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Hie;++e<n;)this.add(t[e])}Up.prototype.add=Up.prototype.push=Wie;Up.prototype.has=Kie;var F$=Up;function Jie(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var V$=Jie;function Yie(t,e){return t.has(e)}var U$=Yie,Xie=F$,Qie=V$,Zie=U$,eoe=1,toe=2;function noe(t,e,n,r,i,o){var s=n&eoe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&toe?new Xie:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var y=t[d],w=e[d];if(r)var v=s?r(w,y,d,e,t,o):r(y,w,d,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(g){if(!Qie(e,function(b,x){if(!Zie(g,x)&&(y===b||i(y,b,n,r,o)))return g.push(x)})){h=!1;break}}else if(!(y===w||i(y,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var j$=noe,roe=ai,ioe=roe.Uint8Array,ooe=ioe;function soe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var aoe=soe;function loe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var OE=loe,qP=tf,HP=ooe,uoe=yE,coe=j$,doe=aoe,foe=OE,hoe=1,poe=2,moe="[object Boolean]",goe="[object Date]",yoe="[object Error]",voe="[object Map]",_oe="[object Number]",woe="[object RegExp]",boe="[object Set]",xoe="[object String]",Eoe="[object Symbol]",Toe="[object ArrayBuffer]",Soe="[object DataView]",WP=qP?qP.prototype:void 0,Cv=WP?WP.valueOf:void 0;function Aoe(t,e,n,r,i,o,s){switch(n){case Soe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Toe:return!(t.byteLength!=e.byteLength||!o(new HP(t),new HP(e)));case moe:case goe:case _oe:return uoe(+t,+e);case yoe:return t.name==e.name&&t.message==e.message;case woe:case xoe:return t==e+"";case voe:var a=doe;case boe:var l=r&hoe;if(a||(a=foe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=poe,s.set(t,e);var c=coe(a(t),a(e),r,i,o,s);return s.delete(t),c;case Eoe:if(Cv)return Cv.call(t)==Cv.call(e)}return!1}var Ioe=Aoe;function Coe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var B$=Coe,Poe=B$,Roe=Un;function Noe(t,e,n){var r=e(t);return Roe(t)?r:Poe(r,n(t))}var Ooe=Noe;function koe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Moe=koe;function Doe(){return[]}var Loe=Doe,$oe=Moe,Foe=Loe,Voe=Object.prototype,Uoe=Voe.propertyIsEnumerable,KP=Object.getOwnPropertySymbols,joe=KP?function(t){return t==null?[]:(t=Object(t),$oe(KP(t),function(e){return Uoe.call(t,e)}))}:Foe,Boe=joe;function zoe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Goe=zoe,qoe=Ki,Hoe=Ji,Woe="[object Arguments]";function Koe(t){return Hoe(t)&&qoe(t)==Woe}var Joe=Koe,JP=Joe,Yoe=Ji,z$=Object.prototype,Xoe=z$.hasOwnProperty,Qoe=z$.propertyIsEnumerable,Zoe=JP(function(){return arguments}())?JP:function(t){return Yoe(t)&&Xoe.call(t,"callee")&&!Qoe.call(t,"callee")},kE=Zoe,jp={exports:{}};function ese(){return!1}var tse=ese;jp.exports;(function(t,e){var n=ai,r=tse,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(jp,jp.exports);var G$=jp.exports,nse=9007199254740991,rse=/^(?:0|[1-9]\d*)$/;function ise(t,e){var n=typeof t;return e=e??nse,!!e&&(n=="number"||n!="symbol"&&rse.test(t))&&t>-1&&t%1==0&&t<e}var ME=ise,ose=9007199254740991;function sse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ose}var DE=sse,ase=Ki,lse=DE,use=Ji,cse="[object Arguments]",dse="[object Array]",fse="[object Boolean]",hse="[object Date]",pse="[object Error]",mse="[object Function]",gse="[object Map]",yse="[object Number]",vse="[object Object]",_se="[object RegExp]",wse="[object Set]",bse="[object String]",xse="[object WeakMap]",Ese="[object ArrayBuffer]",Tse="[object DataView]",Sse="[object Float32Array]",Ase="[object Float64Array]",Ise="[object Int8Array]",Cse="[object Int16Array]",Pse="[object Int32Array]",Rse="[object Uint8Array]",Nse="[object Uint8ClampedArray]",Ose="[object Uint16Array]",kse="[object Uint32Array]",ot={};ot[Sse]=ot[Ase]=ot[Ise]=ot[Cse]=ot[Pse]=ot[Rse]=ot[Nse]=ot[Ose]=ot[kse]=!0;ot[cse]=ot[dse]=ot[Ese]=ot[fse]=ot[Tse]=ot[hse]=ot[pse]=ot[mse]=ot[gse]=ot[yse]=ot[vse]=ot[_se]=ot[wse]=ot[bse]=ot[xse]=!1;function Mse(t){return use(t)&&lse(t.length)&&!!ot[ase(t)]}var Dse=Mse;function Lse(t){return function(e){return t(e)}}var q$=Lse,Bp={exports:{}};Bp.exports;(function(t,e){var n=Z2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Bp,Bp.exports);var $se=Bp.exports,Fse=Dse,Vse=q$,YP=$se,XP=YP&&YP.isTypedArray,Use=XP?Vse(XP):Fse,H$=Use,jse=Goe,Bse=kE,zse=Un,Gse=G$,qse=ME,Hse=H$,Wse=Object.prototype,Kse=Wse.hasOwnProperty;function Jse(t,e){var n=zse(t),r=!n&&Bse(t),i=!n&&!r&&Gse(t),o=!n&&!r&&!i&&Hse(t),s=n||r||i||o,a=s?jse(t.length,String):[],l=a.length;for(var u in t)(e||Kse.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qse(u,l)))&&a.push(u);return a}var Yse=Jse,Xse=Object.prototype;function Qse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xse;return t===n}var Zse=Qse;function eae(t,e){return function(n){return t(e(n))}}var W$=eae,tae=W$,nae=tae(Object.keys,Object),rae=nae,iae=Zse,oae=rae,sae=Object.prototype,aae=sae.hasOwnProperty;function lae(t){if(!iae(t))return oae(t);var e=[];for(var n in Object(t))aae.call(t,n)&&n!="constructor"&&e.push(n);return e}var uae=lae,cae=gE,dae=DE;function fae(t){return t!=null&&dae(t.length)&&!cae(t)}var rf=fae,hae=Yse,pae=uae,mae=rf;function gae(t){return mae(t)?hae(t):pae(t)}var Hg=gae,yae=Ooe,vae=Boe,_ae=Hg;function wae(t){return yae(t,_ae,vae)}var bae=wae,QP=bae,xae=1,Eae=Object.prototype,Tae=Eae.hasOwnProperty;function Sae(t,e,n,r,i,o){var s=n&xae,a=QP(t),l=a.length,u=QP(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:Tae.call(e,h)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var w=!0;o.set(t,e),o.set(e,t);for(var v=s;++d<l;){h=a[d];var b=t[h],x=e[h];if(r)var S=s?r(x,b,h,e,t,o):r(b,x,h,t,e,o);if(!(S===void 0?b===x||i(b,x,n,r,o):S)){w=!1;break}v||(v=h=="constructor")}if(w&&!v){var P=t.constructor,E=e.constructor;P!=E&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof E=="function"&&E instanceof E)&&(w=!1)}return o.delete(t),o.delete(e),w}var Aae=Sae,Iae=na,Cae=ai,Pae=Iae(Cae,"DataView"),Rae=Pae,Nae=na,Oae=ai,kae=Nae(Oae,"Promise"),Mae=kae,Dae=na,Lae=ai,$ae=Dae(Lae,"Set"),K$=$ae,Fae=na,Vae=ai,Uae=Fae(Vae,"WeakMap"),jae=Uae,Z_=Rae,ew=vE,tw=Mae,nw=K$,rw=jae,J$=Ki,ou=t$,ZP="[object Map]",Bae="[object Object]",e1="[object Promise]",t1="[object Set]",n1="[object WeakMap]",r1="[object DataView]",zae=ou(Z_),Gae=ou(ew),qae=ou(tw),Hae=ou(nw),Wae=ou(rw),cs=J$;(Z_&&cs(new Z_(new ArrayBuffer(1)))!=r1||ew&&cs(new ew)!=ZP||tw&&cs(tw.resolve())!=e1||nw&&cs(new nw)!=t1||rw&&cs(new rw)!=n1)&&(cs=function(t){var e=J$(t),n=e==Bae?t.constructor:void 0,r=n?ou(n):"";if(r)switch(r){case zae:return r1;case Gae:return ZP;case qae:return e1;case Hae:return t1;case Wae:return n1}return e});var Kae=cs,Pv=$$,Jae=j$,Yae=Ioe,Xae=Aae,i1=Kae,o1=Un,s1=G$,Qae=H$,Zae=1,a1="[object Arguments]",l1="[object Array]",th="[object Object]",ele=Object.prototype,u1=ele.hasOwnProperty;function tle(t,e,n,r,i,o){var s=o1(t),a=o1(e),l=s?l1:i1(t),u=a?l1:i1(e);l=l==a1?th:l,u=u==a1?th:u;var c=l==th,d=u==th,h=l==u;if(h&&s1(t)){if(!s1(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new Pv),s||Qae(t)?Jae(t,e,n,r,i,o):Yae(t,e,l,n,r,i,o);if(!(n&Zae)){var g=c&&u1.call(t,"__wrapped__"),y=d&&u1.call(e,"__wrapped__");if(g||y){var w=g?t.value():t,v=y?e.value():e;return o||(o=new Pv),i(w,v,n,r,o)}}return h?(o||(o=new Pv),Xae(t,e,n,r,i,o)):!1}var nle=tle,rle=nle,c1=Ji;function Y$(t,e,n,r,i){return t===e?!0:t==null||e==null||!c1(t)&&!c1(e)?t!==t&&e!==e:rle(t,e,n,r,Y$,i)}var LE=Y$,ile=$$,ole=LE,sle=1,ale=2;function lle(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new ile;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?ole(c,u,sle|ale,r,d):h))return!1}}return!0}var ule=lle,cle=qo;function dle(t){return t===t&&!cle(t)}var X$=dle,fle=X$,hle=Hg;function ple(t){for(var e=hle(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fle(i)]}return e}var mle=ple;function gle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Q$=gle,yle=ule,vle=mle,_le=Q$;function wle(t){var e=vle(t);return e.length==1&&e[0][2]?_le(e[0][0],e[0][1]):function(n){return n===t||yle(n,t,e)}}var ble=wle;function xle(t,e){return t!=null&&e in Object(t)}var Ele=xle,Tle=s$,Sle=kE,Ale=Un,Ile=ME,Cle=DE,Ple=Ng;function Rle(t,e,n){e=Tle(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Ple(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Cle(i)&&Ile(s,i)&&(Ale(t)||Sle(t)))}var Nle=Rle,Ole=Ele,kle=Nle;function Mle(t,e){return t!=null&&kle(t,e,Ole)}var Dle=Mle,Lle=LE,$le=a$,Fle=Dle,Vle=mE,Ule=X$,jle=Q$,Ble=Ng,zle=1,Gle=2;function qle(t,e){return Vle(t)&&Ule(e)?jle(Ble(t),e):function(n){var r=$le(n,t);return r===void 0&&r===e?Fle(n,t):Lle(e,r,zle|Gle)}}var Hle=qle;function Wle(t){return t}var su=Wle;function Kle(t){return function(e){return e==null?void 0:e[t]}}var Jle=Kle,Yle=xE;function Xle(t){return function(e){return Yle(e,t)}}var Qle=Xle,Zle=Jle,eue=Qle,tue=mE,nue=Ng;function rue(t){return tue(t)?Zle(nue(t)):eue(t)}var iue=rue,oue=ble,sue=Hle,aue=su,lue=Un,uue=iue;function cue(t){return typeof t=="function"?t:t==null?aue:typeof t=="object"?lue(t)?sue(t[0],t[1]):oue(t):uue(t)}var Ho=cue;function due(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Z$=due;function fue(t){return t!==t}var hue=fue;function pue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var mue=pue,gue=Z$,yue=hue,vue=mue;function _ue(t,e,n){return e===e?vue(t,e,n):gue(t,yue,n)}var wue=_ue,bue=wue;function xue(t,e){var n=t==null?0:t.length;return!!n&&bue(t,e,0)>-1}var Eue=xue;function Tue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Sue=Tue;function Aue(){}var Iue=Aue,Rv=K$,Cue=Iue,Pue=OE,Rue=1/0,Nue=Rv&&1/Pue(new Rv([,-0]))[1]==Rue?function(t){return new Rv(t)}:Cue,Oue=Nue,kue=F$,Mue=Eue,Due=Sue,Lue=U$,$ue=Oue,Fue=OE,Vue=200;function Uue(t,e,n){var r=-1,i=Mue,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Due;else if(o>=Vue){var u=e?null:$ue(t);if(u)return Fue(u);s=!1,i=Lue,l=new kue}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var jue=Uue,Bue=Ho,zue=jue;function Gue(t,e){return t&&t.length?zue(t,Bue(e)):[]}var que=Gue;const d1=Je(que);function eF(t,e,n){return e===!0?d1(t,n):Te(e)?d1(t,e):t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var Hue=["ref"];function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nF(r.key),r)}}function Kue(t,e,n){return e&&h1(t.prototype,e),n&&h1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jue(t,e,n){return e=zp(e),Yue(t,tF()?Reflect.construct(e,n||[],zp(t).constructor):e.apply(t,n))}function Yue(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(t)}function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function Wg(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nF(t){var e=Zue(t,"string");return wl(e)=="symbol"?e:e+""}function Zue(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ece(t,e){if(t==null)return{};var n=tce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nce(t){return t.value}function rce(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var n=ece(e,Hue);return F.createElement(NE,n)}var p1=1,tl=function(t){function e(){var n;Wue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Jue(this,e,[].concat(i)),Wg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Que(e,t),Kue(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>p1||Math.abs(i.height-this.lastBoundingBox.height)>p1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return di(di({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=di(di({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},rce(o,di(di({},this.props),{},{payload:eF(c,u,nce)})))}}],[{key:"getWithHeight",value:function(r,i){var o=di(di({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ne(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Wg(tl,"displayName","Legend");Wg(tl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var m1=tf,ice=kE,oce=Un,g1=m1?m1.isConcatSpreadable:void 0;function sce(t){return oce(t)||ice(t)||!!(g1&&t&&t[g1])}var ace=sce,lce=B$,uce=ace;function rF(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=uce),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?rF(a,e-1,n,r,i):lce(i,a):r||(i[i.length]=a)}return i}var iF=rF;function cce(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var dce=cce,fce=dce,hce=fce(),pce=hce,mce=pce,gce=Hg;function yce(t,e){return t&&mce(t,e,gce)}var oF=yce,vce=rf;function _ce(t,e){return function(n,r){if(n==null)return n;if(!vce(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var wce=_ce,bce=oF,xce=wce,Ece=xce(bce),$E=Ece,Tce=$E,Sce=rf;function Ace(t,e){var n=-1,r=Sce(t)?Array(t.length):[];return Tce(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var sF=Ace;function Ice(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Cce=Ice,y1=Ql;function Pce(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=y1(t),s=e!==void 0,a=e===null,l=e===e,u=y1(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Rce=Pce,Nce=Rce;function Oce(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Nce(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var kce=Oce,Nv=bE,Mce=xE,Dce=Ho,Lce=sF,$ce=Cce,Fce=q$,Vce=kce,Uce=su,jce=Un;function Bce(t,e,n){e.length?e=Nv(e,function(o){return jce(o)?function(s){return Mce(s,o.length===1?o[0]:o)}:o}):e=[Uce];var r=-1;e=Nv(e,Fce(Dce));var i=Lce(t,function(o,s,a){var l=Nv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return $ce(i,function(o,s){return Vce(o,s,n)})}var zce=Bce;function Gce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var qce=Gce,Hce=qce,v1=Math.max;function Wce(t,e,n){return e=v1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=v1(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Hce(t,this,a)}}var Kce=Wce;function Jce(t){return function(){return t}}var Yce=Jce,Xce=na,Qce=function(){try{var t=Xce(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aF=Qce,Zce=Yce,_1=aF,ede=su,tde=_1?function(t,e){return _1(t,"toString",{configurable:!0,enumerable:!1,value:Zce(e),writable:!0})}:ede,nde=tde,rde=800,ide=16,ode=Date.now;function sde(t){var e=0,n=0;return function(){var r=ode(),i=ide-(r-n);if(n=r,i>0){if(++e>=rde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ade=sde,lde=nde,ude=ade,cde=ude(lde),dde=cde,fde=su,hde=Kce,pde=dde;function mde(t,e){return pde(hde(t,e,fde),t+"")}var gde=mde,yde=yE,vde=rf,_de=ME,wde=qo;function bde(t,e,n){if(!wde(n))return!1;var r=typeof e;return(r=="number"?vde(n)&&_de(e,n.length):r=="string"&&e in n)?yde(n[e],t):!1}var Kg=bde,xde=iF,Ede=zce,Tde=gde,w1=Kg,Sde=Tde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&w1(t,e[0],e[1])?e=[]:n>2&&w1(e[0],e[1],e[2])&&(e=[e[0]]),Ede(t,xde(e,1),[])}),Ade=Sde;const FE=Je(Ade);function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function Ide(t,e){return Nde(t)||Rde(t,e)||Pde(t,e)||Cde()}function Cde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pde(t,e){if(t){if(typeof t=="string")return b1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b1(t,e)}}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Nde(t){if(Array.isArray(t))return t}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){Ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ode(t,e,n){return e=kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Mde(t,"string");return id(e)=="symbol"?e:e+""}function Mde(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dde(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var Lde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,w=e.label,v=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,S=function(){if(c&&c.length){var M={padding:0,margin:0},D=(h?FE(c,h):c).map(function(j,z){if(j.type==="none")return null;var K=Ov({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},a),X=j.formatter||d||Dde,U=j.value,W=j.name,J=U,ie=W;if(X&&J!=null&&ie!=null){var ee=X(U,W,j,z,c);if(Array.isArray(ee)){var ae=Ide(ee,2);J=ae[0],ie=ae[1]}else J=ee}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:K},Mt(ie)?F.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Mt(ie)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},J),F.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},P=Ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Ov({margin:0},u),C=!Pe(w),T=C?w:"",I=Me("recharts-default-tooltip",g),R=Me("recharts-tooltip-label",y);C&&v&&c!==void 0&&c!==null&&(T=v(w,c));var O=x?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",ow({className:I,style:P},O),F.createElement("p",{className:R,style:E},F.isValidElement(T)?T:"".concat(T)),S())};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function nh(t,e,n){return e=$de(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t){var e=Fde(t,"string");return od(e)=="symbol"?e:e+""}function Fde(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $u="recharts-tooltip-wrapper",Vde={visibility:"hidden"};function Ude(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Me($u,nh(nh(nh(nh({},"".concat($u,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat($u,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat($u,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat($u,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function E1(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var y=d+a,w=l[r]+u;return y>w?Math.max(c,l[r]):Math.max(d,l[r])}function jde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Bde(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=E1({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=E1({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=jde({translateX:c,translateY:d,useTranslate3d:a})):u=Vde,{cssProperties:u,cssClasses:Ude({translateX:c,translateY:d,coordinate:n})}}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uF(r.key),r)}}function qde(t,e,n){return e&&Gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hde(t,e,n){return e=Gp(e),Wde(t,lF()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function Wde(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kde(t)}function Kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function Jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sw(t,e)}function aw(t,e,n){return e=uF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t){var e=Yde(t,"string");return bl(e)=="symbol"?e:e+""}function Yde(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A1=1,Xde=function(t){function e(){var n;zde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Hde(this,e,[].concat(i)),aw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Jde(e,t),qde(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>A1||Math.abs(r.height-this.state.lastBoundingBox.height)>A1)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,y=i.position,w=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,S=Bde({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:g,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),P=S.cssClasses,E=S.cssProperties,C=S1(S1({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return F.createElement("div",{tabIndex:-1,className:P,style:C,ref:function(I){r.wrapperNode=I}},u)}}])}($.PureComponent),Qde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},au={isSsr:Qde()};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){VE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dF(r.key),r)}}function tfe(t,e,n){return e&&efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nfe(t,e,n){return e=qp(e),rfe(t,cF()?Reflect.construct(e,n||[],qp(t).constructor):e.apply(t,n))}function rfe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ife(t)}function ife(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function ofe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function VE(t,e,n){return e=dF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dF(t){var e=sfe(t,"string");return xl(e)=="symbol"?e:e+""}function sfe(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function afe(t){return t.dataKey}function lfe(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(Lde,e)}var Gr=function(t){function e(){return Zde(this,e),nfe(this,e,arguments)}return ofe(e,t),tfe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,y=i.payload,w=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,P=i.wrapperStyle,E=y??[];d&&E.length&&(E=eF(y.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),w,afe));var C=E.length>0;return F.createElement(Xde,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:C,offset:g,position:v,reverseDirection:b,useTranslate3d:x,viewBox:S,wrapperStyle:P},lfe(u,C1(C1({},this.props),{},{payload:E})))}}])}($.PureComponent);VE(Gr,"displayName","Tooltip");VE(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!au.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ufe=ai,cfe=function(){return ufe.Date.now()},dfe=cfe,ffe=/\s/;function hfe(t){for(var e=t.length;e--&&ffe.test(t.charAt(e)););return e}var pfe=hfe,mfe=pfe,gfe=/^\s+/;function yfe(t){return t&&t.slice(0,mfe(t)+1).replace(gfe,"")}var vfe=yfe,_fe=vfe,P1=qo,wfe=Ql,R1=NaN,bfe=/^[-+]0x[0-9a-f]+$/i,xfe=/^0b[01]+$/i,Efe=/^0o[0-7]+$/i,Tfe=parseInt;function Sfe(t){if(typeof t=="number")return t;if(wfe(t))return R1;if(P1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=P1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_fe(t);var n=xfe.test(t);return n||Efe.test(t)?Tfe(t.slice(2),n?2:8):bfe.test(t)?R1:+t}var fF=Sfe,Afe=qo,kv=dfe,N1=fF,Ife="Expected a function",Cfe=Math.max,Pfe=Math.min;function Rfe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Ife);e=N1(e)||0,Afe(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Cfe(N1(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(C){var T=r,I=i;return r=i=void 0,u=C,s=t.apply(I,T),s}function y(C){return u=C,a=setTimeout(b,e),c?g(C):s}function w(C){var T=C-l,I=C-u,R=e-T;return d?Pfe(R,o-I):R}function v(C){var T=C-l,I=C-u;return l===void 0||T>=e||T<0||d&&I>=o}function b(){var C=kv();if(v(C))return x(C);a=setTimeout(b,w(C))}function x(C){return a=void 0,h&&r?g(C):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function P(){return a===void 0?s:x(kv())}function E(){var C=kv(),T=v(C);if(r=arguments,i=this,l=C,T){if(a===void 0)return y(l);if(d)return clearTimeout(a),a=setTimeout(b,e),g(l)}return a===void 0&&(a=setTimeout(b,e)),s}return E.cancel=S,E.flush=P,E}var Nfe=Rfe,Ofe=Nfe,kfe=qo,Mfe="Expected a function";function Dfe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Mfe);return kfe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ofe(t,e,{leading:r,maxWait:e,trailing:i})}var Lfe=Dfe;const hF=Je(Lfe);function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){$fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $fe(t,e,n){return e=Ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t){var e=Vfe(t,"string");return sd(e)=="symbol"?e:e+""}function Vfe(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ufe(t,e){return Gfe(t)||zfe(t,e)||Bfe(t,e)||jfe()}function jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(t,e){if(t){if(typeof t=="string")return k1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(t,e)}}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Gfe(t){if(Array.isArray(t))return t}var qfe=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,y=t.debounce,w=y===void 0?0:y,v=t.id,b=t.className,x=t.onResize,S=t.style,P=S===void 0?{}:S,E=$.useRef(null),C=$.useRef();C.current=x,$.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=$.useState({containerWidth:i.width,containerHeight:i.height}),I=Ufe(T,2),R=I[0],O=I[1],k=$.useCallback(function(D,j){O(function(z){var K=Math.round(D),X=Math.round(j);return z.containerWidth===K&&z.containerHeight===X?z:{containerWidth:K,containerHeight:X}})},[]);$.useEffect(function(){var D=function(W){var J,ie=W[0].contentRect,ee=ie.width,ae=ie.height;k(ee,ae),(J=C.current)===null||J===void 0||J.call(C,ee,ae)};w>0&&(D=hF(D,w,{trailing:!0,leading:!1}));var j=new ResizeObserver(D),z=E.current.getBoundingClientRect(),K=z.width,X=z.height;return k(K,X),j.observe(E.current),function(){j.disconnect()}},[k,w]);var M=$.useMemo(function(){var D=R.containerWidth,j=R.containerHeight;if(D<0||j<0)return null;Ci(ws(s)||ws(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ci(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=ws(s)?D:s,K=ws(l)?j:l;n&&n>0&&(z?K=z/n:K&&(z=K*n),h&&K>h&&(K=h)),Ci(z>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,K,s,l,c,d,n);var X=!Array.isArray(g)&&Ii(g.type).endsWith("Chart");return F.Children.map(g,function(U){return F.isValidElement(U)?$.cloneElement(U,rh({width:z,height:K},X?{style:rh({height:"100%",width:"100%",maxHeight:K,maxWidth:z},U.props.style)}:{})):U})},[n,g,l,h,d,c,R,s]);return F.createElement("div",{id:v?"".concat(v):void 0,className:Me("recharts-responsive-container",b),style:rh(rh({},P),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:E},M)}),pF=function(e){return null};pF.displayName="Cell";function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return e=Wfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Kfe(t,"string");return ad(e)=="symbol"?e:e+""}function Kfe(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ha={widthCache:{},cacheCount:0},Jfe=2e3,Yfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D1="recharts_measurement_span";function Xfe(t){var e=uw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _c=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||au.isSsr)return{width:0,height:0};var r=Xfe(n),i=JSON.stringify({text:e,copyStyle:r});if(ha.widthCache[i])return ha.widthCache[i];try{var o=document.getElementById(D1);o||(o=document.createElement("span"),o.setAttribute("id",D1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=uw(uw({},Yfe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ha.widthCache[i]=l,++ha.cacheCount>Jfe&&(ha.cacheCount=0,ha.widthCache={}),l}catch{return{width:0,height:0}}},Qfe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function Hp(t,e){return nhe(t)||the(t,e)||ehe(t,e)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ehe(t,e){if(t){if(typeof t=="string")return L1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L1(t,e)}}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function the(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function nhe(t){if(Array.isArray(t))return t}function rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ohe(r.key),r)}}function ihe(t,e,n){return e&&$1(t.prototype,e),n&&$1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ohe(t){var e=she(t,"string");return ld(e)=="symbol"?e:e+""}function she(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,V1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ahe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uhe=Object.keys(mF),Fa="NaN";function che(t,e){return t*mF[e]}var ih=function(){function t(e,n){rhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ahe.test(n)&&(this.num=NaN,this.unit=""),uhe.includes(n)&&(this.num=che(e,n),this.unit="px")}return ihe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lhe.exec(n))!==null&&r!==void 0?r:[],o=Hp(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function gF(t){if(t.includes(Fa))return Fa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=F1.exec(e))!==null&&n!==void 0?n:[],i=Hp(r,4),o=i[1],s=i[2],a=i[3],l=ih.parse(o??""),u=ih.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Fa;e=e.replace(F1,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=V1.exec(e))!==null&&d!==void 0?d:[],g=Hp(h,4),y=g[1],w=g[2],v=g[3],b=ih.parse(y??""),x=ih.parse(v??""),S=w==="+"?b.add(x):b.subtract(x);if(S.isNaN())return Fa;e=e.replace(V1,S.toString())}return e}var U1=/\(([^()]*)\)/;function dhe(t){for(var e=t;e.includes("(");){var n=U1.exec(e),r=Hp(n,2),i=r[1];e=e.replace(U1,gF(i))}return e}function fhe(t){var e=t.replace(/\s+/g,"");return e=dhe(e),e=gF(e),e}function hhe(t){try{return fhe(t)}catch{return Fa}}function Mv(t){var e=hhe(t.slice(5,-1));return e===Fa?"":e}var phe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mhe=["dx","dy","angle","className","breakAll"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function j1(t,e){if(t==null)return{};var n=ghe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ghe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B1(t,e){return whe(t)||_he(t,e)||vhe(t,e)||yhe()}function yhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vhe(t,e){if(t){if(typeof t=="string")return z1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z1(t,e)}}function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _he(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function whe(t){if(Array.isArray(t))return t}var yF=/[ \f\n\r\t\v\u2028\u2029]+/,vF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Pe(n)||(r?o=n.toString().split(""):o=n.toString().split(yF));var s=o.map(function(l){return{word:l,width:_c(l,i).width}}),a=r?0:_c("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},bhe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ne(s),d=a,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(K,X){var U=X.word,W=X.width,J=K[K.length-1];if(J&&(i==null||o||J.width+W+r<Number(i)))J.words.push(U),J.width+=W+r;else{var ie={words:[U],width:W};K.push(ie)}return K},[])},g=h(n),y=function(z){return z.reduce(function(K,X){return K.width>X.width?K:X})};if(!c)return g;for(var w="",v=function(z){var K=d.slice(0,z),X=vF({breakAll:u,style:l,children:K+w}).wordsWithComputedWidth,U=h(X),W=U.length>s||y(U).width>Number(i);return[W,U]},b=0,x=d.length-1,S=0,P;b<=x&&S<=d.length-1;){var E=Math.floor((b+x)/2),C=E-1,T=v(C),I=B1(T,2),R=I[0],O=I[1],k=v(E),M=B1(k,1),D=M[0];if(!R&&!D&&(b=E+1),R&&D&&(x=E-1),!R&&D){P=O;break}S++}return P||g},G1=function(e){var n=Pe(e)?[]:e.toString().split(yF);return[{words:n}]},xhe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!au.isSsr){var l,u,c=vF({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return G1(i);return bhe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return G1(i)},q1="#808080",Wp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,y=e.verticalAnchor,w=y===void 0?"end":y,v=e.fill,b=v===void 0?q1:v,x=j1(e,phe),S=$.useMemo(function(){return xhe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),P=x.dx,E=x.dy,C=x.angle,T=x.className,I=x.breakAll,R=j1(x,mhe);if(!Mt(r)||!Mt(o))return null;var O=r+(ne(P)?P:0),k=o+(ne(E)?E:0),M;switch(w){case"start":M=Mv("calc(".concat(u,")"));break;case"middle":M=Mv("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:M=Mv("calc(".concat(S.length-1," * -").concat(a,")"));break}var D=[];if(d){var j=S[0].width,z=x.width;D.push("scale(".concat((ne(z)?z/j:1)/j,")"))}return C&&D.push("rotate(".concat(C,", ").concat(O,", ").concat(k,")")),D.length&&(R.transform=D.join(" ")),F.createElement("text",cw({},Ae(R,!0),{x:O,y:k,className:Me("recharts-text",T),textAnchor:g,fill:b.includes("url")?q1:b}),S.map(function(K,X){var U=K.words.join(I?"":" ");return F.createElement("tspan",{x:O,dy:X===0?M:a,key:"".concat(U,"-").concat(X)},U)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ehe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UE(t){let e,n,r;t.length!==2?(e=No,n=(a,l)=>No(t(a),l),r=(a,l)=>t(a)-l):(e=t===No||t===Ehe?t:The,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function The(){return 0}function _F(t){return t===null?NaN:+t}function*She(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ahe=UE(No),of=Ahe.right;UE(_F).center;class H1 extends Map{constructor(e,n=Phe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(W1(this,e))}has(e){return super.has(W1(this,e))}set(e,n){return super.set(Ihe(this,e),n)}delete(e){return super.delete(Che(this,e))}}function W1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ihe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Che({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Phe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rhe(t=No){if(t===No)return wF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nhe=Math.sqrt(50),Ohe=Math.sqrt(10),khe=Math.sqrt(2);function Kp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Nhe?10:o>=Ohe?5:o>=khe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Kp(t,e,n*2):[a,l,u]}function dw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Kp(e,t,n):Kp(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function fw(t,e,n){return e=+e,t=+t,n=+n,Kp(t,e,n)[2]}function hw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fw(e,t,n):fw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function K1(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function J1(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wF:Rhe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),y=Math.min(r,Math.floor(e+(l-u)*d/l+h));bF(t,e,g,y,i)}const o=t[e];let s=n,a=r;for(Fu(t,n,e),i(t[r],o)>0&&Fu(t,n,r);s<a;){for(Fu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Fu(t,n,a):(++a,Fu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Fu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Mhe(t,e,n){if(t=Float64Array.from(She(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return J1(t);if(e>=1)return K1(t);var r,i=(r-1)*e,o=Math.floor(i),s=K1(bF(t,o).subarray(0,o+1)),a=J1(t.subarray(o+1));return s+(a-s)*(i-o)}}function Dhe(t,e,n=_F){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Lhe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pw=Symbol("implicit");function jE(){var t=new H1,e=[],n=[],r=pw;function i(o){let s=t.get(o);if(s===void 0){if(r!==pw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new H1;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jE(e,n).unknown(r)},wr.apply(i,arguments),i}function ud(){var t=jE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,y=g?i:r,w=g?r:i;o=(w-y)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),y+=(w-y-o*(h-l))*c,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var v=Lhe(h).map(function(b){return y+o*b});return n(g?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return ud(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},wr.apply(d(),arguments)}function xF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xF(e())},t}function wc(){return xF(ud.apply(null,arguments).paddingInner(1))}function BE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sf(){}var cd=.7,Jp=1/cd,nl="\\s*([+-]?\\d+)\\s*",dd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$he=/^#([0-9a-f]{3,8})$/,Fhe=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),Vhe=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),Uhe=new RegExp(`^rgba\\(${nl},${nl},${nl},${dd}\\)$`),jhe=new RegExp(`^rgba\\(${ti},${ti},${ti},${dd}\\)$`),Bhe=new RegExp(`^hsl\\(${dd},${ti},${ti}\\)$`),zhe=new RegExp(`^hsla\\(${dd},${ti},${ti},${dd}\\)$`),Y1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BE(sf,fd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:X1,formatHex:X1,formatHex8:Ghe,formatHsl:qhe,formatRgb:Q1,toString:Q1});function X1(){return this.rgb().formatHex()}function Ghe(){return this.rgb().formatHex8()}function qhe(){return TF(this).formatHsl()}function Q1(){return this.rgb().formatRgb()}function fd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$he.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Z1(e):n===3?new Dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fhe.exec(t))?new Dn(e[1],e[2],e[3],1):(e=Vhe.exec(t))?new Dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Uhe.exec(t))?oh(e[1],e[2],e[3],e[4]):(e=jhe.exec(t))?oh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bhe.exec(t))?nR(e[1],e[2]/100,e[3]/100,1):(e=zhe.exec(t))?nR(e[1],e[2]/100,e[3]/100,e[4]):Y1.hasOwnProperty(t)?Z1(Y1[t]):t==="transparent"?new Dn(NaN,NaN,NaN,0):null}function Z1(t){return new Dn(t>>16&255,t>>8&255,t&255,1)}function oh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dn(t,e,n,r)}function Hhe(t){return t instanceof sf||(t=fd(t)),t?(t=t.rgb(),new Dn(t.r,t.g,t.b,t.opacity)):new Dn}function mw(t,e,n,r){return arguments.length===1?Hhe(t):new Dn(t,e,n,r??1)}function Dn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BE(Dn,mw,EF(sf,{brighter(t){return t=t==null?Jp:Math.pow(Jp,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cd:Math.pow(cd,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dn(Ps(this.r),Ps(this.g),Ps(this.b),Yp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eR,formatHex:eR,formatHex8:Whe,formatRgb:tR,toString:tR}));function eR(){return`#${bs(this.r)}${bs(this.g)}${bs(this.b)}`}function Whe(){return`#${bs(this.r)}${bs(this.g)}${bs(this.b)}${bs((isNaN(this.opacity)?1:this.opacity)*255)}`}function tR(){const t=Yp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ps(this.r)}, ${Ps(this.g)}, ${Ps(this.b)}${t===1?")":`, ${t})`}`}function Yp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ps(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bs(t){return t=Ps(t),(t<16?"0":"")+t.toString(16)}function nR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cr(t,e,n,r)}function TF(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof sf||(t=fd(t)),!t)return new Cr;if(t instanceof Cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Cr(s,a,l,t.opacity)}function Khe(t,e,n,r){return arguments.length===1?TF(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BE(Cr,Khe,EF(sf,{brighter(t){return t=t==null?Jp:Math.pow(Jp,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cd:Math.pow(cd,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dn(Dv(t>=240?t-240:t+120,i,r),Dv(t,i,r),Dv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(rR(this.h),sh(this.s),sh(this.l),Yp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yp(this.opacity);return`${t===1?"hsl(":"hsla("}${rR(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rR(t){return t=(t||0)%360,t<0?t+360:t}function sh(t){return Math.max(0,Math.min(1,t||0))}function Dv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zE=t=>()=>t;function Jhe(t,e){return function(n){return t+n*e}}function Yhe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xhe(t){return(t=+t)==1?SF:function(e,n){return n-e?Yhe(e,n,t):zE(isNaN(e)?n:e)}}function SF(t,e){var n=e-t;return n?Jhe(t,n):zE(isNaN(t)?e:t)}const iR=function t(e){var n=Xhe(e);function r(i,o){var s=n((i=mw(i)).r,(o=mw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=SF(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Qhe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Zhe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function epe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=lu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function tpe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function npe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lv=new RegExp(gw.source,"g");function rpe(t){return function(){return t}}function ipe(t){return function(e){return t(e)+""}}function ope(t,e){var n=gw.lastIndex=Lv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=gw.exec(t))&&(i=Lv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Xp(r,i)})),n=Lv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?ipe(l[0].x):rpe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function lu(t,e){var n=typeof e,r;return e==null||n==="boolean"?zE(e):(n==="number"?Xp:n==="string"?(r=fd(e))?(e=r,iR):ope:e instanceof fd?iR:e instanceof Date?tpe:Zhe(e)?Qhe:Array.isArray(e)?epe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?npe:Xp)(t,e)}function GE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function spe(t,e){e===void 0&&(e=t,t=lu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function ape(t){return function(){return t}}function Qp(t){return+t}var oR=[0,1];function En(t){return t}function yw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ape(isNaN(e)?NaN:.5)}function lpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function upe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=yw(i,r),o=n(s,o)):(r=yw(r,i),o=n(o,s)),function(a){return o(r(a))}}function cpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=yw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=of(t,a,1,r)-1;return o[l](i[l](a))}}function af(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jg(){var t=oR,e=oR,n=lu,r,i,o,s=En,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==En&&(s=lpe(t[0],t[h-1])),a=h>2?cpe:upe,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),Xp)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Qp),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=GE,c()},d.clamp=function(h){return arguments.length?(s=h?!0:En,c()):s!==En},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function qE(){return Jg()(En,En)}function dpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function El(t){return t=Zp(Math.abs(t)),t?t[1]:NaN}function fpe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function hpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ppe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hd(t){if(!(e=ppe.exec(t)))throw new Error("invalid format: "+t);var e;return new HE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hd.prototype=HE.prototype;function HE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}HE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var em;function gpe(t,e){var n=Zp(t,e);if(!n)return em=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(em=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zp(t,Math.max(0,e+o-1))[0]}function sR(t,e){var n=Zp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sR(t*100,e),r:sR,s:gpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lR(t){return t}var uR=Array.prototype.map,cR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ype(t){var e=t.grouping===void 0||t.thousands===void 0?lR:fpe(uR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?lR:hpe(uR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=hd(d);var g=d.fill,y=d.align,w=d.sign,v=d.symbol,b=d.zero,x=d.width,S=d.comma,P=d.precision,E=d.trim,C=d.type;C==="n"?(S=!0,C="g"):aR[C]||(P===void 0&&(P=12),E=!0,C="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var T=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),I=(v==="$"?r:/[%p]/.test(C)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),R=aR[C],O=/[defgprs%]/.test(C);P=P===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function k(M){var D=T,j=I,z,K,X;if(C==="c")j=R(M)+j,M="";else{M=+M;var U=M<0||1/M<0;if(M=isNaN(M)?l:R(Math.abs(M),P),E&&(M=mpe(M)),U&&+M==0&&w!=="+"&&(U=!1),D=(U?w==="("?w:a:w==="-"||w==="("?"":w)+D,j=(C==="s"&&!isNaN(M)&&em!==void 0?cR[8+em/3]:"")+j+(U&&w==="("?")":""),O){for(z=-1,K=M.length;++z<K;)if(X=M.charCodeAt(z),48>X||X>57){j=(X===46?i+M.slice(z+1):M.slice(z))+j,M=M.slice(0,z);break}}}S&&!b&&(M=e(M,1/0));var W=D.length+M.length+j.length,J=W<x?new Array(x-W+1).join(g):"";switch(S&&b&&(M=e(J+M,J.length?x-j.length:1/0),J=""),y){case"<":M=D+M+j+J;break;case"=":M=D+J+M+j;break;case"^":M=J.slice(0,W=J.length>>1)+D+M+j+J.slice(W);break;default:M=J+D+M+j;break}return o(M)}return k.toString=function(){return d+""},k}function c(d,h){var g=Math.max(-8,Math.min(8,Math.floor(El(h)/3)))*3,y=Math.pow(10,-g),w=u((d=hd(d),d.type="f",d),{suffix:cR[8+g/3]});return function(v){return w(y*v)}}return{format:u,formatPrefix:c}}var ah,WE,AF;vpe({thousands:",",grouping:[3],currency:["$",""]});function vpe(t){return ah=ype(t),WE=ah.format,AF=ah.formatPrefix,ah}function _pe(t){return Math.max(0,-El(Math.abs(t)))}function wpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(El(e)/3)))*3-El(Math.abs(t)))}function bpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,El(e)-El(t))+1}function IF(t,e,n,r){var i=hw(t,e,n),o;switch(r=hd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=wpe(i,s))&&(r.precision=o),AF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=_pe(i))&&(r.precision=o-(r.type==="%")*2);break}}return WE(r)}function Wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return dw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return IF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=fw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function tm(){var t=qE();return t.copy=function(){return af(t,tm())},wr.apply(t,arguments),Wo(t)}function CF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return CF(t).unknown(e)},t=arguments.length?Array.from(t,Qp):[0,1],Wo(n)}function PF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function dR(t){return Math.log(t)}function fR(t){return Math.exp(t)}function xpe(t){return-Math.log(-t)}function Epe(t){return-Math.exp(-t)}function Tpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Spe(t){return t===10?Tpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ape(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hR(t){return(e,n)=>-t(-e,n)}function KE(t){const e=t(dR,fR),n=e.domain;let r=10,i,o;function s(){return i=Ape(r),o=Spe(r),n()[0]<0?(i=hR(i),o=hR(o),t(xpe,Epe)):t(dR,fR),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),y,w;const v=a==null?10:+a;let b=[];if(!(r%1)&&g-h<v){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<r;++y)if(w=h<0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;b.push(w)}}else for(;h<=g;++h)for(y=r-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;b.push(w)}b.length*2<v&&(b=dw(u,c,v))}else b=dw(h,g,Math.min(g-h,v)).map(o);return d?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hd(l)).precision==null&&(l.trim=!0),l=WE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(PF(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function RF(){const t=KE(Jg()).domain([1,10]);return t.copy=()=>af(t,RF()).base(t.base()),wr.apply(t,arguments),t}function pR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function JE(t){var e=1,n=t(pR(e),mR(e));return n.constant=function(r){return arguments.length?t(pR(e=+r),mR(e)):e},Wo(n)}function NF(){var t=JE(Jg());return t.copy=function(){return af(t,NF()).constant(t.constant())},wr.apply(t,arguments)}function gR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ipe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cpe(t){return t<0?-t*t:t*t}function YE(t){var e=t(En,En),n=1;function r(){return n===1?t(En,En):n===.5?t(Ipe,Cpe):t(gR(n),gR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(e)}function XE(){var t=YE(Jg());return t.copy=function(){return af(t,XE()).exponent(t.exponent())},wr.apply(t,arguments),t}function Ppe(){return XE.apply(null,arguments).exponent(.5)}function yR(t){return Math.sign(t)*t*t}function Rpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OF(){var t=qE(),e=[0,1],n=!1,r;function i(o){var s=Rpe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(yR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qp)).map(yR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return OF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wr.apply(i,arguments),Wo(i)}function kF(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Dhe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[of(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return kF().domain(t).range(e).unknown(r)},wr.apply(o,arguments)}function MF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[of(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return MF().domain([t,e]).range(i).unknown(o)},wr.apply(Wo(s),arguments)}function DF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[of(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return DF().domain(t).range(e).unknown(n)},wr.apply(i,arguments)}const $v=new Date,Fv=new Date;function Lt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Lt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>($v.setTime(+o),Fv.setTime(+s),t($v),t(Fv),Math.floor(n($v,Fv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const nm=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);nm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):nm);nm.range;const wi=1e3,ur=wi*60,bi=ur*60,Ui=bi*24,QE=Ui*7,vR=Ui*30,Vv=Ui*365,xs=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCSeconds());xs.range;const ZE=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getMinutes());ZE.range;const eT=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getUTCMinutes());eT.range;const tT=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi-t.getMinutes()*ur)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getHours());tT.range;const nT=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCHours());nT.range;const lf=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ur)/Ui,t=>t.getDate()-1);lf.range;const Yg=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ui,t=>t.getUTCDate()-1);Yg.range;const LF=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ui,t=>Math.floor(t/Ui));LF.range;function ra(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ur)/QE)}const Xg=ra(0),rm=ra(1),Npe=ra(2),Ope=ra(3),Tl=ra(4),kpe=ra(5),Mpe=ra(6);Xg.range;rm.range;Npe.range;Ope.range;Tl.range;kpe.range;Mpe.range;function ia(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/QE)}const Qg=ia(0),im=ia(1),Dpe=ia(2),Lpe=ia(3),Sl=ia(4),$pe=ia(5),Fpe=ia(6);Qg.range;im.range;Dpe.range;Lpe.range;Sl.range;$pe.range;Fpe.range;const rT=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rT.range;const iT=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iT.range;const ji=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ji.range;const Bi=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bi.range;function $F(t,e,n,r,i,o){const s=[[xs,1,wi],[xs,5,5*wi],[xs,15,15*wi],[xs,30,30*wi],[o,1,ur],[o,5,5*ur],[o,15,15*ur],[o,30,30*ur],[i,1,bi],[i,3,3*bi],[i,6,6*bi],[i,12,12*bi],[r,1,Ui],[r,2,2*Ui],[n,1,QE],[e,1,vR],[e,3,3*vR],[t,1,Vv]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),y=g?g.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,g=UE(([,,v])=>v).right(s,h);if(g===s.length)return t.every(hw(u/Vv,c/Vv,d));if(g===0)return nm.every(Math.max(hw(u,c,d),1));const[y,w]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return y.every(w)}return[a,l]}const[Vpe,Upe]=$F(Bi,iT,Qg,LF,nT,eT),[jpe,Bpe]=$F(ji,rT,Xg,lf,tT,ZE);function Uv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function zpe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Uu(i),c=ju(i),d=Uu(o),h=ju(o),g=Uu(s),y=ju(s),w=Uu(a),v=ju(a),b=Uu(l),x=ju(l),S={a:X,A:U,b:W,B:J,c:null,d:TR,e:TR,f:fme,g:xme,G:Tme,H:ume,I:cme,j:dme,L:FF,m:hme,M:pme,p:ie,q:ee,Q:IR,s:CR,S:mme,u:gme,U:yme,V:vme,w:_me,W:wme,x:null,X:null,y:bme,Y:Eme,Z:Sme,"%":AR},P={a:ae,A:Se,b:De,B:et,c:null,d:SR,e:SR,f:Pme,g:Vme,G:jme,H:Ame,I:Ime,j:Cme,L:UF,m:Rme,M:Nme,p:xt,q:Pt,Q:IR,s:CR,S:Ome,u:kme,U:Mme,V:Dme,w:Lme,W:$me,x:null,X:null,y:Fme,Y:Ume,Z:Bme,"%":AR},E={a:O,A:k,b:M,B:D,c:j,d:xR,e:xR,f:ome,g:bR,G:wR,H:ER,I:ER,j:tme,L:ime,m:eme,M:nme,p:R,q:Zpe,Q:ame,s:lme,S:rme,u:Kpe,U:Jpe,V:Ype,w:Wpe,W:Xpe,x:z,X:K,y:bR,Y:wR,Z:Qpe,"%":sme};S.x=C(n,S),S.X=C(r,S),S.c=C(e,S),P.x=C(n,P),P.X=C(r,P),P.c=C(e,P);function C(oe,me){return function(ge){var Q=[],je=-1,Ee=0,tt=oe.length,nt,$t,Zn;for(ge instanceof Date||(ge=new Date(+ge));++je<tt;)oe.charCodeAt(je)===37&&(Q.push(oe.slice(Ee,je)),($t=_R[nt=oe.charAt(++je)])!=null?nt=oe.charAt(++je):$t=nt==="e"?" ":"0",(Zn=me[nt])&&(nt=Zn(ge,$t)),Q.push(nt),Ee=je+1);return Q.push(oe.slice(Ee,je)),Q.join("")}}function T(oe,me){return function(ge){var Q=Vu(1900,void 0,1),je=I(Q,oe,ge+="",0),Ee,tt;if(je!=ge.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(me&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ee=jv(Vu(Q.y,0,1)),tt=Ee.getUTCDay(),Ee=tt>4||tt===0?im.ceil(Ee):im(Ee),Ee=Yg.offset(Ee,(Q.V-1)*7),Q.y=Ee.getUTCFullYear(),Q.m=Ee.getUTCMonth(),Q.d=Ee.getUTCDate()+(Q.w+6)%7):(Ee=Uv(Vu(Q.y,0,1)),tt=Ee.getDay(),Ee=tt>4||tt===0?rm.ceil(Ee):rm(Ee),Ee=lf.offset(Ee,(Q.V-1)*7),Q.y=Ee.getFullYear(),Q.m=Ee.getMonth(),Q.d=Ee.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),tt="Z"in Q?jv(Vu(Q.y,0,1)).getUTCDay():Uv(Vu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(tt+5)%7:Q.w+Q.U*7-(tt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,jv(Q)):Uv(Q)}}function I(oe,me,ge,Q){for(var je=0,Ee=me.length,tt=ge.length,nt,$t;je<Ee;){if(Q>=tt)return-1;if(nt=me.charCodeAt(je++),nt===37){if(nt=me.charAt(je++),$t=E[nt in _R?me.charAt(je++):nt],!$t||(Q=$t(oe,ge,Q))<0)return-1}else if(nt!=ge.charCodeAt(Q++))return-1}return Q}function R(oe,me,ge){var Q=u.exec(me.slice(ge));return Q?(oe.p=c.get(Q[0].toLowerCase()),ge+Q[0].length):-1}function O(oe,me,ge){var Q=g.exec(me.slice(ge));return Q?(oe.w=y.get(Q[0].toLowerCase()),ge+Q[0].length):-1}function k(oe,me,ge){var Q=d.exec(me.slice(ge));return Q?(oe.w=h.get(Q[0].toLowerCase()),ge+Q[0].length):-1}function M(oe,me,ge){var Q=b.exec(me.slice(ge));return Q?(oe.m=x.get(Q[0].toLowerCase()),ge+Q[0].length):-1}function D(oe,me,ge){var Q=w.exec(me.slice(ge));return Q?(oe.m=v.get(Q[0].toLowerCase()),ge+Q[0].length):-1}function j(oe,me,ge){return I(oe,e,me,ge)}function z(oe,me,ge){return I(oe,n,me,ge)}function K(oe,me,ge){return I(oe,r,me,ge)}function X(oe){return s[oe.getDay()]}function U(oe){return o[oe.getDay()]}function W(oe){return l[oe.getMonth()]}function J(oe){return a[oe.getMonth()]}function ie(oe){return i[+(oe.getHours()>=12)]}function ee(oe){return 1+~~(oe.getMonth()/3)}function ae(oe){return s[oe.getUTCDay()]}function Se(oe){return o[oe.getUTCDay()]}function De(oe){return l[oe.getUTCMonth()]}function et(oe){return a[oe.getUTCMonth()]}function xt(oe){return i[+(oe.getUTCHours()>=12)]}function Pt(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=C(oe+="",S);return me.toString=function(){return oe},me},parse:function(oe){var me=T(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=C(oe+="",P);return me.toString=function(){return oe},me},utcParse:function(oe){var me=T(oe+="",!0);return me.toString=function(){return oe},me}}}var _R={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,Gpe=/^%/,qpe=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Hpe(t){return t.replace(qpe,"\\$&")}function Uu(t){return new RegExp("^(?:"+t.map(Hpe).join("|")+")","i")}function ju(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Wpe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kpe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jpe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ype(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xpe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wR(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bR(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qpe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zpe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function eme(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xR(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tme(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ER(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nme(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rme(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ime(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ome(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sme(t,e,n){var r=Gpe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ame(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lme(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TR(t,e){return Ve(t.getDate(),e,2)}function ume(t,e){return Ve(t.getHours(),e,2)}function cme(t,e){return Ve(t.getHours()%12||12,e,2)}function dme(t,e){return Ve(1+lf.count(ji(t),t),e,3)}function FF(t,e){return Ve(t.getMilliseconds(),e,3)}function fme(t,e){return FF(t,e)+"000"}function hme(t,e){return Ve(t.getMonth()+1,e,2)}function pme(t,e){return Ve(t.getMinutes(),e,2)}function mme(t,e){return Ve(t.getSeconds(),e,2)}function gme(t){var e=t.getDay();return e===0?7:e}function yme(t,e){return Ve(Xg.count(ji(t)-1,t),e,2)}function VF(t){var e=t.getDay();return e>=4||e===0?Tl(t):Tl.ceil(t)}function vme(t,e){return t=VF(t),Ve(Tl.count(ji(t),t)+(ji(t).getDay()===4),e,2)}function _me(t){return t.getDay()}function wme(t,e){return Ve(rm.count(ji(t)-1,t),e,2)}function bme(t,e){return Ve(t.getFullYear()%100,e,2)}function xme(t,e){return t=VF(t),Ve(t.getFullYear()%100,e,2)}function Eme(t,e){return Ve(t.getFullYear()%1e4,e,4)}function Tme(t,e){var n=t.getDay();return t=n>=4||n===0?Tl(t):Tl.ceil(t),Ve(t.getFullYear()%1e4,e,4)}function Sme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function SR(t,e){return Ve(t.getUTCDate(),e,2)}function Ame(t,e){return Ve(t.getUTCHours(),e,2)}function Ime(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function Cme(t,e){return Ve(1+Yg.count(Bi(t),t),e,3)}function UF(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function Pme(t,e){return UF(t,e)+"000"}function Rme(t,e){return Ve(t.getUTCMonth()+1,e,2)}function Nme(t,e){return Ve(t.getUTCMinutes(),e,2)}function Ome(t,e){return Ve(t.getUTCSeconds(),e,2)}function kme(t){var e=t.getUTCDay();return e===0?7:e}function Mme(t,e){return Ve(Qg.count(Bi(t)-1,t),e,2)}function jF(t){var e=t.getUTCDay();return e>=4||e===0?Sl(t):Sl.ceil(t)}function Dme(t,e){return t=jF(t),Ve(Sl.count(Bi(t),t)+(Bi(t).getUTCDay()===4),e,2)}function Lme(t){return t.getUTCDay()}function $me(t,e){return Ve(im.count(Bi(t)-1,t),e,2)}function Fme(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function Vme(t,e){return t=jF(t),Ve(t.getUTCFullYear()%100,e,2)}function Ume(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function jme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Sl(t):Sl.ceil(t),Ve(t.getUTCFullYear()%1e4,e,4)}function Bme(){return"+0000"}function AR(){return"%"}function IR(t){return+t}function CR(t){return Math.floor(+t/1e3)}var pa,BF,zF;zme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zme(t){return pa=zpe(t),BF=pa.format,pa.parse,zF=pa.utcFormat,pa.utcParse,pa}function Gme(t){return new Date(t)}function qme(t){return t instanceof Date?+t:+new Date(+t)}function oT(t,e,n,r,i,o,s,a,l,u){var c=qE(),d=c.invert,h=c.domain,g=u(".%L"),y=u(":%S"),w=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),S=u("%B"),P=u("%Y");function E(C){return(l(C)<C?g:a(C)<C?y:s(C)<C?w:o(C)<C?v:r(C)<C?i(C)<C?b:x:n(C)<C?S:P)(C)}return c.invert=function(C){return new Date(d(C))},c.domain=function(C){return arguments.length?h(Array.from(C,qme)):h().map(Gme)},c.ticks=function(C){var T=h();return t(T[0],T[T.length-1],C??10)},c.tickFormat=function(C,T){return T==null?E:u(T)},c.nice=function(C){var T=h();return(!C||typeof C.range!="function")&&(C=e(T[0],T[T.length-1],C??10)),C?h(PF(T,C)):c},c.copy=function(){return af(c,oT(t,e,n,r,i,o,s,a,l,u))},c}function Hme(){return wr.apply(oT(jpe,Bpe,ji,rT,Xg,lf,tT,ZE,xs,BF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wme(){return wr.apply(oT(Vpe,Upe,Bi,iT,Qg,Yg,nT,eT,xs,zF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zg(){var t=0,e=1,n,r,i,o,s=En,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var g,y;return arguments.length?([g,y]=h,s=d(g,y),u):[s(0),s(1)]}}return u.range=c(lu),u.rangeRound=c(GE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Ko(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function GF(){var t=Wo(Zg()(En));return t.copy=function(){return Ko(t,GF())},Yi.apply(t,arguments)}function qF(){var t=KE(Zg()).domain([1,10]);return t.copy=function(){return Ko(t,qF()).base(t.base())},Yi.apply(t,arguments)}function HF(){var t=JE(Zg());return t.copy=function(){return Ko(t,HF()).constant(t.constant())},Yi.apply(t,arguments)}function sT(){var t=YE(Zg());return t.copy=function(){return Ko(t,sT()).exponent(t.exponent())},Yi.apply(t,arguments)}function Kme(){return sT.apply(null,arguments).exponent(.5)}function WF(){var t=[],e=En;function n(r){if(r!=null&&!isNaN(r=+r))return e((of(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Mhe(t,o/r))},n.copy=function(){return WF(e).domain(t)},Yi.apply(n,arguments)}function ey(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=En,c,d=!1,h;function g(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(d?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(w){return arguments.length?(d=!!w,g):d},g.interpolator=function(w){return arguments.length?(u=w,g):u};function y(w){return function(v){var b,x,S;return arguments.length?([b,x,S]=v,u=spe(w,[b,x,S]),g):[u(0),u(.5),u(1)]}}return g.range=y(lu),g.rangeRound=y(GE),g.unknown=function(w){return arguments.length?(h=w,g):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function KF(){var t=Wo(ey()(En));return t.copy=function(){return Ko(t,KF())},Yi.apply(t,arguments)}function JF(){var t=KE(ey()).domain([.1,1,10]);return t.copy=function(){return Ko(t,JF()).base(t.base())},Yi.apply(t,arguments)}function YF(){var t=JE(ey());return t.copy=function(){return Ko(t,YF()).constant(t.constant())},Yi.apply(t,arguments)}function aT(){var t=YE(ey());return t.copy=function(){return Ko(t,aT()).exponent(t.exponent())},Yi.apply(t,arguments)}function Jme(){return aT.apply(null,arguments).exponent(.5)}const PR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ud,scaleDiverging:KF,scaleDivergingLog:JF,scaleDivergingPow:aT,scaleDivergingSqrt:Jme,scaleDivergingSymlog:YF,scaleIdentity:CF,scaleImplicit:pw,scaleLinear:tm,scaleLog:RF,scaleOrdinal:jE,scalePoint:wc,scalePow:XE,scaleQuantile:kF,scaleQuantize:MF,scaleRadial:OF,scaleSequential:GF,scaleSequentialLog:qF,scaleSequentialPow:sT,scaleSequentialQuantile:WF,scaleSequentialSqrt:Kme,scaleSequentialSymlog:HF,scaleSqrt:Ppe,scaleSymlog:NF,scaleThreshold:DF,scaleTime:Hme,scaleUtc:Wme,tickFormat:IF},Symbol.toStringTag,{value:"Module"}));var Yme=Ql;function Xme(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Yme(s):n(s,a)))var a=s,l=o}return l}var XF=Xme;function Qme(t,e){return t>e}var Zme=Qme,ege=XF,tge=Zme,nge=su;function rge(t){return t&&t.length?ege(t,nge,tge):void 0}var ige=rge;const _o=Je(ige);function oge(t,e){return t<e}var sge=oge,age=XF,lge=sge,uge=su;function cge(t){return t&&t.length?age(t,uge,lge):void 0}var dge=cge;const ty=Je(dge);var fge=bE,hge=Ho,pge=sF,mge=Un;function gge(t,e){var n=mge(t)?fge:pge;return n(t,hge(e))}var yge=gge,vge=iF,_ge=yge;function wge(t,e){return vge(_ge(t,e),1)}var bge=wge;const xge=Je(bge);var Ege=LE;function Tge(t,e){return Ege(t,e)}var Sge=Tge;const pd=Je(Sge);var uu=1e9,Age={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uT,ut=!0,vr="[DecimalError] ",Rs=vr+"Invalid argument: ",lT=vr+"Exponent out of range: ",cu=Math.floor,ds=Math.pow,Ige=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Ut=1e7,st=7,QF=9007199254740991,om=cu(QF/st),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*st;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(t){return Pi(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,n=e.constructor;return Ke(Pi(e,new n(t),0,1),n.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return Ct(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qn))throw Error(vr+"NaN");if(n.s<1)throw Error(vr+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(ut=!1,e=Pi(md(n,o),md(t,o),o),ut=!0,Ke(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tV(e,t):ZF(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(vr+"NaN");return n.s?(ut=!1,e=Pi(n,t,0,1).times(t),ut=!0,n.minus(e)):Ke(new r(n),i)};ce.naturalExponential=ce.exp=function(){return eV(this)};ce.naturalLogarithm=ce.ln=function(){return md(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZF(e,t):tV(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rs+t);if(e=Ct(i)+1,r=i.d.length-1,n=r*st+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ce.squareRoot=ce.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(vr+"NaN")}for(t=Ct(a),ut=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Wr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Pi(a,o,s+2)).times(.5),Wr(o.d).slice(0,s)===(e=Wr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ke(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ut=!0,Ke(r,n)};ce.times=ce.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+g[r]*h[i-r-1]+e,o[i--]=a%Ut|0,e=a/Ut|0;o[i]=(o[i]+e)%Ut|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?Ke(t,d.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(oi(t,0,uu),e===void 0?e=r.rounding:oi(e,0,8),Ke(n,t+Ct(n)+1,e))};ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qs(r,!0):(oi(t,0,uu),e===void 0?e=i.rounding:oi(e,0,8),r=Ke(new i(r),t+1,e),n=qs(r,!0,t+1)),n};ce.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?qs(i):(oi(t,0,uu),e===void 0?e=o.rounding:oi(e,0,8),r=Ke(new o(i),t+Ct(i)+1,e),n=qs(r.abs(),!1,t+Ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),Ct(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(qn);if(a=new l(a),!a.s){if(t.s<1)throw Error(vr+"Infinity");return a}if(a.eq(qn))return a;if(r=l.precision,t.eq(qn))return Ke(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=QF){for(i=new l(qn),e=Math.ceil(r/st+4),ut=!1;n%2&&(i=i.times(a),NR(i.d,e)),n=cu(n/2),n!==0;)a=a.times(a),NR(a.d,e);return ut=!0,t.s<0?new l(qn).div(i):Ke(i,r)}}else if(o<0)throw Error(vr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ut=!1,i=t.times(md(a,r+u)),ut=!0,i=eV(i),i.s=o,i};ce.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ct(i),r=qs(i,n<=o.toExpNeg||n>=o.toExpPos)):(oi(t,1,uu),e===void 0?e=o.rounding:oi(e,0,8),i=Ke(new o(i),t,e),n=Ct(i),r=qs(i,t<=n||n<=o.toExpNeg,t)),r};ce.toSignificantDigits=ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(oi(t,1,uu),e===void 0?e=r.rounding:oi(e,0,8)),Ke(new r(n),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),n=t.constructor;return qs(t,e<=n.toExpNeg||e>=n.toExpPos)};function ZF(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ut?Ke(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/st),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ut|0,l[o]%=Ut;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ut?Ke(e,d):e}function oi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Rs+t)}function Wr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=st-r.length,n&&(o+=ao(n)),o+=r;s=t[e],r=s+"",n=st-r.length,n&&(o+=ao(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Pi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ut|0,s=o/Ut|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ut+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,g,y,w,v,b,x,S,P,E,C,T,I,R=r.constructor,O=r.s==i.s?1:-1,k=r.d,M=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(vr+"Division by zero");for(l=r.e-i.e,T=M.length,E=k.length,g=new R(O),y=g.d=[],u=0;M[u]==(k[u]||0);)++u;if(M[u]>(k[u]||0)&&--l,o==null?x=o=R.precision:s?x=o+(Ct(r)-Ct(i))+1:x=o,x<0)return new R(0);if(x=x/st+2|0,u=0,T==1)for(c=0,M=M[0],x++;(u<E||c)&&x--;u++)S=c*Ut+(k[u]||0),y[u]=S/M|0,c=S%M|0;else{for(c=Ut/(M[0]+1)|0,c>1&&(M=t(M,c),k=t(k,c),T=M.length,E=k.length),P=T,w=k.slice(0,T),v=w.length;v<T;)w[v++]=0;I=M.slice(),I.unshift(0),C=M[0],M[1]>=Ut/2&&++C;do c=0,a=e(M,w,T,v),a<0?(b=w[0],T!=v&&(b=b*Ut+(w[1]||0)),c=b/C|0,c>1?(c>=Ut&&(c=Ut-1),d=t(M,c),h=d.length,v=w.length,a=e(d,w,h,v),a==1&&(c--,n(d,T<h?I:M,h))):(c==0&&(a=c=1),d=M.slice()),h=d.length,h<v&&d.unshift(0),n(w,d,v),a==-1&&(v=w.length,a=e(M,w,T,v),a<1&&(c++,n(w,T<v?I:M,v))),v=w.length):a===0&&(c++,w=[0]),y[u++]=c,a&&w[0]?w[v++]=k[P]||0:(w=[k[P]],v=1);while((P++<E||w[0]!==void 0)&&x--)}return y[0]||y.shift(),g.e=l,Ke(g,s?o+Ct(g)+1:o)}}();function eV(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(Ct(t)>16)throw Error(lT+Ct(t));if(!t.s)return new c(qn);for(ut=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ds(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(qn),c.precision=a;;){if(i=Ke(i.times(t),a),n=n.times(++l),s=o.plus(Pi(i,n,a)),Wr(s.d).slice(0,a)===Wr(o.d).slice(0,a)){for(;u--;)o=Ke(o.times(o),a);return c.precision=d,e==null?(ut=!0,Ke(o,d)):o}o=s}}function Ct(t){for(var e=t.e*st,n=t.d[0];n>=10;n/=10)e++;return e}function Bv(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(vr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function md(t,e){var n,r,i,o,s,a,l,u,c,d=1,h=10,g=t,y=g.d,w=g.constructor,v=w.precision;if(g.s<1)throw Error(vr+(g.s?"NaN":"-Infinity"));if(g.eq(qn))return new w(0);if(e==null?(ut=!1,u=v):u=e,g.eq(10))return e==null&&(ut=!0),Bv(w,u);if(u+=h,w.precision=u,n=Wr(y),r=n.charAt(0),o=Ct(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Wr(g.d),r=n.charAt(0),d++;o=Ct(g),r>1?(g=new w("0."+n),o++):g=new w(r+"."+n.slice(1))}else return l=Bv(w,u+2,v).times(o+""),g=md(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=v,e==null?(ut=!0,Ke(g,v)):g;for(a=s=g=Pi(g.minus(qn),g.plus(qn),u),c=Ke(g.times(g),u),i=3;;){if(s=Ke(s.times(c),u),l=a.plus(Pi(s,new w(i),u)),Wr(l.d).slice(0,u)===Wr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Bv(w,u+2,v).times(o+""))),a=Pi(a,new w(d),u),w.precision=v,e==null?(ut=!0,Ke(a,v)):a;a=l,i+=2}}function RR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cu(n/st),t.d=[],r=(n+1)%st,n<0&&(r+=st),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=st;r<i;)t.d.push(+e.slice(r,r+=st));e=e.slice(r),r=st-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>om||t.e<-om))throw Error(lT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=st,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/st),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=st,i=r-st+s}if(n!==void 0&&(o=ds(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ds(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Ct(t),d.length=1,e=e-o-1,d[0]=ds(10,(st-e%st)%st),t.e=cu(-e/st)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=ds(10,st-r),d[c]=i>0?(u/ds(10,s-i)%ds(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Ut&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Ut)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(ut&&(t.e>om||t.e<-om))throw Error(lT+Ct(t));return t}function tV(t,e){var n,r,i,o,s,a,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ut?Ke(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(g/st),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Ut-1;--l[o],l[i]+=Ut}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?Ke(e,g):e):new h(0)}function qs(t,e,n){var r,i=Ct(t),o=Wr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ao(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ao(-i-1)+o,n&&(r=n-s)>0&&(o+=ao(r))):i>=s?(o+=ao(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ao(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ao(r))),t.s<0?"-"+o:o}function NR(t,e){if(t.length>e)return t.length=e,!0}function nV(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Rs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return RR(s,o.toString())}else if(typeof o!="string")throw Error(Rs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Ige.test(o))RR(s,o);else throw Error(Rs+o)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nV,i.config=i.set=Cge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Cge(t){if(!t||typeof t!="object")throw Error(vr+"Object expected");var e,n,r,i=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Rs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Rs+n+": "+r);return this}var uT=nV(Age);qn=new uT(1);const qe=uT;function Pge(t){return kge(t)||Oge(t)||Nge(t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function Oge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kge(t){if(Array.isArray(t))return vw(t)}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mge=function(e){return e},rV={},iV=function(e){return e===rV},OR=function(e){return function n(){return arguments.length===0||arguments.length===1&&iV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Dge=function t(e,n){return e===1?n:OR(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==rV}).length;return s>=e?n.apply(void 0,i):t(e-s,OR(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return iV(d)?l.shift():d});return n.apply(void 0,Pge(c).concat(l))}))})},ny=function(e){return Dge(e.length,e)},_w=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Lge=ny(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),$ge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Mge;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},ww=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Fge(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function Vge(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Uge=ny(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),jge=ny(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Bge=ny(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ry={rangeStep:Vge,getDigitCount:Fge,interpolateNumber:Uge,uninterpolateNumber:jge,uninterpolateTruncation:Bge};function bw(t){return qge(t)||Gge(t)||sV(t)||zge()}function zge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qge(t){if(Array.isArray(t))return xw(t)}function gd(t,e){return Kge(t)||Wge(t,e)||sV(t,e)||Hge()}function Hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sV(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Kge(t){if(Array.isArray(t))return t}function aV(t){var e=gd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function lV(t,e,n){if(t.lte(0))return new qe(0);var r=ry.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new qe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new qe(Math.ceil(l))}function Jge(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(ry.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var s=Math.floor((e-1)/2),a=$ge(Lge(function(l){return i.add(new qe(l-s).mul(r)).toNumber()}),_w);return a(0,e)}function uV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=lV(new qe(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new qe(0):(s=new qe(t).add(e).div(2),s=s.sub(new qe(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?uV(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new qe(a).mul(o)),tickMax:s.add(new qe(l).mul(o))})}function Yge(t){var e=gd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=aV([n,r]),l=gd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(bw(_w(0,i-1).map(function(){return 1/0}))):[].concat(bw(_w(0,i-1).map(function(){return-1/0})),[c]);return n>r?ww(d):d}if(u===c)return Jge(u,i,o);var h=uV(u,c,s,o),g=h.step,y=h.tickMin,w=h.tickMax,v=ry.rangeStep(y,w.add(new qe(.1).mul(g)),g);return n>r?ww(v):v}function Xge(t,e){var n=gd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aV([r,i]),a=gd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=lV(new qe(u).sub(l).div(c-1),o,0),h=[].concat(bw(ry.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(d)),d)),[u]);return r>i?ww(h):h}var Qge=oV(Yge),Zge=oV(Xge),eye="Invariant failed";function Hs(t,e){throw new Error(eye)}var tye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function nye(t,e){return sye(t)||oye(t,e)||iye(t,e)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(t,e){if(t){if(typeof t=="string")return kR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(t,e)}}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sye(t){if(Array.isArray(t))return t}function aye(t,e){if(t==null)return{};var n=lye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function dye(t,e,n){return e&&cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fye(t,e,n){return e=am(e),hye(t,cV()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function hye(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pye(t)}function pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function mye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function dV(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=gye(t,"string");return Al(e)=="symbol"?e:e+""}function gye(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iy=function(t){function e(){return uye(this,e),fye(this,e,arguments)}return mye(e,t),dye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=aye(r,tye),g=Ae(h,!1);this.props.direction==="x"&&c.type!=="number"&&Hs();var y=l.map(function(w){var v=u(w,a),b=v.x,x=v.y,S=v.value,P=v.errorVal;if(!P)return null;var E=[],C,T;if(Array.isArray(P)){var I=nye(P,2);C=I[0],T=I[1]}else C=T=P;if(o==="vertical"){var R=c.scale,O=x+i,k=O+s,M=O-s,D=R(S-C),j=R(S+T);E.push({x1:j,y1:k,x2:j,y2:M}),E.push({x1:D,y1:O,x2:j,y2:O}),E.push({x1:D,y1:k,x2:D,y2:M})}else if(o==="horizontal"){var z=d.scale,K=b+i,X=K-s,U=K+s,W=z(S-C),J=z(S+T);E.push({x1:X,y1:J,x2:U,y2:J}),E.push({x1:K,y1:W,x2:K,y2:J}),E.push({x1:X,y1:W,x2:U,y2:W})}return F.createElement(dt,sm({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},g),E.map(function(ie){return F.createElement("line",sm({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return F.createElement(dt,{className:"recharts-errorBars"},y)}}])}(F.Component);dV(iy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dV(iy,"displayName","ErrorBar");function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yye(t,e,n){return e=vye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=_ye(t,"string");return yd(e)=="symbol"?e:e+""}function _ye(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Gn(n,tl);if(!s)return null;var a=tl.defaultProps,l=a!==void 0?is(is({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,y=g.sectors||g.data||[];return c.concat(y.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?is(is({},h),d.props):{},y=g.dataKey,w=g.name,v=g.legendType,b=g.hide;return{inactive:b,dataKey:y,type:l.iconType||v||"square",color:cT(d),value:w||y,payload:g}}),is(is(is({},l),tl.getWithHeight(s,i)),{},{payload:u,item:s})};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function DR(t){return Eye(t)||xye(t)||bye(t)||wye()}function wye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bye(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function xye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eye(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rl(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Sye(t,"string");return vd(e)=="symbol"?e:e+""}function Sye(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return Pe(t)||Pe(e)?n:Mt(e)?pr(t,e,n):Te(e)?e(t):n}function bc(t,e,n,r){var i=xge(t,function(a){return Yn(a,e)});if(n==="number"){var o=i.filter(function(a){return ne(a)||parseFloat(a)});return o.length?[ty(o),_o(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Pe(a)}):i;return s.map(function(a){return Mt(a)||a instanceof Date?a:""})}var Aye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Pr(d-c)!==Pr(h-d)){var y=[];if(Pr(h-d)===Pr(l[1]-l[0])){g=h;var w=d+l[1]-l[0];y[0]=Math.min(w,(w+c)/2),y[1]=Math.max(w,(w+c)/2)}else{g=c;var v=h+l[1]-l[0];y[0]=Math.min(d,(v+d)/2),y[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var x=Math.min(c,h),S=Math.max(c,h);if(e>(x+d)/2&&e<=(S+d)/2){s=i[u].index;break}}}else for(var P=0;P<a;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},cT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Iye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var y=c[d[h]],w=y.items,v=y.cateAxisId,b=w.filter(function(T){return Ii(T.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,S=x!==void 0?yt(yt({},x),b[0].props):b[0].props,P=S.barSize,E=S[v];s[E]||(s[E]=[]);var C=Pe(P)?n:P;s[E].push({item:b[0],stackList:b.slice(1),barSize:Pe(C)?void 0:Gs(C,r,0)})}}return s},Cye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Gs(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,g=i/l,y=s.reduce(function(P,E){return P+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&g>0&&(h=!0,g*=.9,y=l*g);var w=(i-y)/2>>0,v={offset:w-u,size:0};c=s.reduce(function(P,E){var C={item:E.item,position:{offset:v.offset+v.size+u,size:h?g:E.barSize}},T=[].concat(DR(P),[C]);return v=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:v})}),T},d)}else{var b=Gs(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var x=(i-2*b-(l-1)*u)/l;x>1&&(x>>=0);var S=a===+a?Math.min(x,a):x;c=s.reduce(function(P,E,C){var T=[].concat(DR(P),[{item:E.item,position:{offset:b+(x+u)*C+(x-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},d)}return c},Pye=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=hV({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,y=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&g!=="center"&&ne(e[g]))return yt(yt({},e),{},rl({},g,e[g]+(d||0)));if((w==="horizontal"||w==="vertical"&&g==="center")&&y!=="middle"&&ne(e[y]))return yt(yt({},e),{},rl({},y,e[y]+(h||0)))}return e},Rye=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pV=function(e,n,r,i,o){var s=n.props.children,a=Mr(s,iy).filter(function(u){return Rye(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Yn(c,r);if(Pe(d))return u;var h=Array.isArray(d)?[ty(d),_o(d)]:[d,d],g=l.reduce(function(y,w){var v=Yn(c,w,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Nye=function(e,n,r,i,o){var s=n.map(function(a){return pV(e,a,r,o,i)}).filter(function(a){return!Pe(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},mV=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&pV(e,l,u,i)||bc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},gV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},yV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},xi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Pr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!ru(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},zv=new WeakMap,lh=function(e,n){if(typeof n!="function")return e;zv.has(e)||zv.set(e,new WeakMap);var r=zv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Oye=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:ud(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:tm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wc(),realScaleType:"point"}:o==="category"?{scale:ud(),realScaleType:"band"}:{scale:tm(),realScaleType:"linear"};if(zs(i)){var l="scale".concat(Bg(i));return{scale:(PR[l]||wc)(),realScaleType:PR[l]?l:"point"}}return Te(i)?{scale:i}:{scale:wc(),realScaleType:"point"}},$R=1e-4,kye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-$R,s=Math.max(i[0],i[1])+$R,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Mye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dye=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Lye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=ru(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},$ye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=ru(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Fye={sign:Lye,expand:Qre,none:vl,silhouette:Zre,wiggle:eie,positive:$ye},Vye=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Fye[r],s=Xre().keys(i).value(function(a,l){return+Yn(a,l,0)}).order(J_).offset(o);return s(e)},Uye=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?yt(yt({},h.type.defaultProps),h.props):h.props,w=y.stackId,v=y.hide;if(v)return d;var b=y[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(Mt(w)){var S=x.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),x.hasStack=!0,x.stackGroups[w]=S}else x.stackGroups[nf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return yt(yt({},d),{},rl({},b,x))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(w,v){var b=g.stackGroups[v];return yt(yt({},w),{},rl({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Vye(e,b.items,o)}))},y)}return yt(yt({},d),{},rl({},h,g))},c)},jye=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Qge(u,o,a);return e.domain([ty(c),_o(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=Zge(d,o,a);return{niceTicks:h}}return null};function FR(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pe(i[e.dataKey])){var a=Np(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yn(i,Pe(s)?e.dataKey:s);return Pe(l)?null:e.scale(l)}var VR=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Yn(s,n.dataKey,n.domain[a]);return Pe(l)?null:n.scale(l)-o/2+i},Bye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},zye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Mt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Gye=function(e){return e.reduce(function(n,r){return[ty(r.concat([n[0]]).filter(ne)),_o(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},vV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=Gye(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sw=function(e,n,r){if(Te(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(UR.test(e[0])){var o=+UR.exec(e[0])[1];i[0]=n[0]-o}else Te(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(jR.test(e[1])){var s=+jR.exec(e[1])[1];i[1]=n[1]+s}else Te(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},lm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=FE(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},BR=function(e,n,r){return!e||!e.length||pd(e,pr(r,"type.defaultProps.domain"))?n:e},_V=function(e,n){var r=e.type.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return yt(yt({},Ae(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:cT(e),value:Yn(n,i),type:l,payload:n,chartType:u,hide:c})};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){qye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qye(t,e,n){return e=Hye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hye(t){var e=Wye(t,"string");return _d(e)=="symbol"?e:e+""}function Wye(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var um=Math.PI/180,Kye=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-um*i)*r,y:n+Math.sin(-um*i)*r}},Jye=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Yye=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Jye({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Kye(u),angleInRadian:u}},Xye=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Qye=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},qR=function(e,n){var r=e.x,i=e.y,o=Yye({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Xye(n),d=c.startAngle,h=c.endAngle,g=a,y;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;y=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=d}return y?GR(GR({},n),{},{radius:s,angle:Qye(g,n)}):null};function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}var Zye=["offset"];function eve(t){return ive(t)||rve(t)||nve(t)||tve()}function tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function rve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ive(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ove(t,e){if(t==null)return{};var n=sve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){ave(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ave(t,e,n){return e=lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=uve(t,"string");return wd(e)=="symbol"?e:e+""}function uve(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bd.apply(this,arguments)}var cve=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return Te(r)?r(i):i},dve=function(e,n){var r=Pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},fve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,y=l.endAngle,w=l.clockWise,v=(d+h)/2,b=dve(g,y),x=b>=0?1:-1,S,P;i==="insideStart"?(S=g+x*s,P=w):i==="insideEnd"?(S=y-x*s,P=!w):i==="end"&&(S=y+x*s,P=w),P=b<=0?P:!P;var E=Xt(u,c,v,S),C=Xt(u,c,v,S+(P?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),I=Pe(e.id)?nf("recharts-radial-line-"):e.id;return F.createElement("text",bd({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:I,d:T})),F.createElement("textPath",{xlinkHref:"#".concat(I)},n))},hve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Xt(s,a,u+r,h),y=g.x,w=g.y;return{x:y,y:w,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Xt(s,a,v,h),x=b.x,S=b.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},pve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",y=d>0?"start":"end",w=u>=0?1:-1,v=w*i,b=w>0?"end":"start",x=w>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return Nt(Nt({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return Nt(Nt({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:a-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Nt(Nt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var C={x:a+u+v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Nt(Nt({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?Nt({x:a+v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},T):o==="insideRight"?Nt({x:a+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideTop"?Nt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},T):o==="insideBottom"?Nt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},T):o==="insideTopLeft"?Nt({x:a+v,y:l+h,textAnchor:x,verticalAnchor:y},T):o==="insideTopRight"?Nt({x:a+u-v,y:l+h,textAnchor:b,verticalAnchor:y},T):o==="insideBottomLeft"?Nt({x:a+v,y:l+c-h,textAnchor:x,verticalAnchor:g},T):o==="insideBottomRight"?Nt({x:a+u-v,y:l+c-h,textAnchor:b,verticalAnchor:g},T):Zl(o)&&(ne(o.x)||ws(o.x))&&(ne(o.y)||ws(o.y))?Nt({x:a+Gs(o.x,u),y:l+Gs(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):Nt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},mve=function(e){return"cx"in e&&ne(e.cx)};function fn(t){var e=t.offset,n=e===void 0?5:e,r=ove(t,Zye),i=Nt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||Pe(a)&&Pe(l)&&!$.isValidElement(u)&&!Te(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var g;if(Te(u)){if(g=$.createElement(u,i),$.isValidElement(g))return g}else g=cve(i);var y=mve(o),w=Ae(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return fve(i,g,w);var v=y?hve(i):pve(i);return F.createElement(Wp,bd({className:Me("recharts-label",d)},w,v,{breakAll:h}),g)}fn.displayName="Label";var wV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,y=e.left,w=e.width,v=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(ne(w)&&ne(v)){if(ne(d)&&ne(h))return{x:d,y:h,width:w,height:v};if(ne(g)&&ne(y))return{x:g,y,width:w,height:v}}return ne(d)&&ne(h)?{x:d,y:h,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},gve=function(e,n){return e?e===!0?F.createElement(fn,{key:"label-implicit",viewBox:n}):Mt(e)?F.createElement(fn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===fn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):F.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):Te(e)?F.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):Zl(e)?F.createElement(fn,bd({viewBox:n},e,{key:"label-implicit"})):null:null},yve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=wV(e),s=Mr(i,fn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=gve(e.label,n||o);return[a].concat(eve(s))};fn.parseViewBox=wV;fn.renderCallByParent=yve;function vve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var _ve=vve;const wve=Je(_ve);function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}var bve=["valueAccessor"],xve=["data","dataKey","clockWise","id","textBreakAll"];function Eve(t){return Ive(t)||Ave(t)||Sve(t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sve(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function Ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ive(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cve(t,e,n){return e=Pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pve(t){var e=Rve(t,"string");return xd(e)=="symbol"?e:e+""}function Rve(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JR(t,e){if(t==null)return{};var n=Nve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ove=function(e){return Array.isArray(e.value)?wve(e.value):e.value};function Oo(t){var e=t.valueAccessor,n=e===void 0?Ove:e,r=JR(t,bve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=JR(r,xve);return!i||!i.length?null:F.createElement(dt,{className:"recharts-label-list"},i.map(function(c,d){var h=Pe(o)?n(c,d):Yn(c&&c.payload,o),g=Pe(a)?{}:{id:"".concat(a,"-").concat(d)};return F.createElement(fn,cm({},Ae(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:fn.parseViewBox(Pe(s)?c:KR(KR({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Oo.displayName="LabelList";function kve(t,e){return t?t===!0?F.createElement(Oo,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Te(t)?F.createElement(Oo,{key:"labelList-implicit",data:e,content:t}):Zl(t)?F.createElement(Oo,cm({data:e},t,{key:"labelList-implicit"})):null:null}function Mve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Mr(r,Oo).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=kve(t.label,e);return[o].concat(Eve(i))}Oo.renderCallByParent=Mve;function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Dve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dve(t,e,n){return e=Lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lve(t){var e=$ve(t,"string");return Ed(e)=="symbol"?e:e+""}function $ve(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fve=function(e,n){var r=Pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},uh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/um,h=u?o:o+s*d,g=Xt(n,r,c,h),y=Xt(n,r,i,h),w=u?o-s*d:o,v=Xt(n,r,c*Math.cos(d*um),w);return{center:g,circleTangency:y,lineTangency:v,theta:d}},bV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Fve(s,a),u=s+l,c=Xt(n,r,o,s),d=Xt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Xt(n,r,i,s),y=Xt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Vve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Pr(c-u),h=uh({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),g=h.circleTangency,y=h.lineTangency,w=h.theta,v=uh({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,x=v.lineTangency,S=v.theta,P=l?Math.abs(u-c):Math.abs(u-c)-w-S;if(P<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=uh({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=C.circleTangency,I=C.lineTangency,R=C.theta,O=uh({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=O.circleTangency,M=O.lineTangency,D=O.theta,j=l?Math.abs(u-c):Math.abs(u-c)-R-D;if(j<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Uve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xV=function(e){var n=XR(XR({},Uve),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<o||c===d)return null;var g=Me("recharts-sector",h),y=s-o,w=Gs(a,y,0,!0),v;return w>0&&Math.abs(c-d)<360?v=Vve({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=bV({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),F.createElement("path",Cw({},Ae(n,!0),{className:g,d:v,role:"img"}))};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return e=Bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bve(t){var e=zve(t,"string");return Td(e)=="symbol"?e:e+""}function zve(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eN={curveBasisClosed:Ure,curveBasisOpen:jre,curveBasis:Vre,curveBumpX:Sre,curveBumpY:Are,curveLinearClosed:Bre,curveLinear:Gg,curveMonotoneX:zre,curveMonotoneY:Gre,curveNatural:qre,curveStep:Hre,curveStepAfter:Kre,curveStepBefore:Wre},ch=function(e){return e.x===+e.x&&e.y===+e.y},Bu=function(e){return e.x},zu=function(e){return e.y},Gve=function(e,n){if(Te(e))return e;var r="curve".concat(Bg(e));return(r==="curveMonotone"||r==="curveBump")&&n?eN["".concat(r).concat(n==="vertical"?"Y":"X")]:eN[r]||Gg},qve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Gve(r,a),d=u?o.filter(function(w){return ch(w)}):o,h;if(Array.isArray(s)){var g=u?s.filter(function(w){return ch(w)}):s,y=d.map(function(w,v){return ZR(ZR({},w),{},{base:g[v]})});return a==="vertical"?h=eh().y(zu).x1(Bu).x0(function(w){return w.base.x}):h=eh().x(Bu).y1(zu).y0(function(w){return w.base.y}),h.defined(ch).curve(c),h(y)}return a==="vertical"&&ne(s)?h=eh().y(zu).x1(Bu).x0(s):ne(s)?h=eh().x(Bu).y1(zu).y0(s):h=E$().x(Bu).y(zu),h.defined(ch).curve(c),h(d)},xc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?qve(e):i;return $.createElement("path",Pw({},Ae(e,!1),Op(e),{className:Me("recharts-curve",n),d:s,ref:o}))},EV={exports:{}},Hve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wve=Hve,Kve=Wve;function TV(){}function SV(){}SV.resetWarningCache=TV;var Jve=function(){function t(r,i,o,s,a,l){if(l!==Kve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SV,resetWarningCache:TV};return n.PropTypes=n,n};EV.exports=Jve();var Yve=EV.exports;const Ue=Je(Yve),{getOwnPropertyNames:Xve,getOwnPropertySymbols:Qve}=Object,{hasOwnProperty:Zve}=Object.prototype;function Gv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function dh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function e0e(t){return t!=null?t[Symbol.toStringTag]:void 0}function tN(t){return Xve(t).concat(Qve(t))}const t0e=Object.hasOwn||((t,e)=>Zve.call(t,e));function oa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const n0e="__v",r0e="__o",i0e="_owner",{getOwnPropertyDescriptor:nN,keys:rN}=Object;function o0e(t,e){return t.byteLength===e.byteLength&&dm(new Uint8Array(t),new Uint8Array(e))}function s0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function a0e(t,e){return t.byteLength===e.byteLength&&dm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function l0e(t,e){return oa(t.getTime(),e.getTime())}function u0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function c0e(t,e){return t===e}function iN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,g=a.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const d0e=oa;function f0e(t,e,n){const r=rN(t);let i=r.length;if(rN(e).length!==i)return!1;for(;i-- >0;)if(!AV(t,e,n,r[i]))return!1;return!0}function Gu(t,e,n){const r=tN(t);let i=r.length;if(tN(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!AV(t,e,n,o)||(s=nN(t,o),a=nN(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function h0e(t,e){return oa(t.valueOf(),e.valueOf())}function p0e(t,e){return t.source===e.source&&t.flags===e.flags}function oN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function dm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function m0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function AV(t,e,n,r){return(r===i0e||r===r0e||r===n0e)&&(t.$$typeof||e.$$typeof)?!0:t0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const g0e="[object ArrayBuffer]",y0e="[object Arguments]",v0e="[object Boolean]",_0e="[object DataView]",w0e="[object Date]",b0e="[object Error]",x0e="[object Map]",E0e="[object Number]",T0e="[object Object]",S0e="[object RegExp]",A0e="[object Set]",I0e="[object String]",C0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},P0e="[object URL]",R0e=Object.prototype.toString;function N0e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:y}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const S=typeof v;if(S!==typeof b)return!1;if(S!=="object")return S==="number"?a(v,b,x):S==="function"?o(v,b,x):!1;const P=v.constructor;if(P!==b.constructor)return!1;if(P===Object)return l(v,b,x);if(Array.isArray(v))return e(v,b,x);if(P===Date)return r(v,b,x);if(P===RegExp)return c(v,b,x);if(P===Map)return s(v,b,x);if(P===Set)return d(v,b,x);const E=R0e.call(v);if(E===w0e)return r(v,b,x);if(E===S0e)return c(v,b,x);if(E===x0e)return s(v,b,x);if(E===A0e)return d(v,b,x);if(E===T0e)return typeof v.then!="function"&&typeof b.then!="function"&&l(v,b,x);if(E===P0e)return g(v,b,x);if(E===b0e)return i(v,b,x);if(E===y0e)return l(v,b,x);if(C0e[E])return h(v,b,x);if(E===g0e)return t(v,b,x);if(E===_0e)return n(v,b,x);if(E===v0e||E===E0e||E===I0e)return u(v,b,x);if(y){let C=y[E];if(!C){const T=e0e(v);T&&(C=y[T])}if(C)return C(v,b,x)}return!1}}function O0e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:o0e,areArraysEqual:n?Gu:s0e,areDataViewsEqual:a0e,areDatesEqual:l0e,areErrorsEqual:u0e,areFunctionsEqual:c0e,areMapsEqual:n?Gv(iN,Gu):iN,areNumbersEqual:d0e,areObjectsEqual:n?Gu:f0e,arePrimitiveWrappersEqual:h0e,areRegExpsEqual:p0e,areSetsEqual:n?Gv(oN,Gu):oN,areTypedArraysEqual:n?Gv(dm,Gu):dm,areUrlsEqual:m0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=dh(r.areArraysEqual),o=dh(r.areMapsEqual),s=dh(r.areObjectsEqual),a=dh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function k0e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function M0e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const D0e=Jo();Jo({strict:!0});Jo({circular:!0});Jo({circular:!0,strict:!0});Jo({createInternalComparator:()=>oa});Jo({strict:!0,createInternalComparator:()=>oa});Jo({circular:!0,createInternalComparator:()=>oa});Jo({circular:!0,createInternalComparator:()=>oa,strict:!0});function Jo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=O0e(t),s=N0e(o),a=n?n(s):k0e(s);return M0e({circular:e,comparator:s,createState:r,equals:a,strict:i})}function L0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):L0e(i)};requestAnimationFrame(r)}function Rw(t){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(t)}function $0e(t){return j0e(t)||U0e(t)||V0e(t)||F0e()}function F0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(t,e){if(t){if(typeof t=="string")return aN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(t,e)}}function aN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j0e(t){if(Array.isArray(t))return t}function B0e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=$0e(s),l=a[0],u=a.slice(1);if(typeof l=="number"){sN(i.bind(null,u),l);return}i(l),sN(i.bind(null,u));return}Rw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){IV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IV(t,e,n){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=G0e(t,"string");return Sd(e)==="symbol"?e:String(e)}function G0e(t,e){if(Sd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q0e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},H0e=function(e){return e},W0e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ec=function(e,n){return Object.keys(n).reduce(function(r,i){return uN(uN({},r),{},IV({},i,e(i,n[i])))},{})},cN=function(e,n,r){return e.map(function(i){return"".concat(W0e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function K0e(t,e){return X0e(t)||Y0e(t,e)||CV(t,e)||J0e()}function J0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function X0e(t){if(Array.isArray(t))return t}function Q0e(t){return t_e(t)||e_e(t)||CV(t)||Z0e()}function Z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CV(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function e_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t_e(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fm=1e-4,PV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},RV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dN=function(e,n){return function(r){var i=PV(e,n);return RV(i,r)}},n_e=function(e,n){return function(r){var i=PV(e,n),o=[].concat(Q0e(i.map(function(s,a){return s*a}).slice(1)),[0]);return RV(o,r)}},fN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=K0e(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=dN(i,s),h=dN(o,a),g=n_e(i,s),y=function(b){return b>1?1:b<0?0:b},w=function(b){for(var x=b>1?1:b,S=x,P=0;P<8;++P){var E=d(S)-x,C=g(S);if(Math.abs(E-x)<fm||C<fm)return h(S);S=y(S-E/C)}return h(S)};return w.isStepper=!1,w},r_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,h){var g=-(c-d)*r,y=h*o,w=h+(g-y)*a/1e3,v=h*a/1e3+c;return Math.abs(v-d)<fm&&Math.abs(w)<fm?[d,0]:[v,w]};return l.isStepper=!0,l.dt=a,l},i_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fN(i);case"spring":return r_e();default:if(i.split("(")[0]==="cubic-bezier")return fN(i)}return typeof i=="function"?i:null};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function hN(t){return a_e(t)||s_e(t)||NV(t)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a_e(t){if(Array.isArray(t))return kw(t)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ow(t,e,n){return e=l_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_e(t){var e=u_e(t,"string");return Ad(e)==="symbol"?e:String(e)}function u_e(t,e){if(Ad(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c_e(t,e){return h_e(t)||f_e(t,e)||NV(t,e)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NV(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function h_e(t){if(Array.isArray(t))return t}var hm=function(e,n,r){return e+(n-e)*r},Mw=function(e){var n=e.from,r=e.to;return n!==r},p_e=function t(e,n,r){var i=Ec(function(o,s){if(Mw(s)){var a=e(s.from,s.to,s.velocity),l=c_e(a,2),u=l[0],c=l[1];return Wt(Wt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Ec(function(o,s){return Mw(s)?Wt(Wt({},s),{},{velocity:hm(s.velocity,i[o].velocity,r),from:hm(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const m_e=function(t,e,n,r,i){var o=q0e(t,e),s=o.reduce(function(v,b){return Wt(Wt({},v),{},Ow({},b,[t[b],e[b]]))},{}),a=o.reduce(function(v,b){return Wt(Wt({},v),{},Ow({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Ec(function(b,x){return x.from},a)},g=function(){return!Object.values(a).filter(Mw).length},y=function(b){u||(u=b);var x=b-u,S=x/n.dt;a=p_e(n,a,S),i(Wt(Wt(Wt({},t),e),h())),u=b,g()||(l=requestAnimationFrame(d))},w=function(b){c||(c=b);var x=(b-c)/r,S=Ec(function(E,C){return hm.apply(void 0,hN(C).concat([n(x)]))},s);if(i(Wt(Wt(Wt({},t),e),S)),x<1)l=requestAnimationFrame(d);else{var P=Ec(function(E,C){return hm.apply(void 0,hN(C).concat([n(1)]))},s);i(Wt(Wt(Wt({},t),e),P))}};return d=n.isStepper?y:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var g_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function y_e(t,e){if(t==null)return{};var n=v_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qv(t){return x_e(t)||b_e(t)||w_e(t)||__e()}function __e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(t,e){if(t){if(typeof t=="string")return Dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(t,e)}}function b_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x_e(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){ic(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ic(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function S_e(t,e,n){return e&&T_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OV(t){var e=A_e(t,"string");return Il(e)==="symbol"?e:String(e)}function A_e(t,e){if(Il(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function C_e(t){var e=P_e();return function(){var r=pm(t),i;if(e){var o=pm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $w(this,i)}}function $w(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fw(t)}function Fw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}var zi=function(t){I_e(n,t);var e=C_e(n);function n(r,i){var o;E_e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,g=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Fw(o)),o.changeStyle=o.changeStyle.bind(Fw(o)),!a||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),$w(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},$w(o);o.state={style:l?ic({},l,u):u}}else o.state={style:{}};return o}return S_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(a){if(!s){var g={style:l?ic({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(D0e(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||u?d:i.to;if(this.state&&h){var v={style:l?ic({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(v)}this.runAnimation(Er(Er({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=m_e(s,a,i_e(u),l,this.changeStyle),y=function(){o.stopJSAnimation=g()};this.manager.start([h,c,y,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(w,v,b){if(b===0)return w;var x=v.duration,S=v.easing,P=S===void 0?"ease":S,E=v.style,C=v.properties,T=v.onAnimationEnd,I=b>0?s[b-1]:v,R=C||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(qv(w),[o.runJSAnimation.bind(o,{from:I.style,to:E,duration:x,easing:P}),x]);var O=cN(R,x,P),k=Er(Er(Er({},I.style),E),{},{transition:O});return[].concat(qv(w),[k,x,T]).filter(H0e)};return this.manager.start([l].concat(qv(s.reduce(g,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=B0e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?ic({},a,l):l,v=cN(Object.keys(w),s,u);y.start([c,o,Er(Er({},w),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=y_e(i,g_e),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(g){var y=g.props,w=y.style,v=w===void 0?{}:w,b=y.className,x=$.cloneElement(g,Er(Er({},l),{},{style:Er(Er({},v),c),className:b}));return x};return u===1?d($.Children.only(o)):F.createElement("div",null,$.Children.map(o,function(h){return d(h)}))}}]),n}($.PureComponent);zi.displayName="Animate";zi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zi.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function R_e(t,e){return M_e(t)||k_e(t,e)||O_e(t,e)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(t,e){if(t){if(typeof t=="string")return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(t,e)}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function M_e(t){if(Array.isArray(t))return t}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){D_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_e(t,e,n){return e=L_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_e(t){var e=$_e(t,"string");return Id(e)=="symbol"?e:e+""}function $_e(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _N=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);c="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},F_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},V_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dT=function(e){var n=vN(vN({},V_e),e),r=$.useRef(),i=$.useState(-1),o=R_e(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,y=n.animationEasing,w=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var S=Me("recharts-rectangle",g);return x?F.createElement(zi,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:y,isActive:x},function(P){var E=P.width,C=P.height,T=P.x,I=P.y;return F.createElement(zi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:b,easing:y},F.createElement("path",mm({},Ae(n,!0),{className:S,d:_N(T,I,E,C,h),ref:r})))}):F.createElement("path",mm({},Ae(n,!0),{className:S,d:_N(l,u,c,d,h)}))};function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}var fT=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Me("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",Vw({},Ae(e,!1),Op(e),{className:s,cx:n,cy:r,r:i})):null};function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var U_e=["x","y","top","left","width","height","className"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(this,arguments)}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){B_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B_e(t,e,n){return e=z_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z_e(t){var e=G_e(t,"string");return Cd(e)=="symbol"?e:e+""}function G_e(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_e(t,e){if(t==null)return{};var n=H_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var W_e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},K_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,y=e.className,w=q_e(e,U_e),v=j_e({x:r,y:o,top:a,left:u,width:d,height:g},w);return!ne(r)||!ne(o)||!ne(d)||!ne(g)||!ne(a)||!ne(u)?null:F.createElement("path",Uw({},Ae(v,!0),{className:Me("recharts-cross",y),d:W_e(r,o,d,g,a,u)}))},J_e=W$,Y_e=J_e(Object.getPrototypeOf,Object),X_e=Y_e,Q_e=Ki,Z_e=X_e,ewe=Ji,twe="[object Object]",nwe=Function.prototype,rwe=Object.prototype,kV=nwe.toString,iwe=rwe.hasOwnProperty,owe=kV.call(Object);function swe(t){if(!ewe(t)||Q_e(t)!=twe)return!1;var e=Z_e(t);if(e===null)return!0;var n=iwe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&kV.call(n)==owe}var awe=swe;const lwe=Je(awe);var uwe=Ki,cwe=Ji,dwe="[object Boolean]";function fwe(t){return t===!0||t===!1||cwe(t)&&uwe(t)==dwe}var hwe=fwe;const pwe=Je(hwe);function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function mwe(t,e){return _we(t)||vwe(t,e)||ywe(t,e)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ywe(t,e){if(t){if(typeof t=="string")return bN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(t,e)}}function bN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function _we(t){if(Array.isArray(t))return t}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){wwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wwe(t,e,n){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bwe(t){var e=xwe(t,"string");return Pd(e)=="symbol"?e:e+""}function xwe(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TN=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Ewe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Twe=function(e){var n=EN(EN({},Ewe),e),r=$.useRef(),i=$.useState(-1),o=mwe(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,y=n.animationEasing,w=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=Me("recharts-trapezoid",g);return b?F.createElement(zi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:y,isActive:b},function(S){var P=S.upperWidth,E=S.lowerWidth,C=S.height,T=S.x,I=S.y;return F.createElement(zi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:y},F.createElement("path",gm({},Ae(n,!0),{className:x,d:TN(T,I,P,E,C),ref:r})))}):F.createElement("g",null,F.createElement("path",gm({},Ae(n,!0),{className:x,d:TN(l,u,c,d,h)})))},Swe=["option","shapeType","propTransformer","activeClassName","isActive"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Awe(t,e){if(t==null)return{};var n=Iwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){Cwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cwe(t,e,n){return e=Pwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pwe(t){var e=Rwe(t,"string");return Rd(e)=="symbol"?e:e+""}function Rwe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nwe(t,e){return ym(ym({},e),t)}function Owe(t,e){return t==="symbols"}function AN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return F.createElement(dT,n);case"trapezoid":return F.createElement(Twe,n);case"sector":return F.createElement(xV,n);case"symbols":if(Owe(e))return F.createElement(RE,n);break;default:return null}}function kwe(t){return $.isValidElement(t)?t.props:t}function Mwe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Nwe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Awe(t,Swe),u;if($.isValidElement(e))u=$.cloneElement(e,ym(ym({},l),kwe(e)));else if(Te(e))u=e(l);else if(lwe(e)&&!pwe(e)){var c=i(e,l);u=F.createElement(AN,{shapeType:n,elementProps:c})}else{var d=l;u=F.createElement(AN,{shapeType:n,elementProps:d})}return a?F.createElement(dt,{className:s},u):u}function oy(t,e){return e!=null&&"trapezoids"in t.props}function sy(t,e){return e!=null&&"sectors"in t.props}function Nd(t,e){return e!=null&&"points"in t.props}function Dwe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Lwe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function $we(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Fwe(t,e){var n;return oy(t,e)?n=Dwe:sy(t,e)?n=Lwe:Nd(t,e)&&(n=$we),n}function Vwe(t,e){var n;return oy(t,e)?n="trapezoids":sy(t,e)?n="sectors":Nd(t,e)&&(n="points"),n}function Uwe(t,e){if(oy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Nd(t,e)?e.payload:{}}function jwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Vwe(n,e),o=Uwe(n,e),s=r.filter(function(l,u){var c=pd(o,l),d=n.props[i].filter(function(y){var w=Fwe(n,e);return w(y,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),a=r.indexOf(s[s.length-1]);return a}var Bwe=Math.ceil,zwe=Math.max;function Gwe(t,e,n,r){for(var i=-1,o=zwe(Bwe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var qwe=Gwe,Hwe=fF,IN=1/0,Wwe=17976931348623157e292;function Kwe(t){if(!t)return t===0?t:0;if(t=Hwe(t),t===IN||t===-IN){var e=t<0?-1:1;return e*Wwe}return t===t?t:0}var MV=Kwe,Jwe=qwe,Ywe=Kg,Hv=MV;function Xwe(t){return function(e,n,r){return r&&typeof r!="number"&&Ywe(e,n,r)&&(n=r=void 0),e=Hv(e),n===void 0?(n=e,e=0):n=Hv(n),r=r===void 0?e<n?1:-1:Hv(r),Jwe(e,n,r,t)}}var Qwe=Xwe,Zwe=Qwe,ebe=Zwe(),tbe=ebe;const vm=Je(tbe);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){DV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DV(t,e,n){return e=nbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nbe(t){var e=rbe(t,"string");return Od(e)=="symbol"?e:e+""}function rbe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ibe=["Webkit","Moz","O","ms"],obe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ibe.reduce(function(o,s){return PN(PN({},o),{},DV({},s+r,n))},{});return i[e]=n,i};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function abe(t,e,n){return e&&NN(t.prototype,e),n&&NN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lbe(t,e,n){return e=wm(e),ube(t,LV()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function ube(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cbe(t)}function cbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function dbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function Bn(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=fbe(t,"string");return Cl(e)=="symbol"?e:e+""}function fbe(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hbe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=wc().domain(vm(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},ON=function(e){return e.changedTouches&&!!e.changedTouches.length},Pl=function(t){function e(n){var r;return sbe(this,e),r=lbe(this,e,[n]),Bn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bn(r,"handleSlideDragStart",function(i){var o=ON(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return dbe(e,t),abe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(s,d),y=e.getIndexInRange(s,h);return{startIndex:g-g%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Yn(o[r],a,r);return Te(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,y=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-a,u+c-d-s):w<0&&(w=Math.max(w,u-s,u-a));var v=this.getIndex({startX:s+w,endX:a+w});(v.startIndex!==h||v.endIndex!==g)&&y&&y(v),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=ON(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,y=c.onChange,w=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-g-u):x<0&&(x=Math.max(x,d-u)),b[s]=u+x;var S=this.getIndex(b),P=S.startIndex,E=S.endIndex,C=function(){var I=v.length-1;return s==="startX"&&(a>l?P%w===0:E%w===0)||a<l&&E===I||s==="endX"&&(a>l?E%w===0:P%w===0)||a>l&&E===I};this.setState(Bn(Bn({},s,u+x),"brushMoveStartX",r.pageX),function(){y&&C()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var g=a[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(Bn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=$.Children.only(u);return d?F.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,y=l.data,w=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),x=Wv(Wv({},Ae(this.props,!1)),{},{x:b,y:u,width:c,height:d}),S=g||"Min value: ".concat((o=y[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return F.createElement(dt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,y={pointerEvents:"none",fill:u};return F.createElement(dt,{className:"recharts-brush-texts"},F.createElement(Wp,_m({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:s+a/2},y),this.getTextOfTick(i)),F.createElement(Wp,_m({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,y=h.endX,w=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ne(a)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var S=Me("recharts-brush",o),P=F.Children.count(s)===1,E=obe("userSelect","none");return F.createElement(dt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(w||v||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):Te(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Wv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?hbe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);Bn(Pl,"displayName","Brush");Bn(Pl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pbe=$E;function mbe(t,e){var n;return pbe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var gbe=mbe,ybe=V$,vbe=Ho,_be=gbe,wbe=Un,bbe=Kg;function xbe(t,e,n){var r=wbe(t)?ybe:_be;return n&&bbe(t,e,n)&&(e=void 0),r(t,vbe(e))}var Ebe=xbe;const Tbe=Je(Ebe);var ni=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},kN=aF;function Sbe(t,e,n){e=="__proto__"&&kN?kN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Abe=Sbe,Ibe=Abe,Cbe=oF,Pbe=Ho;function Rbe(t,e){var n={};return e=Pbe(e),Cbe(t,function(r,i,o){Ibe(n,i,e(r,i,o))}),n}var Nbe=Rbe;const Obe=Je(Nbe);function kbe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Mbe=kbe,Dbe=$E;function Lbe(t,e){var n=!0;return Dbe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var $be=Lbe,Fbe=Mbe,Vbe=$be,Ube=Ho,jbe=Un,Bbe=Kg;function zbe(t,e,n){var r=jbe(t)?Fbe:Vbe;return n&&Bbe(t,e,n)&&(e=void 0),r(t,Ube(e))}var Gbe=zbe;const FV=Je(Gbe);var qbe=["x","y"];function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){Hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hbe(t,e,n){return e=Wbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wbe(t){var e=Kbe(t,"string");return kd(e)=="symbol"?e:e+""}function Kbe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jbe(t,e){if(t==null)return{};var n=Ybe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ybe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xbe(t,e){var n=t.x,r=t.y,i=Jbe(t,qbe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return qu(qu(qu(qu(qu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function DN(t){return F.createElement(Mwe,Bw({shapeType:"rectangle",propTransformer:Xbe,activeClassName:"recharts-active-bar"},t))}var Qbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||cne(r);return o?e(r,i):(o||Hs(),n)}},Zbe=["value","background"],VV;function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function exe(t,e){if(t==null)return{};var n=txe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function txe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jV(r.key),r)}}function rxe(t,e,n){return e&&$N(t.prototype,e),n&&$N(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ixe(t,e,n){return e=xm(e),oxe(t,UV()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function oxe(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sxe(t)}function sxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function axe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function wo(t,e,n){return e=jV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jV(t){var e=lxe(t,"string");return Rl(e)=="symbol"?e:e+""}function lxe(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uf=function(t){function e(){var n;nxe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ixe(this,e,[].concat(i)),wo(n,"state",{isAnimationFinished:!1}),wo(n,"id",nf("recharts-bar-")),wo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),wo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return axe(e,t),rxe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ae(this.props,!1);return r&&r.map(function(d,h){var g=h===l,y=g?u:s,w=St(St(St({},c),d),{},{isActive:g,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(dt,bm({className:"recharts-bar-rectangle"},kp(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),F.createElement(DN,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return F.createElement(zi,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,w=o.map(function(v,b){var x=h&&h[b];if(x){var S=ar(x.x,v.x),P=ar(x.y,v.y),E=ar(x.width,v.width),C=ar(x.height,v.height);return St(St({},v),{},{x:S(y),y:P(y),width:E(y),height:C(y)})}if(s==="horizontal"){var T=ar(0,v.height),I=T(y);return St(St({},v),{},{y:v.y+v.height-I,height:I})}var R=ar(0,v.width),O=R(y);return St(St({},v),{},{width:O})});return F.createElement(dt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!pd(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ae(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=exe(u,Zbe);if(!d)return null;var g=St(St(St(St(St({},h),{},{fill:"#eee"},d),l),kp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return F.createElement(DN,bm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Mr(c,iy);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,g=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Yn(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(dt,y,d.map(function(w){return F.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,y=r.background,w=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Me("recharts-bar",s),x=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,P=x||S,E=Pe(w)?this.id:w;return F.createElement(dt,{className:b},x||S?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(E)},F.createElement("rect",{x:x?u:u-d/2,y:S?c:c-h/2,width:x?d:d*2,height:S?h:h*2}))):null,F.createElement(dt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!g||v)&&Oo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);VV=uf;wo(uf,"displayName","Bar");wo(uf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!au.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wo(uf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=Mye(r,n);if(!g)return null;var y=e.layout,w=n.type.defaultProps,v=w!==void 0?St(St({},w),n.props):n.props,b=v.dataKey,x=v.children,S=v.minPointSize,P=y==="horizontal"?s:o,E=u?P.scale.domain():null,C=Bye({numericAxis:P}),T=Mr(x,pF),I=d.map(function(R,O){var k,M,D,j,z,K;u?k=Dye(u[c+O],E):(k=Yn(R,b),Array.isArray(k)||(k=[C,k]));var X=Qbe(S,VV.defaultProps.minPointSize)(k[1],O);if(y==="horizontal"){var U,W=[s.scale(k[0]),s.scale(k[1])],J=W[0],ie=W[1];M=VR({axis:o,ticks:a,bandSize:i,offset:g.offset,entry:R,index:O}),D=(U=ie??J)!==null&&U!==void 0?U:void 0,j=g.size;var ee=J-ie;if(z=Number.isNaN(ee)?0:ee,K={x:M,y:s.y,width:j,height:s.height},Math.abs(X)>0&&Math.abs(z)<Math.abs(X)){var ae=Pr(z||X)*(Math.abs(X)-Math.abs(z));D-=ae,z+=ae}}else{var Se=[o.scale(k[0]),o.scale(k[1])],De=Se[0],et=Se[1];if(M=De,D=VR({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:R,index:O}),j=et-De,z=g.size,K={x:o.x,y:D,width:o.width,height:z},Math.abs(X)>0&&Math.abs(j)<Math.abs(X)){var xt=Pr(j||X)*(Math.abs(X)-Math.abs(j));j+=xt}}return St(St(St({},R),{},{x:M,y:D,width:j,height:z,value:u?k:k[1],payload:R,background:K},T&&T[O]&&T[O].props),{},{tooltipPayload:[_V(n,R)],tooltipPosition:{x:M+j/2,y:D+z/2}})});return St({data:I,layout:y},h)});function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function uxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BV(r.key),r)}}function cxe(t,e,n){return e&&FN(t.prototype,e),n&&FN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ay(t,e,n){return e=BV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=dxe(t,"string");return Md(e)=="symbol"?e:e+""}function dxe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fxe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Gn(u,uf);return c.reduce(function(g,y){var w=n[y],v=w.orientation,b=w.domain,x=w.padding,S=x===void 0?{}:x,P=w.mirror,E=w.reversed,C="".concat(v).concat(P?"Mirror":""),T,I,R,O,k;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var M=b[1]-b[0],D=1/0,j=w.categoricalDomain.sort(hne);if(j.forEach(function(Se,De){De>0&&(D=Math.min((Se||0)-(j[De-1]||0),D))}),Number.isFinite(D)){var z=D/M,K=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(T=z*K/2),w.padding==="no-gap"){var X=Gs(e.barCategoryGap,z*K),U=z*K/2;T=U-X-(U-X)/K*X}}}i==="xAxis"?I=[r.left+(S.left||0)+(T||0),r.left+r.width-(S.right||0)-(T||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(T||0),r.top+r.height-(S.bottom||0)-(T||0)]:I=w.range,E&&(I=[I[1],I[0]]);var W=Oye(w,o,h),J=W.scale,ie=W.realScaleType;J.domain(b).range(I),kye(J);var ee=jye(J,Ar(Ar({},w),{},{realScaleType:ie}));i==="xAxis"?(k=v==="top"&&!P||v==="bottom"&&P,R=r.left,O=d[C]-k*w.height):i==="yAxis"&&(k=v==="left"&&!P||v==="right"&&P,R=d[C]-k*w.width,O=r.top);var ae=Ar(Ar(Ar({},w),ee),{},{realScaleType:ie,x:R,y:O,scale:J,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return ae.bandSize=lm(ae,ee),!w.hide&&i==="xAxis"?d[C]+=(k?-1:1)*ae.height:w.hide||(d[C]+=(k?-1:1)*ae.width),Ar(Ar({},g),{},ay({},y,ae))},{})},zV=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},hxe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return zV({x:n,y:r},{x:i,y:o})},GV=function(){function t(e){uxe(this,t),this.scale=e}return cxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ay(GV,"EPS",1e-4);var hT=function(e){var n=Object.keys(e).reduce(function(r,i){return Ar(Ar({},r),{},ay({},i,GV.create(e[i])))},{});return Ar(Ar({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Obe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return FV(i,function(o,s){return n[s].isInRange(o)})}})};function pxe(t){return(t%180+180)%180}var mxe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=pxe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},gxe=Ho,yxe=rf,vxe=Hg;function _xe(t){return function(e,n,r){var i=Object(e);if(!yxe(e)){var o=gxe(n);e=vxe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var wxe=_xe,bxe=MV;function xxe(t){var e=bxe(t),n=e%1;return e===e?n?e-n:e:0}var Exe=xxe,Txe=Z$,Sxe=Ho,Axe=Exe,Ixe=Math.max;function Cxe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Axe(n);return i<0&&(i=Ixe(r+i,0)),Txe(t,Sxe(e),i)}var Pxe=Cxe,Rxe=wxe,Nxe=Pxe,Oxe=Rxe(Nxe),kxe=Oxe;const Mxe=Je(kxe);var Dxe=gte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pT=$.createContext(void 0),mT=$.createContext(void 0),qV=$.createContext(void 0),HV=$.createContext({}),WV=$.createContext(void 0),KV=$.createContext(0),JV=$.createContext(0),UN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Dxe(o);return F.createElement(pT.Provider,{value:r},F.createElement(mT.Provider,{value:i},F.createElement(HV.Provider,{value:o},F.createElement(qV.Provider,{value:c},F.createElement(WV.Provider,{value:s},F.createElement(KV.Provider,{value:u},F.createElement(JV.Provider,{value:l},a)))))))},Lxe=function(){return $.useContext(WV)},YV=function(e){var n=$.useContext(pT);n==null&&Hs();var r=n[e];return r==null&&Hs(),r},$xe=function(){var e=$.useContext(pT);return mo(e)},Fxe=function(){var e=$.useContext(mT),n=Mxe(e,function(r){return FV(r.domain,Number.isFinite)});return n||mo(e)},XV=function(e){var n=$.useContext(mT);n==null&&Hs();var r=n[e];return r==null&&Hs(),r},Vxe=function(){var e=$.useContext(qV);return e},Uxe=function(){return $.useContext(HV)},gT=function(){return $.useContext(JV)},yT=function(){return $.useContext(KV)};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZV(r.key),r)}}function zxe(t,e,n){return e&&Bxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gxe(t,e,n){return e=Em(e),qxe(t,QV()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function qxe(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hxe(t)}function Hxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function Wxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){vT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vT(t,e,n){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZV(t){var e=Kxe(t,"string");return Nl(e)=="symbol"?e:e+""}function Kxe(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jxe(t,e){return Zxe(t)||Qxe(t,e)||Xxe(t,e)||Yxe()}function Yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(t,e){if(t){if(typeof t=="string")return zN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(t,e)}}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Zxe(t){if(Array.isArray(t))return t}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}var eEe=function(e,n){var r;return F.isValidElement(e)?r=F.cloneElement(e,n):Te(e)?r=e(n):r=F.createElement("line",qw({},n,{className:"recharts-reference-line-line"})),r},tEe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var y=u.y,w=e.y.apply(y,{position:s});if(ni(u,"discard")&&!e.y.isInRange(w))return null;var v=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?v.reverse():v}if(n){var b=u.x,x=e.x.apply(b,{position:s});if(ni(u,"discard")&&!e.x.isInRange(x))return null;var S=[{x,y:d+g},{x,y:d}];return a==="top"?S.reverse():S}if(i){var P=u.segment,E=P.map(function(C){return e.apply(C,{position:s})});return ni(u,"discard")&&Tbe(E,function(C){return!e.isInRange(C)})?null:E}return null};function nEe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=Lxe(),c=YV(i),d=XV(o),h=Vxe();if(!u||!h)return null;Ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=hT({x:c.scale,y:d.scale}),y=Mt(e),w=Mt(n),v=r&&r.length===2,b=tEe(g,y,w,v,h,t.position,c.orientation,d.orientation,t);if(!b)return null;var x=Jxe(b,2),S=x[0],P=S.x,E=S.y,C=x[1],T=C.x,I=C.y,R=ni(t,"hidden")?"url(#".concat(u,")"):void 0,O=BN(BN({clipPath:R},Ae(t,!0)),{},{x1:P,y1:E,x2:T,y2:I});return F.createElement(dt,{className:Me("recharts-reference-line",a)},eEe(s,O),fn.renderCallByParent(t,hxe({x1:P,y1:E,x2:T,y2:I})))}var _T=function(t){function e(){return jxe(this,e),Gxe(this,e,arguments)}return Wxe(e,t),zxe(e,[{key:"render",value:function(){return F.createElement(nEe,this.props)}}])}(F.Component);vT(_T,"displayName","ReferenceLine");vT(_T,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function oEe(t,e,n){return e&&iEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,n){return e=Tm(e),aEe(t,eU()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function aEe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function ly(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=cEe(t,"string");return Ol(e)=="symbol"?e:e+""}function cEe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dEe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=hT({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ni(e,"discard")&&!s.isInRange(a)?null:a},uy=function(t){function e(){return rEe(this,e),sEe(this,e,arguments)}return uEe(e,t),oEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Mt(i),c=Mt(o);if(Ci(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=dEe(this.props);if(!d)return null;var h=d.x,g=d.y,y=this.props,w=y.shape,v=y.className,b=ni(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=qN(qN({clipPath:b},Ae(this.props,!0)),{},{cx:h,cy:g});return F.createElement(dt,{className:Me("recharts-reference-dot",v)},e.renderDot(w,x),fn.renderCallByParent(this.props,{x:h-s,y:g-s,width:2*s,height:2*s}))}}])}(F.Component);ly(uy,"displayName","ReferenceDot");ly(uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ly(uy,"renderDot",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):Te(t)?n=t(e):n=F.createElement(fT,Hw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){cy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function pEe(t,e,n){return e&&hEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mEe(t,e,n){return e=Sm(e),gEe(t,nU()?Reflect.construct(e,n||[],Sm(t).constructor):e.apply(t,n))}function gEe(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yEe(t)}function yEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function vEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function cy(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=_Ee(t,"string");return kl(e)=="symbol"?e:e+""}function _Ee(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wEe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=hT({x:c.scale,y:d.scale}),g={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ni(o,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:zV(g,y)},dy=function(t){function e(){return fEe(this,e),mEe(this,e,arguments)}return vEe(e,t),pEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Mt(i),h=Mt(o),g=Mt(s),y=Mt(a),w=this.props.shape;if(!d&&!h&&!g&&!y&&!w)return null;var v=wEe(d,h,g,y,this.props);if(!v&&!w)return null;var b=ni(this.props,"hidden")?"url(#".concat(c,")"):void 0;return F.createElement(dt,{className:Me("recharts-reference-area",l)},e.renderRect(w,WN(WN({clipPath:b},Ae(this.props,!0)),v)),fn.renderCallByParent(this.props,v))}}])}(F.Component);cy(dy,"displayName","ReferenceArea");cy(dy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cy(dy,"renderRect",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):Te(t)?n=t(e):n=F.createElement(dT,Kw({},e,{className:"recharts-reference-area-rect"})),n});function iU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function bEe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return mxe(r,n)}function xEe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Am(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function EEe(t,e){return iU(t,e+1)}function TEe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:iU(r,u)};var w=l,v,b=function(){return v===void 0&&(v=n(y,w)),v},x=y.coordinate,S=l===0||Am(t,x,b,c,a);S||(l=0,c=s,u+=1),S&&(c=x+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){SEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SEe(t,e,n){return e=AEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AEe(t){var e=IEe(t,"string");return Dd(e)=="symbol"?e:e+""}function IEe(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CEe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var g=o[h],y,w=function(){return y===void 0&&(y=n(g,h)),y};if(h===s-1){var v=t*(g.coordinate+t*w()/2-l);o[h]=g=un(un({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else o[h]=g=un(un({},g),{},{tickCoord:g.coordinate});var b=Am(t,g.tickCoord,w,a,l);b&&(l=g.tickCoord-t*(w()/2+i),o[h]=un(un({},g),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function PEe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),h=t*(c.coordinate+t*d/2-u);s[a-1]=c=un(un({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=Am(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),s[a-1]=un(un({},c),{},{isShow:!0}))}for(var y=o?a-1:a,w=function(x){var S=s[x],P,E=function(){return P===void 0&&(P=n(S,x)),P};if(x===0){var C=t*(S.coordinate-t*E()/2-l);s[x]=S=un(un({},S),{},{tickCoord:C<0?S.coordinate-C*t:S.coordinate})}else s[x]=S=un(un({},S),{},{tickCoord:S.coordinate});var T=Am(t,S.tickCoord,E,l,u);T&&(l=S.tickCoord+t*(E()/2+i),s[x]=un(un({},S),{},{isShow:!0}))},v=0;v<y;v++)w(v);return s}function wT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||au.isSsr)return EEe(i,typeof l=="number"&&ne(l)?l:0);var h=[],g=a==="top"||a==="bottom"?"width":"height",y=c&&g==="width"?_c(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(S,P){var E=Te(u)?u(S.value,P):S.value;return g==="width"?bEe(_c(E,{fontSize:e,letterSpacing:n}),y,d):_c(E,{fontSize:e,letterSpacing:n})[g]},v=i.length>=2?Pr(i[1].coordinate-i[0].coordinate):1,b=xEe(o,v,g);return l==="equidistantPreserveStart"?TEe(v,b,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=PEe(v,b,w,i,s,l==="preserveStartEnd"):h=CEe(v,b,w,i,s),h.filter(function(x){return x.isShow}))}var REe=["viewBox"],NEe=["viewBox"],OEe=["ticks"];function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Va.apply(this,arguments)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){bT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kv(t,e){if(t==null)return{};var n=kEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sU(r.key),r)}}function DEe(t,e,n){return e&&YN(t.prototype,e),n&&YN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LEe(t,e,n){return e=Im(e),$Ee(t,oU()?Reflect.construct(e,n||[],Im(t).constructor):e.apply(t,n))}function $Ee(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(t)}function FEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Im(t)}function VEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function bT(t,e,n){return e=sU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t){var e=UEe(t,"string");return Ml(e)=="symbol"?e:e+""}function UEe(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var du=function(t){function e(n){var r;return MEe(this,e),r=LEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return VEe(e,t),DEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Kv(r,REe),a=this.props,l=a.viewBox,u=Kv(a,NEe);return!el(o,l)||!el(s,u)||!el(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,y,w,v,b,x,S=d?-1:1,P=r.tickSize||c,E=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=y=r.coordinate,v=s+ +!d*l,w=v-S*P,x=w-S*h,b=E;break;case"left":w=v=r.coordinate,y=o+ +!d*a,g=y-S*P,b=g-S*h,x=E;break;case"right":w=v=r.coordinate,y=o+ +d*a,g=y+S*P,b=g+S*h,x=E;break;default:g=y=r.coordinate,v=s+ +d*l,w=v+S*P,x=w+S*h,b=E;break}return{line:{x1:g,y1:w,x2:y,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=Rt(Rt(Rt({},Ae(this.props,!1)),Ae(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Rt(Rt({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=Rt(Rt({},d),{},{x1:i+g*s,y1:o,x2:i+g*s,y2:o+a})}return F.createElement("line",Va({},d,{className:Me("recharts-cartesian-axis-line",pr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,g=wT(Rt(Rt({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=Ae(this.props,!1),b=Ae(c,!1),x=Rt(Rt({},v),{},{fill:"none"},Ae(l,!1)),S=g.map(function(P,E){var C=s.getTickLineCoord(P),T=C.line,I=C.tick,R=Rt(Rt(Rt(Rt({textAnchor:y,verticalAnchor:w},v),{},{stroke:"none",fill:u},b),I),{},{index:E,payload:P,visibleTicksCount:g.length,tickFormatter:d});return F.createElement(dt,Va({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},kp(s.props,P,E)),l&&F.createElement("line",Va({},x,T,{className:Me("recharts-cartesian-axis-tick-line",pr(l,"className"))})),c&&e.renderTickItem(c,R,"".concat(Te(d)?d(P.value,E):P.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Kv(d,OEe),y=h;return Te(l)&&(y=h&&h.length>0?l(this.props):l(g)),s<=0||a<=0||!y||!y.length?null:F.createElement(dt,{className:Me("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Me(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?s=F.cloneElement(r,Rt(Rt({},i),{},{className:a})):Te(r)?s=r(Rt(Rt({},i),{},{className:a})):s=F.createElement(Wp,Va({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);bT(du,"displayName","CartesianAxis");bT(du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jEe=["x1","y1","x2","y2","key"],BEe=["offset"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return e=GEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GEe(t){var e=qEe(t,"string");return Ws(e)=="symbol"?e:e+""}function qEe(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(this,arguments)}function QN(t,e){if(t==null)return{};var n=HEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WEe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return F.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function aU(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=QN(e,jEe),u=Ae(l,!1);u.offset;var c=QN(u,BEe);n=F.createElement("line",Es({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function KEe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return aU(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function JEe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return aU(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function YEe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var y=!c[g+1],w=y?i+s-h:c[g+1]-h;if(w<=0)return null;var v=g%e.length;return F.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:w,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function XEe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var y=!c[g+1],w=y?o+a-h:c[g+1]-h;if(w<=0)return null;var v=g%r.length;return F.createElement("rect",{key:"react-".concat(g),x:h,y:s,width:w,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var QEe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return yV(wT(hn(hn(hn({},du.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},ZEe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return yV(wT(hn(hn(hn({},du.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},ma={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lU(t){var e,n,r,i,o,s,a=gT(),l=yT(),u=Uxe(),c=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ma.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ma.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ma.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ma.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ma.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ma.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,y=c.height,w=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,x=$xe(),S=Fxe();if(!ne(g)||g<=0||!ne(y)||y<=0||!ne(d)||d!==+d||!ne(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||QEe,E=c.horizontalCoordinatesGenerator||ZEe,C=c.horizontalPoints,T=c.verticalPoints;if((!C||!C.length)&&Te(E)){var I=v&&v.length,R=E({yAxis:S?hn(hn({},S),{},{ticks:I?v:S.ticks}):void 0,width:a,height:l,offset:u},I?!0:w);Ci(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(R),"]")),Array.isArray(R)&&(C=R)}if((!T||!T.length)&&Te(P)){var O=b&&b.length,k=P({xAxis:x?hn(hn({},x),{},{ticks:O?b:x.ticks}):void 0,width:a,height:l,offset:u},O?!0:w);Ci(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(k),"]")),Array.isArray(k)&&(T=k)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(WEe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),F.createElement(KEe,Es({},c,{offset:u,horizontalPoints:C,xAxis:x,yAxis:S})),F.createElement(JEe,Es({},c,{offset:u,verticalPoints:T,xAxis:x,yAxis:S})),F.createElement(YEe,Es({},c,{horizontalPoints:C})),F.createElement(XEe,Es({},c,{verticalPoints:T})))}lU.displayName="CartesianGrid";var eTe=["layout","type","stroke","connectNulls","isRange","ref"],tTe=["key"],uU;function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function cU(t,e){if(t==null)return{};var n=nTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(this,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){Kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function iTe(t,e,n){return e&&eO(t.prototype,e),n&&eO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oTe(t,e,n){return e=Cm(e),sTe(t,dU()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function sTe(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aTe(t)}function aTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dU=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function lTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Kr(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fU(t){var e=uTe(t,"string");return Dl(e)=="symbol"?e:e+""}function uTe(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yo=function(t){function e(){var n;rTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oTe(this,e,[].concat(i)),Kr(n,"state",{isAnimationFinished:!0}),Kr(n,"id",nf("recharts-area-")),Kr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(s)&&s()}),Kr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(s)&&s()}),n}return lTe(e,t),iTe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=Ae(this.props,!1),g=Ae(u,!0),y=c.map(function(v,b){var x=io(io(io({key:"dot-".concat(b),r:3},h),g),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,x)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return F.createElement(dt,Ts({className:"recharts-area-dots"},w),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=_o(s.map(function(h){return h.y||0}));return ne(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(_o(o.map(function(h){return h.y||0})),d)),ne(d)?F.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=_o(s.map(function(h){return h.x||0}));return ne(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(_o(o.map(function(h){return h.x||0})),d)),ne(d)?F.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var g=cU(a,eTe);return F.createElement(dt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},F.createElement(xc,Ts({},Ae(g,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&F.createElement(xc,Ts({},Ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&F.createElement(xc,Ts({},Ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,g=s.animationId,y=this.state,w=y.prevPoints,v=y.prevBaseLine;return F.createElement(zi,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(w){var S=w.length/a.length,P=a.map(function(I,R){var O=Math.floor(R*S);if(w[O]){var k=w[O],M=ar(k.x,I.x),D=ar(k.y,I.y);return io(io({},I),{},{x:M(x),y:D(x)})}return I}),E;if(ne(l)&&typeof l=="number"){var C=ar(v,l);E=C(x)}else if(Pe(l)||ru(l)){var T=ar(v,0);E=T(x)}else E=l.map(function(I,R){var O=Math.floor(R*S);if(v[O]){var k=v[O],M=ar(k.x,I.x),D=ar(k.y,I.y);return io(io({},I),{},{x:M(x),y:D(x)})}return I});return o.renderAreaStatically(P,E,r,i)}return F.createElement(dt,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),F.createElement(dt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!pd(c,s)||!pd(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,g=i.width,y=i.height,w=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,x=a.length===1,S=Me("recharts-area",l),P=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,C=P||E,T=Pe(v)?this.id:v,I=(r=Ae(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=I.r,O=R===void 0?3:R,k=I.strokeWidth,M=k===void 0?2:k,D=xne(s)?s:{},j=D.clipDot,z=j===void 0?!0:j,K=O*2+M;return F.createElement(dt,{className:S},P||E?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(T)},F.createElement("rect",{x:P?c:c-g/2,y:E?u:u-y/2,width:P?g:g*2,height:E?y:y*2})),!z&&F.createElement("clipPath",{id:"clipPath-dots-".concat(T)},F.createElement("rect",{x:c-K/2,y:u-K/2,width:g+K,height:y+K}))):null,x?null:this.renderArea(C,T),(s||x)&&this.renderDots(C,z,T),(!w||b)&&Oo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}($.PureComponent);uU=Yo;Kr(Yo,"displayName","Area");Kr(Yo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!au.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Kr(Yo,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(ne(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Kr(Yo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=e.layout,y=u&&u.length,w=uU.getBaseValue(e,n,r,i),v=g==="horizontal",b=!1,x=d.map(function(P,E){var C;y?C=u[c+E]:(C=Yn(P,l),Array.isArray(C)?b=!0:C=[w,C]);var T=C[1]==null||y&&Yn(P,l)==null;return v?{x:FR({axis:r,ticks:o,bandSize:a,entry:P,index:E}),y:T?null:i.scale(C[1]),value:C,payload:P}:{x:T?null:r.scale(C[1]),y:FR({axis:i,ticks:s,bandSize:a,entry:P,index:E}),value:C,payload:P}}),S;return y||b?S=x.map(function(P){var E=Array.isArray(P.value)?P.value[0]:null;return v?{x:P.x,y:E!=null&&P.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:P.y}}):S=v?i.scale(w):r.scale(w),io({points:x,baseLine:S,layout:g,isRange:b},h)});Kr(Yo,"renderDotItem",function(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=Me("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=cU(e,tTe);n=F.createElement(fT,Ts({},o,{key:i,className:r}))}return n});function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function cTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function fTe(t,e,n){return e&&dTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hTe(t,e,n){return e=Pm(e),pTe(t,hU()?Reflect.construct(e,n||[],Pm(t).constructor):e.apply(t,n))}function pTe(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mTe(t)}function mTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pm(t)}function gTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function pU(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t){var e=yTe(t,"string");return Ll(e)=="symbol"?e:e+""}function yTe(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function vTe(t){var e=t.xAxisId,n=gT(),r=yT(),i=YV(e);return i==null?null:$.createElement(du,Zw({},i,{className:Me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return xi(s,!0)}}))}var fy=function(t){function e(){return cTe(this,e),hTe(this,e,arguments)}return gTe(e,t),fTe(e,[{key:"render",value:function(){return $.createElement(vTe,this.props)}}])}($.Component);pU(fy,"displayName","XAxis");pU(fy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function _Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vU(r.key),r)}}function bTe(t,e,n){return e&&wTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xTe(t,e,n){return e=Rm(e),ETe(t,gU()?Reflect.construct(e,n||[],Rm(t).constructor):e.apply(t,n))}function ETe(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TTe(t)}function TTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gU=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function STe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function yU(t,e,n){return e=vU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vU(t){var e=ATe(t,"string");return $l(e)=="symbol"?e:e+""}function ATe(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}var ITe=function(e){var n=e.yAxisId,r=gT(),i=yT(),o=XV(n);return o==null?null:$.createElement(du,tb({},o,{className:Me("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return xi(a,!0)}}))},hy=function(t){function e(){return _Te(this,e),xTe(this,e,arguments)}return STe(e,t),bTe(e,[{key:"render",value:function(){return $.createElement(ITe,this.props)}}])}($.Component);yU(hy,"displayName","YAxis");yU(hy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tO(t){return NTe(t)||RTe(t)||PTe(t)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PTe(t,e){if(t){if(typeof t=="string")return nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(t,e)}}function RTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NTe(t){if(Array.isArray(t))return nb(t)}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rb=function(e,n,r,i,o){var s=Mr(e,_T),a=Mr(e,uy),l=[].concat(tO(s),tO(a)),u=Mr(e,dy),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,v){if(v.props[c]===r&&ni(v.props,"extendDomain")&&ne(v.props[d])){var b=v.props[d];return[Math.min(w[0],b),Math.max(w[1],b)]}return w},h)),u.length){var g="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(w,v){if(v.props[c]===r&&ni(v.props,"extendDomain")&&ne(v.props[g])&&ne(v.props[y])){var b=v.props[g],x=v.props[y];return[Math.min(w[0],b,x),Math.max(w[1],b,x)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,v){return ne(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},h)),h},_U={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,y=new Array(g);h<g;h++)y[h]=d[h].fn;return y},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,g,y){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],b=arguments.length,x,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,g),!0;case 6:return v.fn.call(v.context,c,d,h,g,y),!0}for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v.fn.apply(v.context,x)}else{var P=v.length,E;for(S=0;S<P;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),b){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,c);break;case 3:v[S].fn.call(v[S].context,c,d);break;case 4:v[S].fn.call(v[S].context,c,d,h);break;default:if(!x)for(E=1,x=new Array(b-1);E<b;E++)x[E-1]=arguments[E];v[S].fn.apply(v[S].context,x)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return s(this,g),this;var y=this._events[g];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&s(this,g);else{for(var w=0,v=[],b=y.length;w<b;w++)(y[w].fn!==c||h&&!y[w].once||d&&y[w].context!==d)&&v.push(y[w]);v.length?this._events[g]=v.length===1?v[0]:v:s(this,g)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(_U);var OTe=_U.exports;const kTe=Je(OTe);var Jv=new kTe,Yv="recharts.syncMouseEvents";function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function MTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function LTe(t,e,n){return e&&DTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xv(t,e,n){return e=wU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=$Te(t,"string");return Ld(e)=="symbol"?e:e+""}function $Te(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FTe=function(){function t(){MTe(this,t),Xv(this,"activeIndex",0),Xv(this,"coordinateList",[]),Xv(this,"layout","horizontal")}return LTe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function VTe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function UTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function bU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xt(e,n,r,i),a=Xt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function jTe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Xt(a,l,u,d),g=Xt(a,l,c,d);r=h.x,i=h.y,o=g.x,s=g.y}else return bU(e);return[{x:r,y:i},{x:o,y:s}]}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){BTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BTe(t,e,n){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zTe(t){var e=GTe(t,"string");return $d(e)=="symbol"?e:e+""}function GTe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qTe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,w=xc;if(h==="ScatterChart")y=s,w=K_e;else if(h==="BarChart")y=UTe(d,s,l,c),w=dT;else if(d==="radial"){var v=bU(s),b=v.cx,x=v.cy,S=v.radius,P=v.startAngle,E=v.endAngle;y={cx:b,cy:x,startAngle:P,endAngle:E,innerRadius:S,outerRadius:S},w=xV}else y={points:jTe(d,s,l)},w=xc;var C=fh(fh(fh(fh({stroke:"#ccc",pointerEvents:"none"},l),y),Ae(g,!1)),{},{payload:a,payloadIndex:u,className:Me("recharts-tooltip-cursor",g.className)});return $.isValidElement(g)?$.cloneElement(g,C):$.createElement(w,C)}var HTe=["item"],WTe=["children","className","width","height","style","compact","title","desc"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}function rO(t,e){return YTe(t)||JTe(t,e)||EU(t,e)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function YTe(t){if(Array.isArray(t))return t}function iO(t,e){if(t==null)return{};var n=XTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function eSe(t,e,n){return e&&ZTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tSe(t,e,n){return e=Nm(e),nSe(t,xU()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function nSe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(t)}function rSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xU=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function iSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Vl(t){return aSe(t)||sSe(t)||EU(t)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(t,e){if(t){if(typeof t=="string")return ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ob(t,e)}}function sSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aSe(t){if(Array.isArray(t))return ob(t)}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pe(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=lSe(t,"string");return Fl(e)=="symbol"?e:e+""}function lSe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uSe={xAxis:["bottom","top"],yAxis:["left","right"]},cSe={width:"100%",height:"100%"},SU={x:0,y:0};function hh(t){return t}var dSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},fSe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Xt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return SU},py=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Vl(a),Vl(u)):a},[]);return s.length>0?s:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function AU(t){return t==="number"?[0,"auto"]:void 0}var sb=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=py(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var g=d===void 0?a:d;h=Np(g,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Vl(l),[_V(u,h)]):l},[])},sO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=dSe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Aye(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=sb(e,n,c,d),g=fSe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},hSe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=gV(c,o);return r.reduce(function(y,w){var v,b=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,x=b.type,S=b.dataKey,P=b.allowDataOverflow,E=b.allowDuplicatedCategory,C=b.scale,T=b.ticks,I=b.includeHidden,R=b[s];if(y[R])return y;var O=py(e.data,{graphicalItems:i.filter(function(ee){var ae,Se=s in ee.props?ee.props[s]:(ae=ee.type.defaultProps)===null||ae===void 0?void 0:ae[s];return Se===R}),dataStartIndex:l,dataEndIndex:u}),k=O.length,M,D,j;VTe(b.domain,P,x)&&(M=Sw(b.domain,null,P),g&&(x==="number"||C!=="auto")&&(j=bc(O,S,"category")));var z=AU(x);if(!M||M.length===0){var K,X=(K=b.domain)!==null&&K!==void 0?K:z;if(S){if(M=bc(O,S,x),x==="category"&&g){var U=fne(M);E&&U?(D=M,M=vm(0,k)):E||(M=BR(X,M,w).reduce(function(ee,ae){return ee.indexOf(ae)>=0?ee:[].concat(Vl(ee),[ae])},[]))}else if(x==="category")E?M=M.filter(function(ee){return ee!==""&&!Pe(ee)}):M=BR(X,M,w).reduce(function(ee,ae){return ee.indexOf(ae)>=0||ae===""||Pe(ae)?ee:[].concat(Vl(ee),[ae])},[]);else if(x==="number"){var W=Nye(O,i.filter(function(ee){var ae,Se,De=s in ee.props?ee.props[s]:(ae=ee.type.defaultProps)===null||ae===void 0?void 0:ae[s],et="hide"in ee.props?ee.props.hide:(Se=ee.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return De===R&&(I||!et)}),S,o,c);W&&(M=W)}g&&(x==="number"||C!=="auto")&&(j=bc(O,S,"category"))}else g?M=vm(0,k):a&&a[R]&&a[R].hasStack&&x==="number"?M=h==="expand"?[0,1]:vV(a[R].stackGroups,l,u):M=mV(O,i.filter(function(ee){var ae=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Se="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return ae===R&&(I||!Se)}),x,c,!0);if(x==="number")M=rb(d,M,R,o,T),X&&(M=Sw(X,M,P));else if(x==="category"&&X){var J=X,ie=M.every(function(ee){return J.indexOf(ee)>=0});ie&&(M=J)}}return H(H({},y),{},pe({},R,H(H({},b),{},{axisType:o,domain:M,categoricalDomain:j,duplicateDomain:D,originalDomain:(v=b.domain)!==null&&v!==void 0?v:z,isCategorical:g,layout:c})))},{})},pSe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=py(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,y=gV(c,o),w=-1;return r.reduce(function(v,b){var x=b.type.defaultProps!==void 0?H(H({},b.type.defaultProps),b.props):b.props,S=x[s],P=AU("number");if(!v[S]){w++;var E;return y?E=vm(0,g):a&&a[S]&&a[S].hasStack?(E=vV(a[S].stackGroups,l,u),E=rb(d,E,S,o)):(E=Sw(P,mV(h,r.filter(function(C){var T,I,R=s in C.props?C.props[s]:(T=C.type.defaultProps)===null||T===void 0?void 0:T[s],O="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===S&&!O}),"number",c),i.defaultProps.allowDataOverflow),E=rb(d,E,S,o)),H(H({},v),{},pe({},S,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:pr(uSe,"".concat(o,".").concat(w%2),null),domain:E,originalDomain:P,isCategorical:y,layout:c})))}return v},{})},mSe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Mr(c,o),g={};return h&&h.length?g=hSe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(g=pSe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),g},gSe=function(e){var n=mo(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:FE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lm(n,r)}},aO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Gn(n,Pl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},ySe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ii(n&&n.type);return r&&r.indexOf("Bar")>=0})},lO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vSe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=Gn(d,Pl),y=Gn(d,tl),w=Object.keys(l).reduce(function(E,C){var T=l[C],I=T.orientation;return!T.mirror&&!T.hide?H(H({},E),{},pe({},I,E[I]+T.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,C){var T=s[C],I=T.orientation;return!T.mirror&&!T.hide?H(H({},E),{},pe({},I,pr(E,"".concat(I))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=H(H({},v),w),x=b.bottom;g&&(b.bottom+=g.props.height||Pl.defaultProps.height),y&&n&&(b=Pye(b,i,r,n));var S=u-b.left-b.right,P=c-b.top-b.bottom;return H(H({brushBottom:x},b),{},{width:Math.max(S,0),height:Math.max(P,0)})},_Se=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},wSe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(b,x){var S=x.graphicalItems,P=x.stackGroups,E=x.offset,C=x.updateId,T=x.dataStartIndex,I=x.dataEndIndex,R=b.barSize,O=b.layout,k=b.barGap,M=b.barCategoryGap,D=b.maxBarSize,j=lO(O),z=j.numericAxisName,K=j.cateAxisName,X=ySe(S),U=[];return S.forEach(function(W,J){var ie=py(b.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:I}),ee=W.type.defaultProps!==void 0?H(H({},W.type.defaultProps),W.props):W.props,ae=ee.dataKey,Se=ee.maxBarSize,De=ee["".concat(z,"Id")],et=ee["".concat(K,"Id")],xt={},Pt=l.reduce(function(tr,Cn){var _t=x["".concat(Cn.axisType,"Map")],Xi=ee["".concat(Cn.axisType,"Id")];_t&&_t[Xi]||Cn.axisType==="zAxis"||Hs();var Xo=_t[Xi];return H(H({},tr),{},pe(pe({},Cn.axisType,Xo),"".concat(Cn.axisType,"Ticks"),xi(Xo)))},xt),oe=Pt[K],me=Pt["".concat(K,"Ticks")],ge=P&&P[De]&&P[De].hasStack&&zye(W,P[De].stackGroups),Q=Ii(W.type).indexOf("Bar")>=0,je=lm(oe,me),Ee=[],tt=X&&Iye({barSize:R,stackGroups:P,totalSize:_Se(Pt,K)});if(Q){var nt,$t,Zn=Pe(Se)?D:Se,er=(nt=($t=lm(oe,me,!0))!==null&&$t!==void 0?$t:Zn)!==null&&nt!==void 0?nt:0;Ee=Cye({barGap:k,barCategoryGap:M,bandSize:er!==je?er:je,sizeList:tt[et],maxBarSize:Zn}),er!==je&&(Ee=Ee.map(function(tr){return H(H({},tr),{},{position:H(H({},tr.position),{},{offset:tr.position.offset-er/2})})}))}var jr=W&&W.type&&W.type.getComposedData;jr&&U.push({props:H(H({},jr(H(H({},Pt),{},{displayedData:ie,props:b,dataKey:ae,item:W,bandSize:je,barPosition:Ee,offset:E,stackedData:ge,layout:O,dataStartIndex:T,dataEndIndex:I}))),{},pe(pe(pe({key:W.key||"item-".concat(J)},z,Pt[z]),K,Pt[K]),"animationId",C)),childIndex:Sne(W,b.children),item:W})}),U},g=function(b,x){var S=b.props,P=b.dataStartIndex,E=b.dataEndIndex,C=b.updateId;if(!DP({props:S}))return null;var T=S.children,I=S.layout,R=S.stackOffset,O=S.data,k=S.reverseStackOrder,M=lO(I),D=M.numericAxisName,j=M.cateAxisName,z=Mr(T,r),K=Uye(O,z,"".concat(D,"Id"),"".concat(j,"Id"),R,k),X=l.reduce(function(ee,ae){var Se="".concat(ae.axisType,"Map");return H(H({},ee),{},pe({},Se,mSe(S,H(H({},ae),{},{graphicalItems:z,stackGroups:ae.axisType===D&&K,dataStartIndex:P,dataEndIndex:E}))))},{}),U=vSe(H(H({},X),{},{props:S,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(X).forEach(function(ee){X[ee]=c(S,X[ee],U,ee.replace("Map",""),n)});var W=X["".concat(j,"Map")],J=gSe(W),ie=h(S,H(H({},X),{},{dataStartIndex:P,dataEndIndex:E,updateId:C,graphicalItems:z,stackGroups:K,offset:U}));return H(H({formattedGraphicalItems:ie,graphicalItems:z,offset:U,stackGroups:K},J),X)},y=function(v){function b(x){var S,P,E;return QTe(this,b),E=tSe(this,b,[x]),pe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pe(E,"accessibilityManager",new FTe),pe(E,"handleLegendBBoxUpdate",function(C){if(C){var T=E.state,I=T.dataStartIndex,R=T.dataEndIndex,O=T.updateId;E.setState(H({legendBBox:C},g({props:E.props,dataStartIndex:I,dataEndIndex:R,updateId:O},H(H({},E.state),{},{legendBBox:C}))))}}),pe(E,"handleReceiveSyncEvent",function(C,T,I){if(E.props.syncId===C){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),pe(E,"handleBrushChange",function(C){var T=C.startIndex,I=C.endIndex;if(T!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return H({dataStartIndex:T,dataEndIndex:I},g({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),pe(E,"handleMouseEnter",function(C){var T=E.getMouseInfo(C);if(T){var I=H(H({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var R=E.props.onMouseEnter;Te(R)&&R(I,C)}}),pe(E,"triggeredAfterMouseMove",function(C){var T=E.getMouseInfo(C),I=T?H(H({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var R=E.props.onMouseMove;Te(R)&&R(I,C)}),pe(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),pe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),pe(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),pe(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseLeave;Te(I)&&I(T,C)}),pe(E,"handleOuterEvent",function(C){var T=Tne(C),I=pr(E.props,"".concat(T));if(T&&Te(I)){var R,O;/.*touch.*/i.test(T)?O=E.getMouseInfo(C.changedTouches[0]):O=E.getMouseInfo(C),I((R=O)!==null&&R!==void 0?R:{},C)}}),pe(E,"handleClick",function(C){var T=E.getMouseInfo(C);if(T){var I=H(H({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var R=E.props.onClick;Te(R)&&R(I,C)}}),pe(E,"handleMouseDown",function(C){var T=E.props.onMouseDown;if(Te(T)){var I=E.getMouseInfo(C);T(I,C)}}),pe(E,"handleMouseUp",function(C){var T=E.props.onMouseUp;if(Te(T)){var I=E.getMouseInfo(C);T(I,C)}}),pe(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),pe(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),pe(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),pe(E,"handleDoubleClick",function(C){var T=E.props.onDoubleClick;if(Te(T)){var I=E.getMouseInfo(C);T(I,C)}}),pe(E,"handleContextMenu",function(C){var T=E.props.onContextMenu;if(Te(T)){var I=E.getMouseInfo(C);T(I,C)}}),pe(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&Jv.emit(Yv,E.props.syncId,C,E.eventEmitterSymbol)}),pe(E,"applySyncEvent",function(C){var T=E.props,I=T.layout,R=T.syncMethod,O=E.state.updateId,k=C.dataStartIndex,M=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(H({dataStartIndex:k,dataEndIndex:M},g({props:E.props,dataStartIndex:k,dataEndIndex:M,updateId:O},E.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,j=C.chartY,z=C.activeTooltipIndex,K=E.state,X=K.offset,U=K.tooltipTicks;if(!X)return;if(typeof R=="function")z=R(U,C);else if(R==="value"){z=-1;for(var W=0;W<U.length;W++)if(U[W].value===C.activeLabel){z=W;break}}var J=H(H({},X),{},{x:X.left,y:X.top}),ie=Math.min(D,J.x+J.width),ee=Math.min(j,J.y+J.height),ae=U[z]&&U[z].value,Se=sb(E.state,E.props.data,z),De=U[z]?{x:I==="horizontal"?U[z].coordinate:ie,y:I==="horizontal"?ee:U[z].coordinate}:SU;E.setState(H(H({},C),{},{activeLabel:ae,activeCoordinate:De,activePayload:Se,activeTooltipIndex:z}))}else E.setState(C)}),pe(E,"renderCursor",function(C){var T,I=E.state,R=I.isTooltipActive,O=I.activeCoordinate,k=I.activePayload,M=I.offset,D=I.activeTooltipIndex,j=I.tooltipAxisBandSize,z=E.getTooltipEventType(),K=(T=C.props.active)!==null&&T!==void 0?T:R,X=E.props.layout,U=C.key||"_recharts-cursor";return F.createElement(qTe,{key:U,activeCoordinate:O,activePayload:k,activeTooltipIndex:D,chartName:n,element:C,isActive:K,layout:X,offset:M,tooltipAxisBandSize:j,tooltipEventType:z})}),pe(E,"renderPolarAxis",function(C,T,I){var R=pr(C,"type.axisType"),O=pr(E.state,"".concat(R,"Map")),k=C.type.defaultProps,M=k!==void 0?H(H({},k),C.props):C.props,D=O&&O[M["".concat(R,"Id")]];return $.cloneElement(C,H(H({},D),{},{className:Me(R,D.className),key:C.key||"".concat(T,"-").concat(I),ticks:xi(D,!0)}))}),pe(E,"renderPolarGrid",function(C){var T=C.props,I=T.radialLines,R=T.polarAngles,O=T.polarRadius,k=E.state,M=k.radiusAxisMap,D=k.angleAxisMap,j=mo(M),z=mo(D),K=z.cx,X=z.cy,U=z.innerRadius,W=z.outerRadius;return $.cloneElement(C,{polarAngles:Array.isArray(R)?R:xi(z,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(O)?O:xi(j,!0).map(function(J){return J.coordinate}),cx:K,cy:X,innerRadius:U,outerRadius:W,key:C.key||"polar-grid",radialLines:I})}),pe(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,T=E.props,I=T.children,R=T.width,O=T.height,k=E.props.margin||{},M=R-(k.left||0)-(k.right||0),D=hV({children:I,formattedGraphicalItems:C,legendWidth:M,legendContent:u});if(!D)return null;var j=D.item,z=iO(D,HTe);return $.cloneElement(j,H(H({},z),{},{chartWidth:R,chartHeight:O,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),pe(E,"renderTooltip",function(){var C,T=E.props,I=T.children,R=T.accessibilityLayer,O=Gn(I,Gr);if(!O)return null;var k=E.state,M=k.isTooltipActive,D=k.activeCoordinate,j=k.activePayload,z=k.activeLabel,K=k.offset,X=(C=O.props.active)!==null&&C!==void 0?C:M;return $.cloneElement(O,{viewBox:H(H({},K),{},{x:K.left,y:K.top}),active:X,label:z,payload:X?j:[],coordinate:D,accessibilityLayer:R})}),pe(E,"renderBrush",function(C){var T=E.props,I=T.margin,R=T.data,O=E.state,k=O.offset,M=O.dataStartIndex,D=O.dataEndIndex,j=O.updateId;return $.cloneElement(C,{key:C.key||"_recharts-brush",onChange:lh(E.handleBrushChange,C.props.onChange),data:R,x:ne(C.props.x)?C.props.x:k.left,y:ne(C.props.y)?C.props.y:k.top+k.height+k.brushBottom-(I.bottom||0),width:ne(C.props.width)?C.props.width:k.width,startIndex:M,endIndex:D,updateId:"brush-".concat(j)})}),pe(E,"renderReferenceElement",function(C,T,I){if(!C)return null;var R=E,O=R.clipPathId,k=E.state,M=k.xAxisMap,D=k.yAxisMap,j=k.offset,z=C.type.defaultProps||{},K=C.props,X=K.xAxisId,U=X===void 0?z.xAxisId:X,W=K.yAxisId,J=W===void 0?z.yAxisId:W;return $.cloneElement(C,{key:C.key||"".concat(T,"-").concat(I),xAxis:M[U],yAxis:D[J],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:O})}),pe(E,"renderActivePoints",function(C){var T=C.item,I=C.activePoint,R=C.basePoint,O=C.childIndex,k=C.isRange,M=[],D=T.props.key,j=T.item.type.defaultProps!==void 0?H(H({},T.item.type.defaultProps),T.item.props):T.item.props,z=j.activeDot,K=j.dataKey,X=H(H({index:O,dataKey:K,cx:I.x,cy:I.y,r:4,fill:cT(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ae(z,!1)),Op(z));return M.push(b.renderActiveDot(z,X,"".concat(D,"-activePoint-").concat(O))),R?M.push(b.renderActiveDot(z,H(H({},X),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(O))):k&&M.push(null),M}),pe(E,"renderGraphicChild",function(C,T,I){var R=E.filterFormatItem(C,T,I);if(!R)return null;var O=E.getTooltipEventType(),k=E.state,M=k.isTooltipActive,D=k.tooltipAxis,j=k.activeTooltipIndex,z=k.activeLabel,K=E.props.children,X=Gn(K,Gr),U=R.props,W=U.points,J=U.isRange,ie=U.baseLine,ee=R.item.type.defaultProps!==void 0?H(H({},R.item.type.defaultProps),R.item.props):R.item.props,ae=ee.activeDot,Se=ee.hide,De=ee.activeBar,et=ee.activeShape,xt=!!(!Se&&M&&X&&(ae||De||et)),Pt={};O!=="axis"&&X&&X.props.trigger==="click"?Pt={onClick:lh(E.handleItemMouseEnter,C.props.onClick)}:O!=="axis"&&(Pt={onMouseLeave:lh(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:lh(E.handleItemMouseEnter,C.props.onMouseEnter)});var oe=$.cloneElement(C,H(H({},R.props),Pt));function me(Cn){return typeof D.dataKey=="function"?D.dataKey(Cn.payload):null}if(xt)if(j>=0){var ge,Q;if(D.dataKey&&!D.allowDuplicatedCategory){var je=typeof D.dataKey=="function"?me:"payload.".concat(D.dataKey.toString());ge=Np(W,je,z),Q=J&&ie&&Np(ie,je,z)}else ge=W==null?void 0:W[j],Q=J&&ie&&ie[j];if(et||De){var Ee=C.props.activeIndex!==void 0?C.props.activeIndex:j;return[$.cloneElement(C,H(H(H({},R.props),Pt),{},{activeIndex:Ee})),null,null]}if(!Pe(ge))return[oe].concat(Vl(E.renderActivePoints({item:R,activePoint:ge,basePoint:Q,childIndex:j,isRange:J})))}else{var tt,nt=(tt=E.getItemByXY(E.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:oe},$t=nt.graphicalItem,Zn=$t.item,er=Zn===void 0?C:Zn,jr=$t.childIndex,tr=H(H(H({},R.props),Pt),{},{activeIndex:jr});return[$.cloneElement(er,tr),null,null]}return J?[oe,null,null]:[oe,null]}),pe(E,"renderCustomized",function(C,T,I){return $.cloneElement(C,H(H({key:"recharts-customized-".concat(I)},E.props),E.state))}),pe(E,"renderMap",{CartesianGrid:{handler:hh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:hh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:hh},YAxis:{handler:hh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:nf("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=hF(E.triggeredAfterMouseMove,(P=x.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return iSe(b,v),eSe(b,[{key:"componentDidMount",value:function(){var S,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,P=S.children,E=S.data,C=S.height,T=S.layout,I=Gn(P,Gr);if(I){var R=I.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,k=sb(this.state,E,R,O),M=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+C)/2,j=T==="horizontal",z=j?{x:M,y:D}:{y:M,x:D},K=this.state.formattedGraphicalItems.find(function(U){var W=U.item;return W.type.name==="Scatter"});K&&(z=H(H({},z),K.props.points[R].tooltipPosition),k=K.props.points[R].tooltipPayload);var X={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:z};this.setState(X),this.renderCursor(I),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(S){U_([Gn(S.children,Gr)],[Gn(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Gn(this.props.children,Gr);if(S&&typeof S.props.shared=="boolean"){var P=S.props.shared?"axis":"item";return a.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),C=Qfe(E),T={chartX:Math.round(S.pageX-C.left),chartY:Math.round(S.pageY-C.top)},I=E.width/P.offsetWidth||1,R=this.inRange(T.chartX,T.chartY,I);if(!R)return null;var O=this.state,k=O.xAxisMap,M=O.yAxisMap,D=this.getTooltipEventType(),j=sO(this.state,this.props.data,this.props.layout,R);if(D!=="axis"&&k&&M){var z=mo(k).scale,K=mo(M).scale,X=z&&z.invert?z.invert(T.chartX):null,U=K&&K.invert?K.invert(T.chartY):null;return H(H({},T),{},{xValue:X,yValue:U},j)}return j?H(H({},T),j):null}},{key:"inRange",value:function(S,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,T=S/E,I=P/E;if(C==="horizontal"||C==="vertical"){var R=this.state.offset,O=T>=R.left&&T<=R.left+R.width&&I>=R.top&&I<=R.top+R.height;return O?{x:T,y:I}:null}var k=this.state,M=k.angleAxisMap,D=k.radiusAxisMap;if(M&&D){var j=mo(M);return qR({x:T,y:I},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,P=this.getTooltipEventType(),E=Gn(S,Gr),C={};E&&P==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Op(this.props,this.handleOuterEvent);return H(H({},T),C)}},{key:"addListener",value:function(){Jv.on(Yv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jv.removeListener(Yv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,P,E){for(var C=this.state.formattedGraphicalItems,T=0,I=C.length;T<I;T++){var R=C[T];if(R.item===S||R.props.key===S.key||P===Ii(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,P=this.state.offset,E=P.left,C=P.top,T=P.height,I=P.width;return F.createElement("defs",null,F.createElement("clipPath",{id:S},F.createElement("rect",{x:E,y:C,height:T,width:I})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(P,E){var C=rO(E,2),T=C[0],I=C[1];return H(H({},P),{},pe({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(P,E){var C=rO(E,2),T=C[0],I=C[1];return H(H({},P),{},pe({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(S){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(S){var P=this.state,E=P.formattedGraphicalItems,C=P.activeItem;if(E&&E.length)for(var T=0,I=E.length;T<I;T++){var R=E[T],O=R.props,k=R.item,M=k.type.defaultProps!==void 0?H(H({},k.type.defaultProps),k.props):k.props,D=Ii(k.type);if(D==="Bar"){var j=(O.data||[]).find(function(U){return F_e(S,U)});if(j)return{graphicalItem:R,payload:j}}else if(D==="RadialBar"){var z=(O.data||[]).find(function(U){return qR(S,U)});if(z)return{graphicalItem:R,payload:z}}else if(oy(R,C)||sy(R,C)||Nd(R,C)){var K=jwe({graphicalItem:R,activeTooltipItem:C,itemData:M.data}),X=M.activeIndex===void 0?K:M.activeIndex;return{graphicalItem:H(H({},R),{},{childIndex:X}),payload:Nd(R,C)?M.data[K]:R.props.data[K]}}}return null}},{key:"render",value:function(){var S=this;if(!DP(this))return null;var P=this.props,E=P.children,C=P.className,T=P.width,I=P.height,R=P.style,O=P.compact,k=P.title,M=P.desc,D=iO(P,WTe),j=Ae(D,!1);if(O)return F.createElement(UN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(B_,Ua({},j,{width:T,height:I,title:k,desc:M}),this.renderClipPath(),$P(E,this.renderMap)));if(this.props.accessibilityLayer){var z,K;j.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,j.role=(K=this.props.role)!==null&&K!==void 0?K:"application",j.onKeyDown=function(U){S.accessibilityManager.keyboardEvent(U)},j.onFocus=function(){S.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return F.createElement(UN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Ua({className:Me("recharts-wrapper",C),style:H({position:"relative",cursor:"default",width:T,height:I},R)},X,{ref:function(W){S.container=W}}),F.createElement(B_,Ua({},j,{width:T,height:I,title:k,desc:M,style:cSe}),this.renderClipPath(),$P(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);pe(y,"displayName",n),pe(y,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),pe(y,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,S=v.data,P=v.children,E=v.width,C=v.height,T=v.layout,I=v.stackOffset,R=v.margin,O=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var M=aO(v);return H(H(H({},M),{},{updateId:0},g(H(H({props:v},M),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:S,prevWidth:E,prevHeight:C,prevLayout:T,prevStackOffset:I,prevMargin:R,prevChildren:P})}if(x!==b.prevDataKey||S!==b.prevData||E!==b.prevWidth||C!==b.prevHeight||T!==b.prevLayout||I!==b.prevStackOffset||!el(R,b.prevMargin)){var D=aO(v),j={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=H(H({},sO(b,S,T)),{},{updateId:b.updateId+1}),K=H(H(H({},D),j),z);return H(H(H({},K),g(H({props:v},K),b)),{},{prevDataKey:x,prevData:S,prevWidth:E,prevHeight:C,prevLayout:T,prevStackOffset:I,prevMargin:R,prevChildren:P})}if(!U_(P,b.prevChildren)){var X,U,W,J,ie=Gn(P,Pl),ee=ie&&(X=(U=ie.props)===null||U===void 0?void 0:U.startIndex)!==null&&X!==void 0?X:O,ae=ie&&(W=(J=ie.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:k,Se=ee!==O||ae!==k,De=!Pe(S),et=De&&!Se?b.updateId:b.updateId+1;return H(H({updateId:et},g(H(H({props:v},b),{},{updateId:et,dataStartIndex:ee,dataEndIndex:ae}),b)),{},{prevChildren:P,dataStartIndex:ee,dataEndIndex:ae})}return null}),pe(y,"renderActiveDot",function(v,b,x){var S;return $.isValidElement(v)?S=$.cloneElement(v,b):Te(v)?S=v(b):S=F.createElement(fT,b),F.createElement(dt,{className:"recharts-active-dot",key:x},S)});var w=$.forwardRef(function(b,x){return F.createElement(y,Ua({},b,{ref:x}))});return w.displayName=y.displayName,w},bSe=wSe({chartName:"AreaChart",GraphicalChild:Yo,axisComponents:[{axisType:"xAxis",AxisComp:fy},{axisType:"yAxis",AxisComp:hy}],formatAxisMap:fxe});const xSe={evaluationDate:new Date().toISOString().split("T")[0],profession:"",maritalStatus:"",goals:{hypertrophy:!1,fatLoss:!1,conditioning:!1,qualityOfLife:!1,rehabilitation:!1},clinicalHistory:{cardiovascular:"",metabolic:"",respiratory:"",osteoarticular:"",medications:"",others:""},lifestyle:{smoking:"",alcohol:"",physicalActivityLevel:"",sleepHours:"",stressLevel:"",hydration:""}};function ESe({user:t,onComplete:e}){const[n,r]=$.useState(xSe),[i,o]=$.useState(!1),s=(u,c,d)=>{r(h=>({...h,[u]:{...h[u],[c]:d}}))},a=(u,c)=>{r(d=>({...d,[u]:c}))},l=async u=>{u.preventDefault(),o(!0);try{await yl(Bt(Ne,"users",t.uid,"anamnesis"),n),await wg(pn(Ne,"users",t.uid),{hasCompletedAnamnesis:!0}),e()}catch(c){console.error("Error saving anamnesis:",c),alert("Ocorreu um erro ao salvar suas informaes.")}finally{o(!1)}};return _.jsx("div",{className:"fixed inset-0 bg-zinc-950 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-2xl h-full bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl flex flex-col",children:[_.jsxs("div",{className:"p-6 border-b border-zinc-800",children:[_.jsx("h1",{className:"text-2xl font-bold text-white",children:"Questionrio Inicial"}),_.jsxs("p",{className:"text-zinc-400 text-sm",children:["Ol, ",t.name,"! Por favor, preencha este formulrio para comearmos."]})]}),_.jsxs("form",{onSubmit:l,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[_.jsx(ph,{legend:"Informaes Pessoais",children:_.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[_.jsx(ga,{label:"Data da Avaliao",type:"date",value:n.evaluationDate,onChange:u=>a("evaluationDate",u.target.value)}),_.jsx(ga,{label:"Profisso",value:n.profession,onChange:u=>a("profession",u.target.value)}),_.jsx(ga,{label:"Estado Civil",value:n.maritalStatus,onChange:u=>a("maritalStatus",u.target.value)})]})}),_.jsx(ph,{legend:"Seus Objetivos",children:_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[_.jsx(Hu,{label:"Hipertrofia",checked:n.goals.hypertrophy,onChange:u=>s("goals","hypertrophy",u.target.checked)}),_.jsx(Hu,{label:"Emagrecimento",checked:n.goals.fatLoss,onChange:u=>s("goals","fatLoss",u.target.checked)}),_.jsx(Hu,{label:"Condicionamento",checked:n.goals.conditioning,onChange:u=>s("goals","conditioning",u.target.checked)}),_.jsx(Hu,{label:"Qualidade de Vida",checked:n.goals.qualityOfLife,onChange:u=>s("goals","qualityOfLife",u.target.checked)}),_.jsx(Hu,{label:"Reabilitao",checked:n.goals.rehabilitation,onChange:u=>s("goals","rehabilitation",u.target.checked)})]})}),_.jsxs(ph,{legend:"Histrico Clnico",children:[_.jsx(ya,{label:"Problemas Cardiovasculares (Pessoal e Familiar)",value:n.clinicalHistory.cardiovascular,onChange:u=>s("clinicalHistory","cardiovascular",u.target.value)}),_.jsx(ya,{label:"Problemas Metablicos (Diabetes, Colesterol)",value:n.clinicalHistory.metabolic,onChange:u=>s("clinicalHistory","metabolic",u.target.value)}),_.jsx(ya,{label:"Problemas Respiratrios",value:n.clinicalHistory.respiratory,onChange:u=>s("clinicalHistory","respiratory",u.target.value)}),_.jsx(ya,{label:"Leses ou Dores Osteoarticulares",value:n.clinicalHistory.osteoarticular,onChange:u=>s("clinicalHistory","osteoarticular",u.target.value)}),_.jsx(ya,{label:"Medicamentos em Uso Contnuo",value:n.clinicalHistory.medications,onChange:u=>s("clinicalHistory","medications",u.target.value)}),_.jsx(ya,{label:"Outras Condies (Labirintite, Alergias, etc.)",value:n.clinicalHistory.others,onChange:u=>s("clinicalHistory","others",u.target.value)})]}),_.jsx(ph,{legend:"Estilo de Vida e Hbitos",children:_.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[_.jsxs(Qv,{label:"Tabagismo",value:n.lifestyle.smoking,onChange:u=>s("lifestyle","smoking",u.target.value),children:[_.jsx("option",{value:"",children:"Selecione..."}),_.jsx("option",{value:"non-smoker",children:"No fumante"}),_.jsx("option",{value:"ex-smoker",children:"Ex-fumante"}),_.jsx("option",{value:"smoker",children:"Fumante"})]}),_.jsx(ga,{label:"Consumo de lcool (frequncia)",value:n.lifestyle.alcohol,onChange:u=>s("lifestyle","alcohol",u.target.value)}),_.jsxs(Qv,{label:"Nvel de Atividade Fsica",value:n.lifestyle.physicalActivityLevel,onChange:u=>s("lifestyle","physicalActivityLevel",u.target.value),children:[_.jsx("option",{value:"",children:"Selecione..."}),_.jsx("option",{value:"sedentary",children:"Sedentrio"}),_.jsx("option",{value:"moderately_active",children:"Moderadamente Ativo"}),_.jsx("option",{value:"active",children:"Ativo"})]}),_.jsx(ga,{label:"Horas de Sono por noite",value:n.lifestyle.sleepHours,onChange:u=>s("lifestyle","sleepHours",u.target.value)}),_.jsxs(Qv,{label:"Nvel de Estresse",value:n.lifestyle.stressLevel,onChange:u=>s("lifestyle","stressLevel",u.target.value),children:[_.jsx("option",{value:"",children:"Selecione..."}),_.jsx("option",{value:"low",children:"Baixo"}),_.jsx("option",{value:"medium",children:"Mdio"}),_.jsx("option",{value:"high",children:"Alto"})]}),_.jsx(ga,{label:"Consumo dirio de gua (litros)",value:n.lifestyle.hydration,onChange:u=>s("lifestyle","hydration",u.target.value)})]})})]}),_.jsx("div",{className:"p-6 border-t border-zinc-800",children:_.jsx("button",{onClick:l,disabled:i,className:"w-full bg-emerald-500 hover:bg-emerald-400 text-black font-bold py-3 rounded-lg transition-all active:scale-95 disabled:opacity-50",children:i?"SALVANDO...":"SALVAR E CONTINUAR"})})]})})}const ph=({legend:t,children:e})=>_.jsxs("fieldset",{className:"border border-zinc-800 p-4 rounded-lg",children:[_.jsx("legend",{className:"px-2 text-sm font-medium text-emerald-400",children:t}),_.jsx("div",{className:"space-y-4",children:e})]}),ga=({label:t,...e})=>_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:t}),_.jsx("input",{...e,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-sm focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none"})]}),ya=({label:t,...e})=>_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:t}),_.jsx("textarea",{...e,rows:2,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-sm resize-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none"})]}),Qv=({label:t,children:e,...n})=>_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:t}),_.jsx("select",{...n,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-sm focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none",children:e})]}),Hu=({label:t,...e})=>_.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg bg-zinc-800 border border-transparent has-[:checked]:border-emerald-500 has-[:checked]:bg-emerald-900/50 cursor-pointer",children:[_.jsx("input",{type:"checkbox",...e,className:"w-4 h-4 rounded bg-zinc-700 border-zinc-600 text-emerald-500 focus:ring-emerald-600"}),_.jsx("span",{className:"text-sm font-medium",children:t})]}),Zv=({icon:t,label:e,active:n,onClick:r})=>_.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 transition-colors ${n?"text-emerald-400":"text-zinc-500 hover:text-white"}`,children:[_.jsx("i",{className:`ph ${n?"ph-fill":"ph"} ph-${t} text-2xl`}),_.jsx("span",{className:"text-xs font-medium",children:e})]}),e0=({title:t,data:e})=>_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl",children:[_.jsx("h3",{className:"font-bold text-emerald-400 mb-2",children:t}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:Object.entries(e).map(([n,r])=>_.jsxs("div",{children:[_.jsxs("span",{className:"text-zinc-400 capitalize",children:[n.replace(/([A-Z])/g," $1"),": "]}),_.jsx("span",{className:"font-semibold text-white",children:String(r)})]},n))})]}),TSe=({onSave:t,onClose:e,duration:n})=>{const[r,i]=$.useState(5),[o,s]=$.useState("");return _.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-lg font-bold mb-1",children:"Registrar Treino"}),_.jsxs("p",{className:"text-zinc-400 text-sm mb-4",children:["Durao total: ",_.jsx("span",{className:"font-bold text-emerald-400",children:n})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Percepo de Esforo (RPE 1-10)"}),_.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:a=>i(Number(a.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),_.jsx("div",{className:"text-center font-bold text-emerald-400 mt-1",children:r})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Comentrios (opcional)"}),_.jsx("textarea",{value:o,onChange:a=>s(a.target.value),rows:3,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-sm"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:e,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 font-bold py-3 rounded-lg",children:"Cancelar"}),_.jsx("button",{onClick:()=>t(r,o),className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-black font-bold py-3 rounded-lg",children:"Salvar"})]})]})]})})},SSe=({onSave:t,onClose:e,logData:n})=>{const[r,i]=$.useState(5),[o,s]=$.useState(""),[a,l]=$.useState("");return _.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-lg font-bold mb-1",children:"Registrar Corrida"}),_.jsxs("p",{className:"text-zinc-400 text-sm mb-4",children:[n.day,": ",_.jsx("span",{className:"text-white",children:n.workout})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Durao (HH:MM:SS)"}),_.jsx("input",{type:"text",value:a,onChange:u=>l(u.target.value),placeholder:"00:45:30",className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Percepo de Esforo (RPE 1-10)"}),_.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:u=>i(Number(u.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),_.jsx("div",{className:"text-center font-bold text-emerald-400 mt-1",children:r})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Comentrios (opcional)"}),_.jsx("textarea",{value:o,onChange:u=>s(u.target.value),rows:2,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-sm"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:e,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 font-bold py-3 rounded-lg",children:"Cancelar"}),_.jsx("button",{onClick:()=>t(r,o,a),className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-black font-bold py-3 rounded-lg",children:"Salvar"})]})]})]})})},ASe=({isActive:t,duration:e,onAdd:n,onSkip:r,onComplete:i})=>{const[o,s]=$.useState(e);return $.useEffect(()=>{s(e)},[e,t]),$.useEffect(()=>{let a;return t&&o>0&&(a=setInterval(()=>{s(l=>l<=1?(clearInterval(a),i(),0):l-1)},1e3)),()=>clearInterval(a)},[t,o,i]),t?_.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-black via-zinc-900 to-zinc-900/95 backdrop-blur-lg border-t border-emerald-500/30 p-6 pb-8 z-[60] shadow-[0_-5px_20px_rgba(0,0,0,0.5)] animate-slide-up",children:_.jsxs("div",{className:"max-w-md mx-auto flex flex-col items-center",children:[_.jsx("div",{className:"text-zinc-400 text-xs uppercase tracking-widest font-bold mb-2",children:"Descanso"}),_.jsxs("div",{className:"text-5xl font-mono font-bold text-white mb-6 tabular-nums tracking-tighter",children:[Math.floor(o/60).toString().padStart(2,"0"),":",Math.floor(o%60).toString().padStart(2,"0")]}),_.jsxs("div",{className:"flex gap-3 w-full",children:[_.jsx("button",{onClick:()=>n(15),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-xl font-bold text-sm transition-colors border border-zinc-700",children:"+15s"}),_.jsx("button",{onClick:()=>n(30),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-xl font-bold text-sm transition-colors border border-zinc-700",children:"+30s"}),_.jsx("button",{onClick:r,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-black py-3 rounded-xl font-bold text-sm transition-colors shadow-lg shadow-emerald-900/20",children:"Pular"})]})]})}):null},ISe=({item:t,sessionData:e,onUpdateSet:n})=>{const r=parseInt(t.displayString.split("x")[0])||3,i=e[t.id]||Array(r).fill({weight:"",completed:!1}),s=i.filter(a=>a.completed).length/r*100;return _.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden mb-4 shadow-lg",children:[_.jsxs("div",{className:"flex p-4 gap-4 bg-zinc-950/30",children:[t.img?_.jsx("img",{src:t.img,className:"w-20 h-20 rounded-lg object-cover bg-black border border-zinc-800",alt:t.exercise}):_.jsx("div",{className:"w-20 h-20 rounded-lg bg-zinc-800 flex items-center justify-center text-zinc-600",children:_.jsx("i",{className:"ph-fill ph-barbell text-3xl"})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-xs text-emerald-500 font-bold uppercase tracking-wider mb-1",children:t.target}),_.jsx("h3",{className:"font-bold text-lg leading-tight text-white mb-1 truncate",children:t.exercise}),_.jsx("div",{className:"text-zinc-400 text-sm",children:t.displayString}),t.notes&&_.jsx("div",{className:"text-xs text-zinc-500 mt-1 italic line-clamp-2",children:t.notes})]})]}),_.jsx("div",{className:"h-1 w-full bg-zinc-800",children:_.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${s}%`}})}),_.jsxs("div",{className:"p-4 space-y-2",children:[_.jsxs("div",{className:"flex text-xs text-zinc-500 font-medium px-2 mb-1",children:[_.jsx("div",{className:"w-10 text-center",children:"Srie"}),_.jsx("div",{className:"flex-1 text-center",children:"Carga (kg)"}),_.jsx("div",{className:"w-16 text-center",children:"Status"})]}),i.map((a,l)=>_.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg transition-colors ${a.completed?"bg-emerald-900/10 border border-emerald-500/20":"bg-zinc-950 border border-zinc-800"}`,children:[_.jsx("div",{className:"w-10 text-center font-bold text-zinc-400",children:l+1}),_.jsx("input",{type:"number",placeholder:"kg",value:a.weight,onChange:u=>n(t.id,l,{weight:u.target.value}),className:`flex-1 bg-transparent text-center font-bold outline-none ${a.completed?"text-emerald-400":"text-white"}`,disabled:a.completed}),_.jsx("button",{onClick:()=>n(t.id,l,{completed:!a.completed}),className:`w-16 h-8 rounded-md flex items-center justify-center transition-all ${a.completed?"bg-emerald-500 text-black shadow-[0_0_10px_rgba(16,185,129,0.3)]":"bg-zinc-800 text-zinc-500 hover:bg-zinc-700"}`,children:a.completed?_.jsx("i",{className:"ph-fill ph-check-circle text-xl"}):_.jsx("i",{className:"ph ph-circle text-xl"})})]},l))]})]})},CSe=({userUid:t,workout:e,onClose:n})=>{const[r,i]=$.useState({}),[o]=$.useState(Date.now()),[s,a]=$.useState("00:00:00"),[l,u]=$.useState(!1),[c,d]=$.useState({active:!1,duration:60});$.useEffect(()=>{const y={};e.items.forEach(w=>{if(w.type==="exercise"){const v=parseInt(w.displayString.split("x")[0])||3;y[w.id]=Array(v).fill({weight:"",completed:!1})}}),i(y)},[e]),$.useEffect(()=>{const y=setInterval(()=>a(new Date(Math.floor((Date.now()-o)/1e3)*1e3).toISOString().substr(11,8)),1e3);return()=>clearInterval(y)},[o]);const h=(y,w,v)=>{i(b=>{const x=[...b[y]||[]],S=x[w].completed;if(x[w]={...x[w],...v},v.completed===!0&&!S){const P=e.items.find(C=>C.id===y),E=(P==null?void 0:P.timerValue)||60;d({active:!0,duration:E})}return{...b,[y]:x}})},g=async(y,w)=>{let v=`${w}

Resumo de Cargas:
`;e.items.forEach(b=>{if(b.type==="exercise"&&r[b.id]){const S=r[b.id].map((P,E)=>P.weight?`S${E+1}:${P.weight}kg`:null).filter(Boolean).join(", ");S&&(v+=`- ${b.exercise}: [${S}]
`)}});try{await yl(Bt(Ne,"users",t,"history"),{date:new Date().toISOString(),workoutName:e.id,duration:s,rpe:y,comment:v}),n()}catch(b){console.error(b),alert("Erro ao salvar treino.")}};return _.jsxs("div",{className:"animate-fade-in relative",children:[l&&_.jsx(TSe,{onClose:()=>u(!1),onSave:g,duration:s}),_.jsx("div",{className:"sticky top-16 z-30 bg-zinc-950/95 backdrop-blur border-b border-zinc-800 pb-4 pt-2 mb-4 px-1",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:e.id}),_.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 font-mono text-sm",children:[_.jsx("i",{className:"ph-fill ph-timer"}),s]})]}),_.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-zinc-900 border border-zinc-800 flex items-center justify-center text-zinc-400 hover:text-white hover:bg-zinc-800",children:_.jsx("i",{className:"ph ph-x text-xl"})})]})}),_.jsx("div",{className:"space-y-6 pb-32 px-1",children:e.items.map(y=>y.type==="header"?_.jsxs("div",{className:"relative py-4",children:[_.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:_.jsx("div",{className:"w-full border-t border-zinc-800"})}),_.jsx("div",{className:"relative flex justify-center",children:_.jsx("span",{className:"bg-zinc-950 px-4 text-sm font-bold text-emerald-500 uppercase tracking-widest",children:y.label})})]},y.id):_.jsx(ISe,{item:y,sessionData:r,onUpdateSet:h},y.id))}),_.jsx("div",{className:"fixed bottom-20 right-4 z-40",children:_.jsxs("button",{onClick:()=>u(!0),className:"bg-emerald-500 hover:bg-emerald-400 text-black font-bold py-3 px-6 rounded-full shadow-[0_0_20px_rgba(16,185,129,0.4)] flex items-center gap-2 transition-transform active:scale-95",children:[_.jsx("i",{className:"ph-fill ph-check-circle text-xl"}),"Finalizar"]})}),_.jsx(ASe,{isActive:c.active,duration:c.duration,onAdd:y=>d(w=>({...w,duration:w.duration+y})),onSkip:()=>d(y=>({...y,active:!1})),onComplete:()=>d(y=>({...y,active:!1}))})]})},PSe=({userUid:t,plan:e,onClose:n})=>{const[r,i]=$.useState(0),[o,s]=$.useState(!1),[a,l]=$.useState(null),u=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],c=new Date().getDay(),[d,h]=$.useState(u[c]),g=(S,P,E)=>{const C=typeof E=="string"?E:E.type;l({week:S,day:P,workout:C||"Corrida Livre"}),s(!0)},y=async(S,P,E)=>{if(a)try{await yl(Bt(Ne,"users",t,"history"),{date:new Date().toISOString(),workoutName:`Corrida: ${a.day}`,duration:E,rpe:S,comment:P}),s(!1),l(null)}catch(C){console.error(C),alert("Erro ao salvar corrida.")}},w=e.weeks[r],v={monday:"Segunda",tuesday:"Tera",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sbado",sunday:"Domingo"},b={monday:"SEG",tuesday:"TER",wednesday:"QUA",thursday:"QUI",friday:"SEX",saturday:"SAB",sunday:"DOM"},x=w.days[d];return _.jsxs("div",{className:"animate-fade-in pb-20",children:[o&&_.jsx(SSe,{onSave:y,onClose:()=>s(!1),logData:a}),_.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-16 bg-zinc-950 z-20 pt-2 pb-2 border-b border-zinc-800",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold",children:e.name}),_.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[_.jsx("button",{disabled:r===0,onClick:()=>i(S=>S-1),className:"hover:text-white disabled:opacity-30",children:_.jsx("i",{className:"ph ph-caret-left"})}),_.jsx("span",{children:w.weekLabel}),_.jsx("button",{disabled:r===e.weeks.length-1,onClick:()=>i(S=>S+1),className:"hover:text-white disabled:opacity-30",children:_.jsx("i",{className:"ph ph-caret-right"})})]})]}),_.jsx("button",{onClick:n,className:"text-zinc-400 hover:text-white bg-zinc-900 w-10 h-10 rounded-full flex items-center justify-center border border-zinc-800",children:_.jsx("i",{className:"ph ph-x text-xl"})})]}),_.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-2 no-scrollbar",children:u.map((S,P)=>{const E=S===d,C=!!w.days[S];return _.jsxs("button",{onClick:()=>h(S),className:`flex flex-col items-center justify-center min-w-[3.5rem] h-14 rounded-xl border transition-all ${E?"bg-emerald-500 text-black border-emerald-500 font-bold":"bg-zinc-900 text-zinc-500 border-zinc-800"} ${C&&!E?"border-zinc-600 text-zinc-300":""}`,children:[_.jsx("span",{className:"text-[10px] uppercase",children:b[S]}),C&&_.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-1 ${E?"bg-black":"bg-emerald-500"}`})]},S)})}),_.jsx("div",{className:"min-h-[300px]",children:x?_.jsx(RSe,{dayLabel:v[d],workout:x,onLog:()=>g(w.weekLabel,v[d],x)}):_.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-zinc-500 border-2 border-dashed border-zinc-800 rounded-xl bg-zinc-900/30",children:[_.jsx("i",{className:"ph ph-coffee text-4xl mb-3"}),_.jsx("p",{className:"text-lg font-medium",children:"Dia de Descanso"}),_.jsx("p",{className:"text-sm",children:"Aproveite para recuperar as energias."})]})})]})},RSe=({dayLabel:t,workout:e,onLog:n})=>{const[r,i]=$.useState([]),[o,s]=$.useState([]);$.useEffect(()=>{let d="";if(typeof e=="string")d=e;else{const v=[];e.warmup&&v.push(`Aquecimento: ${e.warmup}`),e.main&&v.push(`Principal: ${e.main}`),e.cooldown&&v.push(`Desaquecimento: ${e.cooldown}`),d=v.join(" + ")}const h=/\n|[+\/]|(?:\s+e\s+)/i,g=d.split(h).map(v=>v.trim()).filter(v=>v.length>0),y=[],w=/^(\d+)\s*x\s*(.+)/i;g.forEach(v=>{const b=v.match(w);if(b){const x=parseInt(b[1]),S=b[2];for(let P=1;P<=x;P++)y.push(`${S} (${P}/${x})`)}else y.push(v)}),s(y),i(new Array(y.length).fill(!1))},[e]);const a=d=>{const h=[...r];h[d]=!h[d],i(h)},l=typeof e!="string",u=l?e.type:"Treino do Dia",c=Math.round(r.filter(Boolean).length/o.length*100)||0;return _.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden shadow-lg animate-slide-up",children:[_.jsx("div",{className:"p-6 pb-4 bg-gradient-to-br from-zinc-800 to-zinc-900 border-b border-zinc-700",children:_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-sm font-bold text-emerald-400 uppercase tracking-wider mb-1",children:t}),_.jsx("h3",{className:"text-2xl font-bold text-white leading-tight",children:u}),l&&e.zone&&_.jsxs("span",{className:"inline-block mt-2 text-xs font-mono bg-black/40 text-zinc-300 px-2 py-1 rounded",children:["Zona Alvo: ",_.jsx("span",{className:"text-emerald-400 font-bold",children:e.zone})]})]}),_.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400 border border-emerald-500/20",children:_.jsx("i",{className:"ph-fill ph-person-simple-run text-2xl"})})]})}),_.jsx("div",{className:"p-2 bg-zinc-950",children:_.jsx("div",{className:"h-1 w-full bg-zinc-800 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${c}%`}})})}),_.jsx("div",{className:"p-4 space-y-3",children:o.map((d,h)=>_.jsxs("button",{onClick:()=>a(h),className:`w-full text-left p-4 rounded-xl border transition-all flex items-start gap-4 ${r[h]?"bg-emerald-900/10 border-emerald-500/30":"bg-zinc-950 border-zinc-800 hover:border-zinc-700"}`,children:[_.jsx("div",{className:`mt-0.5 w-6 h-6 rounded-full border flex items-center justify-center shrink-0 transition-colors ${r[h]?"bg-emerald-500 border-emerald-500 text-black":"border-zinc-600 text-transparent"}`,children:_.jsx("i",{className:"ph-bold ph-check text-sm"})}),_.jsx("span",{className:`text-sm leading-relaxed ${r[h]?"text-zinc-500 line-through":"text-zinc-200"}`,children:d})]},h))}),_.jsx("div",{className:"p-4 pt-2",children:_.jsxs("button",{onClick:n,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-black font-bold py-4 rounded-xl shadow-lg shadow-emerald-900/20 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[_.jsx("i",{className:"ph-bold ph-check-circle text-xl"}),"Concluir Treino"]})})]})},NSe=({assessments:t,onClose:e})=>{var i;const[n,r]=$.useState(null);return n?_.jsxs("div",{className:"animate-fade-in",children:[_.jsxs("button",{onClick:()=>r(null),className:"flex items-center gap-2 text-sm text-emerald-400 hover:text-emerald-300 mb-4",children:[_.jsx("i",{className:"ph ph-arrow-left"})," Voltar"]}),_.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Avaliao de ",new Date(n.date).toLocaleDateString("pt-BR")]}),_.jsxs("div",{className:"space-y-4",children:[n.anthropometry&&_.jsx(e0,{title:"Antropometria",data:{Peso:`${n.anthropometry.weight} kg`,Altura:`${n.anthropometry.height} m`,IMC:(i=n.anthropometry.bmi)==null?void 0:i.toFixed(2)}}),n.perimetry&&_.jsx(e0,{title:"Permetros (cm)",data:n.perimetry}),n.skinfolds&&_.jsx(e0,{title:"Dobras Cutneas (mm)",data:n.skinfolds})]})]}):_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Suas Avaliaes"}),t.length===0&&_.jsx("p",{className:"text-zinc-500",children:"Nenhuma avaliao fsica registrada."}),_.jsx("div",{className:"space-y-3",children:t.map(o=>_.jsxs("button",{onClick:()=>r(o),className:"w-full text-left bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex justify-between items-center hover:border-emerald-500",children:[_.jsxs("span",{className:"font-bold",children:["Avaliao de ",new Date(o.date).toLocaleDateString("pt-BR")]}),_.jsx("i",{className:"ph ph-caret-right"})]},o.id))})]})};function OSe({user:t,onLogout:e}){const[n,r]=$.useState(t),[i,o]=$.useState(!t.hasCompletedAnamnesis);return i?_.jsx(ESe,{user:n,onComplete:()=>{o(!1),r(s=>({...s,hasCompletedAnamnesis:!0}))}}):_.jsx(kSe,{Shelluser:n,onLogout:e})}const kSe=({Shelluser:t,onLogout:e})=>{const[n,r]=$.useState(t),[i,o]=$.useState("main"),[s,a]=$.useState([]),[l,u]=$.useState([]),[c,d]=$.useState([]),[h,g]=$.useState([]),[y,w]=$.useState(null),[v,b]=$.useState(null),[x,S]=$.useState(null);$.useEffect(()=>{if(!n.uid)return;const C=fs(pn(Ne,"users",n.uid),k=>{k.exists&&r({uid:k.id,...k.data()})},k=>console.error("Error fetching user document:",k)),T=fs(Bt(Ne,"users",n.uid,"workouts"),k=>a(k.docs.map(M=>({id:M.id,...M.data()}))),k=>console.error("Error fetching workouts:",k)),I=fs(Bt(Ne,"users",n.uid,"runningPlans"),k=>u(k.docs.map(M=>({id:M.id,...M.data()}))),k=>console.error("Error fetching running plans:",k)),R=fs(hs(Bt(Ne,"users",n.uid,"history"),Da("date","desc")),k=>d(k.docs.map(M=>({id:M.id,...M.data()}))),k=>console.error("Error fetching history:",k)),O=fs(hs(Bt(Ne,"users",n.uid,"assessments"),Da("date","desc")),k=>g(k.docs.map(M=>({id:M.id,...M.data()}))),k=>console.error("Error fetching assessments:",k));return()=>{C(),T(),I(),R(),O()}},[n.uid]),$.useEffect(()=>{if(!Lh)return;(async()=>{try{if(!("Notification"in window)){console.log("Desktop notifications not supported in this browser/environment");return}if(await Notification.requestPermission()==="granted"){const R=await H9(Lh).catch(()=>null);R&&await wg(pn(Ne,"users",n.uid),{fcmToken:R})}}catch(I){console.error("Error with notifications",I)}})();const T=W9(Lh,I=>{I.notification&&(S({title:I.notification.title||"Nova Mensagem",body:I.notification.body||""}),setTimeout(()=>S(null),5e3))});return()=>T()},[n.uid]);const P=[...c].sort((C,T)=>new Date(C.date).getTime()-new Date(T.date).getTime()).slice(-7).map(C=>{var I;const T=(I=C.duration)!=null&&I.includes(":")?C.duration.split(":").map(Number).reduce((R,O)=>60*R+O,0)/60:parseFloat(C.duration)||0;return{date:new Date(C.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),rpe:Number(C.rpe)||0,duration:parseFloat(T.toFixed(1))}}),E=()=>{var C;return i==="workout"&&y?_.jsx(CSe,{userUid:n.uid,workout:y,onClose:()=>o("main")}):i==="plan"&&v?_.jsx(PSe,{userUid:n.uid,plan:v,onClose:()=>o("main")}):i==="assessments"?_.jsx(NSe,{assessments:h,onClose:()=>o("main")}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("h1",{className:"text-xl font-bold",children:["Ol, ",_.jsx("span",{className:"text-emerald-400",children:((C=n.name)==null?void 0:C.split(" ")[0])||n.email}),"!"]}),_.jsx("p",{className:"text-zinc-500 text-sm",children:"Selecione sua atividade de hoje."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.map(T=>_.jsxs("button",{onClick:()=>{w(T),o("workout")},className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 text-center hover:border-emerald-500 transition-colors",children:[_.jsx("i",{className:"ph ph-barbell text-2xl text-emerald-400"}),_.jsx("div",{className:"font-semibold text-white mt-2",children:T.id}),_.jsxs("div",{className:"text-xs text-zinc-500",children:[T.items.filter(I=>I.type==="exercise").length," Exerccios"]})]},T.id)),l.map(T=>_.jsxs("button",{onClick:()=>{b(T),o("plan")},className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 text-center hover:border-emerald-500 transition-colors",children:[_.jsx("i",{className:"ph ph-person-simple-run text-2xl text-emerald-400"}),_.jsx("div",{className:"font-semibold text-white mt-2",children:T.name}),_.jsxs("div",{className:"text-xs text-zinc-500",children:[T.weeks.length," Semanas"]})]},T.id)),s.length===0&&l.length===0&&_.jsx("div",{className:"col-span-2 text-center text-zinc-500 py-10",children:"Nenhum treino disponvel."})]}),P.length>0&&_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"text-lg font-bold",children:"Sua Evoluo Recente"}),_.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4 h-64 w-full",children:_.jsx(qfe,{width:"100%",height:"100%",children:_.jsxs(bSe,{data:P,children:[_.jsx(lU,{strokeDasharray:"3 3",stroke:"#27272a"}),_.jsx(fy,{dataKey:"date",stroke:"#71717a",fontSize:10}),_.jsx(hy,{stroke:"#71717a",fontSize:10,domain:["dataMin - 1","dataMax + 1"]}),_.jsx(Gr,{contentStyle:{backgroundColor:"#18181b",borderColor:"#27272a"}}),_.jsx(Yo,{type:"monotone",dataKey:"rpe",stroke:"#10b981",fill:"#10b981",fillOpacity:.2,name:"RPE"})]})})})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-bold",children:"Histrico"}),c.slice(0,5).map(T=>_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl my-2 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:T.workoutName}),_.jsx("div",{className:"text-xs text-zinc-500",children:new Date(T.date).toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"short"})})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-emerald-400",children:T.duration}),_.jsxs("div",{className:"text-xs text-zinc-500",children:["RPE ",T.rpe]})]})]},T.id)),c.length===0&&_.jsx("p",{className:"text-zinc-500 text-sm",children:"Nenhum treino registrado."})]})]})};return _.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col",children:[_.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-zinc-900/80 backdrop-blur border-b border-zinc-800 flex items-center justify-between px-4 z-50",children:[_.jsxs("div",{className:"font-bold text-lg",children:["Fit",_.jsx("span",{className:"text-emerald-400",children:"Life"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:n.avatar,className:"w-8 h-8 rounded-full border border-emerald-500",alt:""}),_.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-white",children:_.jsx("i",{className:"ph ph-sign-out text-xl"})})]})]}),_.jsx("main",{className:"flex-1 pt-20 p-4 pb-24",children:E()}),_.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 h-16 bg-zinc-900 border-t border-zinc-800 flex justify-around items-center z-40",children:[_.jsx(Zv,{icon:"house",label:"Incio",active:i==="main",onClick:()=>o("main")}),_.jsx(Zv,{icon:"ruler",label:"Avaliaes",active:i==="assessments",onClick:()=>o("assessments")}),_.jsx(Zv,{icon:"user",label:"Perfil",active:!1,onClick:()=>{}})]})]})};function MSe(){const[t,e]=$.useState("login"),[n,r]=$.useState(null),[i,o]=$.useState(!0);$.useEffect(()=>{const l=Z9(Xa,async u=>{if(u){const c=pn(Ne,"users",u.uid),d=await o2(c);if(d.exists){const h={uid:u.uid,...d.data()};r(h),e("dashboard")}else await BI(Xa),r(null),e("login")}else r(null),e("login");o(!1)});return()=>l()},[]);const s=l=>{r(l),e("dashboard")},a=async()=>{await BI(Xa),r(null),e("login")};return i?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 text-emerald-400",children:_.jsx("div",{className:"animate-spin text-4xl",children:_.jsx("i",{className:"ph ph-spinner"})})}):_.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white selection:bg-emerald-500/30 selection:text-emerald-200",children:[t==="login"&&_.jsx(eW,{onLoginSuccess:s,onNavigateRegister:()=>e("register")}),t==="register"&&_.jsx(tW,{onNavigateLogin:()=>e("login")}),t==="dashboard"&&n&&_.jsx(_.Fragment,{children:n.workoutType==="admin"||n.workoutType==="trainer"?_.jsx(AQ,{user:n,onLogout:a}):_.jsx(OSe,{user:n,onLogout:a})})]})}const IU=document.getElementById("root");if(!IU)throw new Error("Could not find root element to mount to");const DSe=t0.createRoot(IU);DSe.render(_.jsx(F.StrictMode,{children:_.jsx(MSe,{})}));
